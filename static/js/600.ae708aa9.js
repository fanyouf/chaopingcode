/*!
 *  build: Vue  Admin Plus
 *  copyright: vue-admin-beautiful.com
 *  time: 2023-08-24 04:08:38
 */
(self["webpackChunkadmin_plus"]=self["webpackChunkadmin_plus"]||[]).push([[600],{59782:function(t,e){!function(e,n){t.exports=n()}(window,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=215)}([function(t,e,n){"use strict";n.d(e,"a",(function(){return m})),n.d(e,"b",(function(){return b})),n.d(e,"c",(function(){return z})),n.d(e,"d",(function(){return F})),n.d(e,"e",(function(){return y})),n.d(e,"f",(function(){return g})),n.d(e,"g",(function(){return y})),n.d(e,"h",(function(){return B})),n.d(e,"i",(function(){return o})),n.d(e,"j",(function(){return Z})),n.d(e,"k",(function(){return S}));var r,o,i,a,u,c,s,l={},f=[],p=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function d(t,e){for(var n in e)t[n]=e[n];return t}function h(t){var e=t.parentNode;e&&e.removeChild(t)}function y(t,e,n){var o,i,a,u={};for(a in e)"key"==a?o=e[a]:"ref"==a?i=e[a]:u[a]=e[a];if(arguments.length>2&&(u.children=arguments.length>3?r.call(arguments,2):n),"function"==typeof t&&null!=t.defaultProps)for(a in t.defaultProps)void 0===u[a]&&(u[a]=t.defaultProps[a]);return v(t,u,o,i,null)}function v(t,e,n,r,a){var u={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==a?++i:a};return null==a&&null!=o.vnode&&o.vnode(u),u}function g(){return{current:null}}function b(t){return t.children}function m(t,e){this.props=t,this.context=e}function _(t,e){if(null==e)return t.__?_(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if(null!=(n=t.__k[e])&&null!=n.__e)return n.__e;return"function"==typeof t.type?_(t):null}function O(t){var e,n;if(null!=(t=t.__)&&null!=t.__c){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if(null!=(n=t.__k[e])&&null!=n.__e){t.__e=t.__c.base=n.__e;break}return O(t)}}function w(t){(!t.__d&&(t.__d=!0)&&a.push(t)&&!x.__r++||c!==o.debounceRendering)&&((c=o.debounceRendering)||u)(x)}function x(){for(var t;x.__r=a.length;)t=a.sort((function(t,e){return t.__v.__b-e.__v.__b})),a=[],t.some((function(t){var e,n,r,o,i,a;t.__d&&(i=(o=(e=t).__v).__e,(a=e.__P)&&(n=[],(r=d({},o)).__v=o.__v+1,N(a,o,r,e.__n,void 0!==a.ownerSVGElement,null!=o.__h?[i]:null,n,null==i?_(o):i,o.__h),D(n,o),o.__e!=i&&O(o)))}))}function E(t,e,n,r,o,i,a,u,c,s){var p,d,h,y,g,m,O,w=r&&r.__k||f,x=w.length;for(n.__k=[],p=0;p<e.length;p++)if(null!=(y=n.__k[p]=null==(y=e[p])||"boolean"==typeof y?null:"string"==typeof y||"number"==typeof y||"bigint"==typeof y?v(null,y,null,null,y):Array.isArray(y)?v(b,{children:y},null,null,null):y.__b>0?v(y.type,y.props,y.key,null,y.__v):y)){if(y.__=n,y.__b=n.__b+1,null===(h=w[p])||h&&y.key==h.key&&y.type===h.type)w[p]=void 0;else for(d=0;d<x;d++){if((h=w[d])&&y.key==h.key&&y.type===h.type){w[d]=void 0;break}h=null}N(t,y,h=h||l,o,i,a,u,c,s),g=y.__e,(d=y.ref)&&h.ref!=d&&(O||(O=[]),h.ref&&O.push(h.ref,null,y),O.push(d,y.__c||g,y)),null!=g?(null==m&&(m=g),"function"==typeof y.type&&y.__k===h.__k?y.__d=c=j(y,c,t):c=P(t,y,h,w,g,c),"function"==typeof n.type&&(n.__d=c)):c&&h.__e==c&&c.parentNode!=t&&(c=_(h))}for(n.__e=m,p=x;p--;)null!=w[p]&&("function"==typeof n.type&&null!=w[p].__e&&w[p].__e==n.__d&&(n.__d=_(r,p+1)),R(w[p],w[p]));if(O)for(p=0;p<O.length;p++)I(O[p],O[++p],O[++p])}function j(t,e,n){for(var r,o=t.__k,i=0;o&&i<o.length;i++)(r=o[i])&&(r.__=t,e="function"==typeof r.type?j(r,e,n):P(n,r,r,o,r.__e,e));return e}function S(t,e){return e=e||[],null==t||"boolean"==typeof t||(Array.isArray(t)?t.some((function(t){S(t,e)})):e.push(t)),e}function P(t,e,n,r,o,i){var a,u,c;if(void 0!==e.__d)a=e.__d,e.__d=void 0;else if(null==n||o!=i||null==o.parentNode)t:if(null==i||i.parentNode!==t)t.appendChild(o),a=null;else{for(u=i,c=0;(u=u.nextSibling)&&c<r.length;c+=2)if(u==o)break t;t.insertBefore(o,i),a=i}return void 0!==a?a:o.nextSibling}function M(t,e,n){"-"===e[0]?t.setProperty(e,n):t[e]=null==n?"":"number"!=typeof n||p.test(e)?n:n+"px"}function k(t,e,n,r,o){var i;t:if("style"===e)if("string"==typeof n)t.style.cssText=n;else{if("string"==typeof r&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||M(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||M(t.style,e,n[e])}else if("o"===e[0]&&"n"===e[1])i=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+i]=n,n?r||t.addEventListener(e,i?T:A,i):t.removeEventListener(e,i?T:A,i);else if("dangerouslySetInnerHTML"!==e){if(o)e=e.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if("href"!==e&&"list"!==e&&"form"!==e&&"tabIndex"!==e&&"download"!==e&&e in t)try{t[e]=null==n?"":n;break t}catch(t){}"function"==typeof n||(null!=n&&(!1!==n||"a"===e[0]&&"r"===e[1])?t.setAttribute(e,n):t.removeAttribute(e))}}function A(t){this.l[t.type+!1](o.event?o.event(t):t)}function T(t){this.l[t.type+!0](o.event?o.event(t):t)}function N(t,e,n,r,i,a,u,c,s){var l,f,p,h,y,v,g,_,O,w,x,j=e.type;if(void 0!==e.constructor)return null;null!=n.__h&&(s=n.__h,c=e.__e=n.__e,e.__h=null,a=[c]),(l=o.__b)&&l(e);try{t:if("function"==typeof j){if(_=e.props,O=(l=j.contextType)&&r[l.__c],w=l?O?O.props.value:l.__:r,n.__c?g=(f=e.__c=n.__c).__=f.__E:("prototype"in j&&j.prototype.render?e.__c=f=new j(_,w):(e.__c=f=new m(_,w),f.constructor=j,f.render=L),O&&O.sub(f),f.props=_,f.state||(f.state={}),f.context=w,f.__n=r,p=f.__d=!0,f.__h=[]),null==f.__s&&(f.__s=f.state),null!=j.getDerivedStateFromProps&&(f.__s==f.state&&(f.__s=d({},f.__s)),d(f.__s,j.getDerivedStateFromProps(_,f.__s))),h=f.props,y=f.state,p)null==j.getDerivedStateFromProps&&null!=f.componentWillMount&&f.componentWillMount(),null!=f.componentDidMount&&f.__h.push(f.componentDidMount);else{if(null==j.getDerivedStateFromProps&&_!==h&&null!=f.componentWillReceiveProps&&f.componentWillReceiveProps(_,w),!f.__e&&null!=f.shouldComponentUpdate&&!1===f.shouldComponentUpdate(_,f.__s,w)||e.__v===n.__v){f.props=_,f.state=f.__s,e.__v!==n.__v&&(f.__d=!1),f.__v=e,e.__e=n.__e,e.__k=n.__k,e.__k.forEach((function(t){t&&(t.__=e)})),f.__h.length&&u.push(f);break t}null!=f.componentWillUpdate&&f.componentWillUpdate(_,f.__s,w),null!=f.componentDidUpdate&&f.__h.push((function(){f.componentDidUpdate(h,y,v)}))}f.context=w,f.props=_,f.state=f.__s,(l=o.__r)&&l(e),f.__d=!1,f.__v=e,f.__P=t,l=f.render(f.props,f.state,f.context),f.state=f.__s,null!=f.getChildContext&&(r=d(d({},r),f.getChildContext())),p||null==f.getSnapshotBeforeUpdate||(v=f.getSnapshotBeforeUpdate(h,y)),x=null!=l&&l.type===b&&null==l.key?l.props.children:l,E(t,Array.isArray(x)?x:[x],e,n,r,i,a,u,c,s),f.base=e.__e,e.__h=null,f.__h.length&&u.push(f),g&&(f.__E=f.__=null),f.__e=!1}else null==a&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=C(n.__e,e,n,r,i,a,u,s);(l=o.diffed)&&l(e)}catch(t){e.__v=null,(s||null!=a)&&(e.__e=c,e.__h=!!s,a[a.indexOf(c)]=null),o.__e(t,e,n)}}function D(t,e){o.__c&&o.__c(e,t),t.some((function(e){try{t=e.__h,e.__h=[],t.some((function(t){t.call(e)}))}catch(t){o.__e(t,e.__v)}}))}function C(t,e,n,o,i,a,u,c){var s,f,p,d=n.props,y=e.props,v=e.type,g=0;if("svg"===v&&(i=!0),null!=a)for(;g<a.length;g++)if((s=a[g])&&"setAttribute"in s==!!v&&(v?s.localName===v:3===s.nodeType)){t=s,a[g]=null;break}if(null==t){if(null===v)return document.createTextNode(y);t=i?document.createElementNS("http://www.w3.org/2000/svg",v):document.createElement(v,y.is&&y),a=null,c=!1}if(null===v)d===y||c&&t.data===y||(t.data=y);else{if(a=a&&r.call(t.childNodes),f=(d=n.props||l).dangerouslySetInnerHTML,p=y.dangerouslySetInnerHTML,!c){if(null!=a)for(d={},g=0;g<t.attributes.length;g++)d[t.attributes[g].name]=t.attributes[g].value;(p||f)&&(p&&(f&&p.__html==f.__html||p.__html===t.innerHTML)||(t.innerHTML=p&&p.__html||""))}if(function(t,e,n,r,o){var i;for(i in n)"children"===i||"key"===i||i in e||k(t,i,null,n[i],r);for(i in e)o&&"function"!=typeof e[i]||"children"===i||"key"===i||"value"===i||"checked"===i||n[i]===e[i]||k(t,i,e[i],n[i],r)}(t,y,d,i,c),p)e.__k=[];else if(g=e.props.children,E(t,Array.isArray(g)?g:[g],e,n,o,i&&"foreignObject"!==v,a,u,a?a[0]:n.__k&&_(n,0),c),null!=a)for(g=a.length;g--;)null!=a[g]&&h(a[g]);c||("value"in y&&void 0!==(g=y.value)&&(g!==d.value||g!==t.value||"progress"===v&&!g)&&k(t,"value",g,d.value,!1),"checked"in y&&void 0!==(g=y.checked)&&g!==t.checked&&k(t,"checked",g,d.checked,!1))}return t}function I(t,e,n){try{"function"==typeof t?t(e):t.current=e}catch(t){o.__e(t,n)}}function R(t,e,n){var r,i;if(o.unmount&&o.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||I(r,null,e)),null!=(r=t.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(t){o.__e(t,e)}r.base=r.__P=null}if(r=t.__k)for(i=0;i<r.length;i++)r[i]&&R(r[i],e,"function"!=typeof t.type);n||null==t.__e||h(t.__e),t.__e=t.__d=void 0}function L(t,e,n){return this.constructor(t,n)}function Z(t,e,n){var i,a,u;o.__&&o.__(t,e),a=(i="function"==typeof n)?null:n&&n.__k||e.__k,u=[],N(e,t=(!i&&n||e).__k=y(b,null,[t]),a||l,l,void 0!==e.ownerSVGElement,!i&&n?[n]:a?null:e.firstChild?r.call(e.childNodes):null,u,!i&&n?n:a?a.__e:e.firstChild,i),D(u,t)}function B(t,e){Z(t,e,B)}function z(t,e,n){var o,i,a,u=d({},t.props);for(a in e)"key"==a?o=e[a]:"ref"==a?i=e[a]:u[a]=e[a];return arguments.length>2&&(u.children=arguments.length>3?r.call(arguments,2):n),v(t.type,u,o||t.key,i||t.ref,null)}function F(t,e){var n={__c:e="__cC"+s++,__:t,Consumer:function(t,e){return t.children(e)},Provider:function(t){var n,r;return this.getChildContext||(n=[],(r={})[e]=this,this.getChildContext=function(){return r},this.shouldComponentUpdate=function(t){this.props.value!==t.value&&n.some(w)},this.sub=function(t){n.push(t);var e=t.componentWillUnmount;t.componentWillUnmount=function(){n.splice(n.indexOf(t),1),e&&e.call(t)}}),t.children}};return n.Provider.__=n.Consumer.contextType=n}r=f.slice,o={__e:function(t,e){for(var n,r,o;e=e.__;)if((n=e.__c)&&!n.__)try{if((r=n.constructor)&&null!=r.getDerivedStateFromError&&(n.setState(r.getDerivedStateFromError(t)),o=n.__d),null!=n.componentDidCatch&&(n.componentDidCatch(t),o=n.__d),o)return n.__E=n}catch(e){t=e}throw t}},i=0,m.prototype.setState=function(t,e){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=d({},this.state),"function"==typeof t&&(t=t(d({},n),this.props)),t&&d(n,t),null!=t&&this.__v&&(e&&this.__h.push(e),w(this))},m.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),w(this))},m.prototype.render=b,a=[],u="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,x.__r=0,s=0},function(t,e,n){"use strict";(function(t,r){n.d(e,"a",(function(){return O})),n.d(e,"b",(function(){return on})),n.d(e,"c",(function(){return Xt})),n.d(e,"d",(function(){return xt})),n.d(e,"e",(function(){return ht})),n.d(e,"f",(function(){return dt})),n.d(e,"g",(function(){return wt})),n.d(e,"h",(function(){return bn})),n.d(e,"i",(function(){return at})),n.d(e,"j",(function(){return Ot})),n.d(e,"k",(function(){return te})),n.d(e,"l",(function(){return oe})),n.d(e,"m",(function(){return nt})),n.d(e,"n",(function(){return le})),n.d(e,"o",(function(){return E})),n.d(e,"p",(function(){return Pe})),n.d(e,"q",(function(){return fe})),n.d(e,"r",(function(){return be})),n.d(e,"s",(function(){return gn})),n.d(e,"t",(function(){return he})),n.d(e,"u",(function(){return ne})),n.d(e,"v",(function(){return Oe})),n.d(e,"w",(function(){return we})),n.d(e,"x",(function(){return Ee})),n.d(e,"y",(function(){return en})),n.d(e,"z",(function(){return an})),n.d(e,"A",(function(){return vn})),n.d(e,"B",(function(){return je})),n.d(e,"C",(function(){return q})),n.d(e,"D",(function(){return ke})),n.d(e,"E",(function(){return ce})),n.d(e,"F",(function(){return ue})),n.d(e,"G",(function(){return ee})),n.d(e,"H",(function(){return qt})),n.d(e,"I",(function(){return De})),n.d(e,"J",(function(){return Ie})),n.d(e,"K",(function(){return lt})),n.d(e,"L",(function(){return Se})),n.d(e,"M",(function(){return Re}));var o=[];Object.freeze(o);var i={};function a(){return++It.mobxGuid}function u(t){throw c(!1,t),"X"}function c(t,e){if(!t)throw new Error("[mobx] "+(e||"An invariant failed, however the error is obfuscated because this is a production build."))}function s(t){var e=!1;return function(){if(!e)return e=!0,t.apply(this,arguments)}}Object.freeze(i);var l=function(){};function f(t){return null!==t&&"object"==typeof t}function p(t){if(null===t||"object"!=typeof t)return!1;var e=Object.getPrototypeOf(t);return e===Object.prototype||null===e}function d(t,e,n){Object.defineProperty(t,e,{enumerable:!1,writable:!0,configurable:!0,value:n})}function h(t,e){var n="isMobX"+t;return e.prototype[n]=!0,function(t){return f(t)&&!0===t[n]}}function y(t){return t instanceof Map}function v(t){return t instanceof Set}function g(t){var e=new Set;for(var n in t)e.add(n);return Object.getOwnPropertySymbols(t).forEach((function(n){Object.getOwnPropertyDescriptor(t,n).enumerable&&e.add(n)})),Array.from(e)}function b(t){return t&&t.toString?t.toString():new String(t).toString()}function m(t){return null===t?null:"object"==typeof t?""+t:t}var _="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,O=Symbol("mobx administration"),w=function(){function t(t){void 0===t&&(t="Atom@"+a()),this.name=t,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=J.NOT_TRACKING}return t.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach((function(t){return t()}))},t.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach((function(t){return t()}))},t.prototype.reportObserved=function(){return Ft(this)},t.prototype.reportChanged=function(){Bt(),function(t){t.lowestObserverState!==J.STALE&&(t.lowestObserverState=J.STALE,t.observers.forEach((function(e){e.dependenciesState===J.UP_TO_DATE&&(e.isTracing!==Q.NONE&&Ht(e,t),e.onBecomeStale()),e.dependenciesState=J.STALE})))}(this),zt()},t.prototype.toString=function(){return this.name},t}(),x=h("Atom",w);function E(t,e,n){void 0===e&&(e=l),void 0===n&&(n=l);var r,o=new w(t);return e!==l&&se("onBecomeObserved",o,e,r),n!==l&&ce(o,n),o}var j={identity:function(t,e){return t===e},structural:function(t,e){return _n(t,e)},default:function(t,e){return Object.is(t,e)},shallow:function(t,e){return _n(t,e,1)}},S=function(t,e){return S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},S(t,e)
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */},P=function(){return P=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},P.apply(this,arguments)};function M(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function k(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function A(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(k(arguments[e]));return t}var T=Symbol("mobx did run lazy initializers"),N=Symbol("mobx pending decorators"),D={},C={};function I(t,e){var n=e?D:C;return n[t]||(n[t]={configurable:!0,enumerable:e,get:function(){return R(this),this[t]},set:function(e){R(this),this[t]=e}})}function R(t){var e,n;if(!0!==t[T]){var r=t[N];if(r){d(t,T,!0);var o=A(Object.getOwnPropertySymbols(r),Object.keys(r));try{for(var i=M(o),a=i.next();!a.done;a=i.next()){var u=r[a.value];u.propertyCreator(t,u.prop,u.descriptor,u.decoratorTarget,u.decoratorArguments)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}}}function L(t,e){return function(){var n,r=function(r,o,i,a){if(!0===a)return e(r,o,i,r,n),null;if(!Object.prototype.hasOwnProperty.call(r,N)){var u=r[N];d(r,N,P({},u))}return r[N][o]={prop:o,propertyCreator:e,descriptor:i,decoratorTarget:r,decoratorArguments:n},I(o,t)};return Z(arguments)?(n=o,r.apply(null,arguments)):(n=Array.prototype.slice.call(arguments),r)}}function Z(t){return(2===t.length||3===t.length)&&("string"==typeof t[1]||"symbol"==typeof t[1])||4===t.length&&!0===t[3]}function B(t,e,n){return Ee(t)?t:Array.isArray(t)?q.array(t,{name:n}):p(t)?q.object(t,void 0,{name:n}):y(t)?q.map(t,{name:n}):v(t)?q.set(t,{name:n}):t}function z(t){return t}function F(e){c(e);var n=L(!0,(function(t,n,r,o,i){var a=r?r.initializer?r.initializer.call(t):r.value:void 0;fn(t).addObservableProp(n,a,e)})),r=(void 0!==t&&t.env,n);return r.enhancer=e,r}var H={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function G(t){return null==t?H:"string"==typeof t?{name:t,deep:!0,proxy:!0}:t}Object.freeze(H);var X=F(B),W=F((function(t,e,n){return null==t||vn(t)||en(t)||an(t)||sn(t)?t:Array.isArray(t)?q.array(t,{name:n,deep:!1}):p(t)?q.object(t,void 0,{name:n,deep:!1}):y(t)?q.map(t,{name:n,deep:!1}):v(t)?q.set(t,{name:n,deep:!1}):u(!1)})),U=F(z),Y=F((function(t,e,n){return _n(t,e)?e:t}));function V(t){return t.defaultDecorator?t.defaultDecorator.enhancer:!1===t.deep?z:B}var K={box:function(t,e){arguments.length>2&&$("box");var n=G(e);return new St(t,V(n),n.name,!0,n.equals)},array:function(t,e){arguments.length>2&&$("array");var n=G(e);return qe(t,V(n),n.name)},map:function(t,e){arguments.length>2&&$("map");var n=G(e);return new on(t,V(n),n.name)},set:function(t,e){arguments.length>2&&$("set");var n=G(e);return new cn(t,V(n),n.name)},object:function(t,e,n){"string"==typeof arguments[1]&&$("object");var r=G(n);if(!1===r.proxy)return fe({},t,e,r);var o=pe(r),i=fe({},void 0,void 0,r),a=He(i);return de(a,t,e,o),a},ref:U,shallow:W,deep:X,struct:Y},q=function(t,e,n){if("string"==typeof arguments[1]||"symbol"==typeof arguments[1])return X.apply(null,arguments);if(Ee(t))return t;var r=p(t)?q.object(t,e,n):Array.isArray(t)?q.array(t,e):y(t)?q.map(t,e):v(t)?q.set(t,e):t;if(r!==t)return r;u(!1)};function $(t){u("Expected one or two arguments to observable."+t+". Did you accidentally try to use observable."+t+" as decorator?")}Object.keys(K).forEach((function(t){return q[t]=K[t]}));var J,Q,tt=L(!1,(function(t,e,n,r,o){var i=n.get,a=n.set,u=o[0]||{};fn(t).addComputedProp(t,e,P({get:i,set:a,context:t},u))})),et=tt({equals:j.structural}),nt=function(t,e,n){if("string"==typeof e)return tt.apply(null,arguments);if(null!==t&&"object"==typeof t&&1===arguments.length)return tt.apply(null,arguments);var r="object"==typeof e?e:{};return r.get=t,r.set="function"==typeof e?e:r.set,r.name=r.name||t.name||"",new Mt(r)};nt.struct=et,function(t){t[t.NOT_TRACKING=-1]="NOT_TRACKING",t[t.UP_TO_DATE=0]="UP_TO_DATE",t[t.POSSIBLY_STALE=1]="POSSIBLY_STALE",t[t.STALE=2]="STALE"}(J||(J={})),function(t){t[t.NONE=0]="NONE",t[t.LOG=1]="LOG",t[t.BREAK=2]="BREAK"}(Q||(Q={}));var rt=function(t){this.cause=t};function ot(t){return t instanceof rt}function it(t){switch(t.dependenciesState){case J.UP_TO_DATE:return!1;case J.NOT_TRACKING:case J.STALE:return!0;case J.POSSIBLY_STALE:for(var e=dt(!0),n=ft(),r=t.observing,o=r.length,i=0;i<o;i++){var a=r[i];if(kt(a)){if(It.disableErrorBoundaries)a.get();else try{a.get()}catch(t){return pt(n),ht(e),!0}if(t.dependenciesState===J.STALE)return pt(n),ht(e),!0}}return yt(t),pt(n),ht(e),!1}}function at(){return null!==It.trackingDerivation}function ut(t){var e=t.observers.size>0;It.computationDepth>0&&e&&u(!1),It.allowStateChanges||!e&&"strict"!==It.enforceActions||u(!1)}function ct(t,e,n){var r=dt(!0);yt(t),t.newObserving=new Array(t.observing.length+100),t.unboundDepsCount=0,t.runId=++It.runId;var o,i=It.trackingDerivation;if(It.trackingDerivation=t,!0===It.disableErrorBoundaries)o=e.call(n);else try{o=e.call(n)}catch(t){o=new rt(t)}return It.trackingDerivation=i,function(t){for(var e=t.observing,n=t.observing=t.newObserving,r=J.UP_TO_DATE,o=0,i=t.unboundDepsCount,a=0;a<i;a++)0===(u=n[a]).diffValue&&(u.diffValue=1,o!==a&&(n[o]=u),o++),u.dependenciesState>r&&(r=u.dependenciesState);for(n.length=o,t.newObserving=null,i=e.length;i--;)0===(u=e[i]).diffValue&&Lt(u,t),u.diffValue=0;for(;o--;){var u;1===(u=n[o]).diffValue&&(u.diffValue=0,Rt(u,t))}r!==J.UP_TO_DATE&&(t.dependenciesState=r,t.onBecomeStale())}(t),ht(r),o}function st(t){var e=t.observing;t.observing=[];for(var n=e.length;n--;)Lt(e[n],t);t.dependenciesState=J.NOT_TRACKING}function lt(t){var e=ft();try{return t()}finally{pt(e)}}function ft(){var t=It.trackingDerivation;return It.trackingDerivation=null,t}function pt(t){It.trackingDerivation=t}function dt(t){var e=It.allowStateReads;return It.allowStateReads=t,e}function ht(t){It.allowStateReads=t}function yt(t){if(t.dependenciesState!==J.UP_TO_DATE){t.dependenciesState=J.UP_TO_DATE;for(var e=t.observing,n=e.length;n--;)e[n].lowestObserverState=J.UP_TO_DATE}}var vt=0,gt=1,bt=Object.getOwnPropertyDescriptor((function(){}),"name");function mt(t,e,n){var r=function(){return _t(t,e,n||this,arguments)};return r.isMobxAction=!0,r}function _t(t,e,n,r){var o=Ot(t,n,r);try{return e.apply(n,r)}catch(t){throw o.error=t,t}finally{wt(o)}}function Ot(t,e,n){var r=0,o=ft();Bt();var i={prevDerivation:o,prevAllowStateChanges:Et(!0),prevAllowStateReads:dt(!0),notifySpy:!1,startTime:r,actionId:gt++,parentActionId:vt};return vt=i.actionId,i}function wt(t){vt!==t.actionId&&u("invalid action stack. did you forget to finish an action?"),vt=t.parentActionId,void 0!==t.error&&(It.suppressReactionErrors=!0),jt(t.prevAllowStateChanges),ht(t.prevAllowStateReads),zt(),pt(t.prevDerivation),t.notifySpy,It.suppressReactionErrors=!1}function xt(t,e){var n,r=Et(t);try{n=e()}finally{jt(r)}return n}function Et(t){var e=It.allowStateChanges;return It.allowStateChanges=t,e}function jt(t){It.allowStateChanges=t}bt&&bt.configurable;var St=function(t){function e(e,n,r,o,i){void 0===r&&(r="ObservableValue@"+a()),void 0===o&&(o=!0),void 0===i&&(i=j.default);var u=t.call(this,r)||this;return u.enhancer=n,u.name=r,u.equals=i,u.hasUnreportedChange=!1,u.value=n(e,void 0,r),u}return function(t,e){function n(){this.constructor=t}S(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},e.prototype.set=function(t){this.value,(t=this.prepareNewValue(t))!==It.UNCHANGED&&this.setNewValue(t)},e.prototype.prepareNewValue=function(t){if(ut(this),Ge(this)){var e=We(this,{object:this,type:"update",newValue:t});if(!e)return It.UNCHANGED;t=e.newValue}return t=this.enhancer(t,this.value,this.name),this.equals(this.value,t)?It.UNCHANGED:t},e.prototype.setNewValue=function(t){var e=this.value;this.value=t,this.reportChanged(),Ue(this)&&Ve(this,{type:"update",object:this,newValue:t,oldValue:e})},e.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},e.prototype.intercept=function(t){return Xe(this,t)},e.prototype.observe=function(t,e){return e&&t({object:this,type:"update",newValue:this.value,oldValue:void 0}),Ye(this,t)},e.prototype.toJSON=function(){return this.get()},e.prototype.toString=function(){return this.name+"["+this.value+"]"},e.prototype.valueOf=function(){return m(this.get())},e.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},e}(w),Pt=h("ObservableValue",St),Mt=function(){function t(t){this.dependenciesState=J.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=J.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+a(),this.value=new rt(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=Q.NONE,c(t.get,"missing option for computed: get"),this.derivation=t.get,this.name=t.name||"ComputedValue@"+a(),t.set&&(this.setter=mt(this.name+"-setter",t.set)),this.equals=t.equals||(t.compareStructural||t.struct?j.structural:j.default),this.scope=t.context,this.requiresReaction=!!t.requiresReaction,this.keepAlive=!!t.keepAlive}return t.prototype.onBecomeStale=function(){!function(t){t.lowestObserverState===J.UP_TO_DATE&&(t.lowestObserverState=J.POSSIBLY_STALE,t.observers.forEach((function(e){e.dependenciesState===J.UP_TO_DATE&&(e.dependenciesState=J.POSSIBLY_STALE,e.isTracing!==Q.NONE&&Ht(e,t),e.onBecomeStale())})))}(this)},t.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach((function(t){return t()}))},t.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach((function(t){return t()}))},t.prototype.get=function(){this.isComputing&&u("Cycle detected in computation "+this.name+": "+this.derivation),0!==It.inBatch||0!==this.observers.size||this.keepAlive?(Ft(this),it(this)&&this.trackAndCompute()&&function(t){t.lowestObserverState!==J.STALE&&(t.lowestObserverState=J.STALE,t.observers.forEach((function(e){e.dependenciesState===J.POSSIBLY_STALE?e.dependenciesState=J.STALE:e.dependenciesState===J.UP_TO_DATE&&(t.lowestObserverState=J.UP_TO_DATE)})))}(this)):it(this)&&(this.warnAboutUntrackedRead(),Bt(),this.value=this.computeValue(!1),zt());var t=this.value;if(ot(t))throw t.cause;return t},t.prototype.peek=function(){var t=this.computeValue(!1);if(ot(t))throw t.cause;return t},t.prototype.set=function(t){if(this.setter){c(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,t)}finally{this.isRunningSetter=!1}}else c(!1,!1)},t.prototype.trackAndCompute=function(){var t=this.value,e=this.dependenciesState===J.NOT_TRACKING,n=this.computeValue(!0),r=e||ot(t)||ot(n)||!this.equals(t,n);return r&&(this.value=n),r},t.prototype.computeValue=function(t){var e;if(this.isComputing=!0,It.computationDepth++,t)e=ct(this,this.derivation,this.scope);else if(!0===It.disableErrorBoundaries)e=this.derivation.call(this.scope);else try{e=this.derivation.call(this.scope)}catch(t){e=new rt(t)}return It.computationDepth--,this.isComputing=!1,e},t.prototype.suspend=function(){this.keepAlive||(st(this),this.value=void 0)},t.prototype.observe=function(t,e){var n=this,r=!0,o=void 0;return oe((function(){var i=n.get();if(!r||e){var a=ft();t({type:"update",object:n,newValue:i,oldValue:o}),pt(a)}r=!1,o=i}))},t.prototype.warnAboutUntrackedRead=function(){},t.prototype.toJSON=function(){return this.get()},t.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},t.prototype.valueOf=function(){return m(this.get())},t.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},t}(),kt=h("ComputedValue",Mt),At=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},Tt={};function Nt(){return"undefined"!=typeof window?window:void 0!==r?r:"undefined"!=typeof self?self:Tt}var Dt=!0,Ct=!1,It=function(){var t=Nt();return t.__mobxInstanceCount>0&&!t.__mobxGlobals&&(Dt=!1),t.__mobxGlobals&&t.__mobxGlobals.version!==(new At).version&&(Dt=!1),Dt?t.__mobxGlobals?(t.__mobxInstanceCount+=1,t.__mobxGlobals.UNCHANGED||(t.__mobxGlobals.UNCHANGED={}),t.__mobxGlobals):(t.__mobxInstanceCount=1,t.__mobxGlobals=new At):(setTimeout((function(){Ct||u("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")}),1),new At)}();function Rt(t,e){t.observers.add(e),t.lowestObserverState>e.dependenciesState&&(t.lowestObserverState=e.dependenciesState)}function Lt(t,e){t.observers.delete(e),0===t.observers.size&&Zt(t)}function Zt(t){!1===t.isPendingUnobservation&&(t.isPendingUnobservation=!0,It.pendingUnobservations.push(t))}function Bt(){It.inBatch++}function zt(){if(0==--It.inBatch){Ut();for(var t=It.pendingUnobservations,e=0;e<t.length;e++){var n=t[e];n.isPendingUnobservation=!1,0===n.observers.size&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBecomeUnobserved()),n instanceof Mt&&n.suspend())}It.pendingUnobservations=[]}}function Ft(t){var e=It.trackingDerivation;return null!==e?(e.runId!==t.lastAccessedBy&&(t.lastAccessedBy=e.runId,e.newObserving[e.unboundDepsCount++]=t,t.isBeingObserved||(t.isBeingObserved=!0,t.onBecomeObserved())),!0):(0===t.observers.size&&It.inBatch>0&&Zt(t),!1)}function Ht(t,e){if(t.isTracing===Q.BREAK){var n=[];Gt(he(t),n,1),new Function("debugger;\n/*\nTracing '"+t.name+"'\n\nYou are entering this break point because derivation '"+t.name+"' is being traced and '"+e.name+"' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n"+(t instanceof Mt?t.derivation.toString().replace(/[*]\//g,"/"):"")+"\n\nThe dependencies for this derivation are:\n\n"+n.join("\n")+"\n*/\n    ")()}}function Gt(t,e,n){e.length>=1e3?e.push("(and many more)"):(e.push(""+new Array(n).join("\t")+t.name),t.dependencies&&t.dependencies.forEach((function(t){return Gt(t,e,n+1)})))}var Xt=function(){function t(t,e,n,r){void 0===t&&(t="Reaction@"+a()),void 0===r&&(r=!1),this.name=t,this.onInvalidate=e,this.errorHandler=n,this.requiresObservable=r,this.observing=[],this.newObserving=[],this.dependenciesState=J.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+a(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=Q.NONE}return t.prototype.onBecomeStale=function(){this.schedule()},t.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,It.pendingReactions.push(this),Ut())},t.prototype.isScheduled=function(){return this._isScheduled},t.prototype.runReaction=function(){if(!this.isDisposed){if(Bt(),this._isScheduled=!1,it(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending}catch(t){this.reportExceptionInDerivation(t)}}zt()}},t.prototype.track=function(t){if(!this.isDisposed){Bt(),this._isRunning=!0;var e=ct(this,t,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&st(this),ot(e)&&this.reportExceptionInDerivation(e.cause),zt()}},t.prototype.reportExceptionInDerivation=function(t){var e=this;if(this.errorHandler)this.errorHandler(t,this);else{if(It.disableErrorBoundaries)throw t;It.suppressReactionErrors,It.globalReactionErrorHandlers.forEach((function(n){return n(t,e)}))}},t.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(Bt(),st(this),zt()))},t.prototype.getDisposer=function(){var t=this.dispose.bind(this);return t[O]=this,t},t.prototype.toString=function(){return"Reaction["+this.name+"]"},t.prototype.trace=function(t){void 0===t&&(t=!1),function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=!1;"boolean"==typeof t[t.length-1]&&(n=t.pop());var r=Ce(t);if(!r)return u(!1);r.isTracing,Q.NONE,r.isTracing=n?Q.BREAK:Q.LOG}(this,t)},t}(),Wt=function(t){return t()};function Ut(){It.inBatch>0||It.isRunningReactions||Wt(Yt)}function Yt(){It.isRunningReactions=!0;for(var t=It.pendingReactions,e=0;t.length>0;){100==++e&&t.splice(0);for(var n=t.splice(0),r=0,o=n.length;r<o;r++)n[r].runReaction()}It.isRunningReactions=!1}var Vt=h("Reaction",Xt);function Kt(t){var e=Wt;Wt=function(n){return t((function(){return e(n)}))}}function qt(t){return function(){}}function $t(){u(!1)}function Jt(t){return function(e,n,r){if(r){if(r.value)return{value:mt(t,r.value),enumerable:!1,configurable:!0,writable:!0};var o=r.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return mt(t,o.call(this))}}}return Qt(t).apply(this,arguments)}}function Qt(t){return function(e,n,r){Object.defineProperty(e,n,{configurable:!0,enumerable:!1,get:function(){},set:function(e){d(this,n,te(t,e))}})}}var te=function(t,e,n,r){return 1===arguments.length&&"function"==typeof t?mt(t.name||"<unnamed action>",t):2===arguments.length&&"function"==typeof e?mt(t,e):1===arguments.length&&"string"==typeof t?Jt(t):!0!==r?Jt(e).apply(null,arguments):void d(t,e,mt(t.name||e,n.value,this))};function ee(t,e){return _t("string"==typeof t?t:t.name||"<unnamed action>","function"==typeof t?t:e,this,void 0)}function ne(t){return"function"==typeof t&&!0===t.isMobxAction}function re(t,e,n){d(t,e,mt(e,n.bind(t)))}function oe(t,e){void 0===e&&(e=i);var n,r=e&&e.name||t.name||"Autorun@"+a();if(e.scheduler||e.delay){var o=ae(e),u=!1;n=new Xt(r,(function(){u||(u=!0,o((function(){u=!1,n.isDisposed||n.track(c)})))}),e.onError,e.requiresObservable)}else n=new Xt(r,(function(){this.track(c)}),e.onError,e.requiresObservable);function c(){t(n)}return n.schedule(),n.getDisposer()}te.bound=function(t,e,n,r){return!0===r?(re(t,e,n.value),null):n?{configurable:!0,enumerable:!1,get:function(){return re(this,e,n.value||n.initializer.call(this)),this[e]},set:$t}:{enumerable:!1,configurable:!0,set:function(t){re(this,e,t)},get:function(){}}};var ie=function(t){return t()};function ae(t){return t.scheduler?t.scheduler:t.delay?function(e){return setTimeout(e,t.delay)}:ie}function ue(t,e,n){void 0===n&&(n=i);var r,o,u,c=n.name||"Reaction@"+a(),s=te(c,n.onError?(r=n.onError,o=e,function(){try{return o.apply(this,arguments)}catch(t){r.call(this,t)}}):e),l=!n.scheduler&&!n.delay,f=ae(n),p=!0,d=!1,h=n.compareStructural?j.structural:n.equals||j.default,y=new Xt(c,(function(){p||l?v():d||(d=!0,f(v))}),n.onError,n.requiresObservable);function v(){if(d=!1,!y.isDisposed){var e=!1;y.track((function(){var n=t(y);e=p||!h(u,n),u=n})),p&&n.fireImmediately&&s(u,y),p||!0!==e||s(u,y),p&&(p=!1)}}return y.schedule(),y.getDisposer()}function ce(t,e,n){return se("onBecomeUnobserved",t,e,n)}function se(t,e,n,r){var o="function"==typeof r?gn(e,n):gn(e),i="function"==typeof r?r:n,a=t+"Listeners";return o[a]?o[a].add(i):o[a]=new Set([i]),"function"!=typeof o[t]?u(!1):function(){var t=o[a];t&&(t.delete(i),0===t.size&&delete o[a])}}function le(t){var e=t.enforceActions,n=t.computedRequiresReaction,r=t.computedConfigurable,o=t.disableErrorBoundaries,i=t.reactionScheduler,a=t.reactionRequiresObservable,c=t.observableRequiresReaction;if(!0===t.isolateGlobalState&&((It.pendingReactions.length||It.inBatch||It.isRunningReactions)&&u("isolateGlobalState should be called before MobX is running any reactions"),Ct=!0,Dt&&(0==--Nt().__mobxInstanceCount&&(Nt().__mobxGlobals=void 0),It=new At)),void 0!==e){var s=void 0;switch(e){case!0:case"observed":s=!0;break;case!1:case"never":s=!1;break;case"strict":case"always":s="strict";break;default:u("Invalid value for 'enforceActions': '"+e+"', expected 'never', 'always' or 'observed'")}It.enforceActions=s,It.allowStateChanges=!0!==s&&"strict"!==s}void 0!==n&&(It.computedRequiresReaction=!!n),void 0!==a&&(It.reactionRequiresObservable=!!a),void 0!==c&&(It.observableRequiresReaction=!!c,It.allowStateReads=!It.observableRequiresReaction),void 0!==r&&(It.computedConfigurable=!!r),void 0!==o&&(It.disableErrorBoundaries=!!o),i&&Kt(i)}function fe(t,e,n,r){var o=pe(r=G(r));return R(t),fn(t,r.name,o.enhancer),e&&de(t,e,n,o),t}function pe(t){return t.defaultDecorator||(!1===t.deep?U:X)}function de(t,e,n,r){var o,i;Bt();try{var a=_(e);try{for(var u=M(a),c=u.next();!c.done;c=u.next()){var s=c.value,l=Object.getOwnPropertyDescriptor(e,s),f=(n&&s in n?n[s]:l.get?tt:r)(t,s,l,!0);f&&Object.defineProperty(t,s,f)}}catch(t){o={error:t}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(o)throw o.error}}}finally{zt()}}function he(t,e){return ye(gn(t,e))}function ye(t){var e,n,r={name:t.name};return t.observing&&t.observing.length>0&&(r.dependencies=(e=t.observing,n=[],e.forEach((function(t){-1===n.indexOf(t)&&n.push(t)})),n).map(ye)),r}var ve=0;function ge(){this.message="FLOW_CANCELLED"}function be(t){1!==arguments.length&&u("Flow expects 1 argument and cannot be used as decorator");var e=t.name||"<unnamed flow>";return function(){var n,r=this,o=arguments,i=++ve,a=te(e+" - runid: "+i+" - init",t).apply(r,o),u=void 0,c=new Promise((function(t,r){var o=0;function c(t){var n;u=void 0;try{n=te(e+" - runid: "+i+" - yield "+o++,a.next).call(a,t)}catch(t){return r(t)}l(n)}function s(t){var n;u=void 0;try{n=te(e+" - runid: "+i+" - yield "+o++,a.throw).call(a,t)}catch(t){return r(t)}l(n)}function l(e){if(!e||"function"!=typeof e.then)return e.done?t(e.value):(u=Promise.resolve(e.value)).then(c,s);e.then(l,r)}n=r,c(void 0)}));return c.cancel=te(e+" - runid: "+i+" - cancel",(function(){try{u&&me(u);var t=a.return(void 0),e=Promise.resolve(t.value);e.then(l,l),me(e),n(new ge)}catch(t){n(t)}})),c}}function me(t){"function"==typeof t.cancel&&t.cancel()}function _e(t,e){if(null==t)return!1;if(void 0!==e){if(!1===vn(t))return!1;if(!t[O].values.has(e))return!1;var n=gn(t,e);return kt(n)}return kt(t)}function Oe(t){return arguments.length>1?u(!1):_e(t)}function we(t,e){return"string"!=typeof e?u(!1):_e(t,e)}function xe(t,e){return null!=t&&(void 0!==e?!!vn(t)&&t[O].values.has(e):vn(t)||!!t[O]||x(t)||Vt(t)||kt(t))}function Ee(t){return 1!==arguments.length&&u(!1),xe(t)}function je(t){return vn(t)?t[O].getKeys():an(t)||sn(t)?Array.from(t.keys()):en(t)?t.map((function(t,e){return e})):u(!1)}function Se(t){return vn(t)?je(t).map((function(e){return t[e]})):an(t)?je(t).map((function(e){return t.get(e)})):sn(t)?Array.from(t.values()):en(t)?t.slice():u(!1)}function Pe(t){return vn(t)?je(t).map((function(e){return[e,t[e]]})):an(t)?je(t).map((function(e){return[e,t.get(e)]})):sn(t)?Array.from(t.entries()):en(t)?t.map((function(t,e){return[e,t]})):u(!1)}function Me(t,e,n){if(2!==arguments.length||sn(t))if(vn(t)){var r=t[O],o=r.values.get(e);o?r.write(e,n):r.addObservableProp(e,n,r.defaultEnhancer)}else if(an(t))t.set(e,n);else if(sn(t))t.add(e);else{if(!en(t))return u(!1);"number"!=typeof e&&(e=parseInt(e,10)),c(e>=0,"Not a valid index: '"+e+"'"),Bt(),e>=t.length&&(t.length=e+1),t[e]=n,zt()}else{Bt();var i=e;try{for(var a in i)Me(t,a,i[a])}finally{zt()}}}function ke(t,e,n,r){return"function"==typeof n?function(t,e,n,r){return bn(t,e).observe(n,r)}(t,e,n,r):function(t,e,n){return bn(t).observe(e,n)}(t,e,n)}ge.prototype=Object.create(Error.prototype);var Ae={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function Te(t,e,n,r){return r.detectCycles&&t.set(e,n),n}function Ne(t,e,n){if(!e.recurseEverything&&!Ee(t))return t;if("object"!=typeof t)return t;if(null===t)return null;if(t instanceof Date)return t;if(Pt(t))return Ne(t.get(),e,n);if(Ee(t)&&je(t),!0===e.detectCycles&&null!==t&&n.has(t))return n.get(t);if(en(t)||Array.isArray(t)){var r=Te(n,t,[],e),o=t.map((function(t){return Ne(t,e,n)}));r.length=o.length;for(var i=0,a=o.length;i<a;i++)r[i]=o[i];return r}if(sn(t)||Object.getPrototypeOf(t)===Set.prototype){if(!1===e.exportMapsAsObjects){var u=Te(n,t,new Set,e);return t.forEach((function(t){u.add(Ne(t,e,n))})),u}var c=Te(n,t,[],e);return t.forEach((function(t){c.push(Ne(t,e,n))})),c}if(an(t)||Object.getPrototypeOf(t)===Map.prototype){if(!1===e.exportMapsAsObjects){var s=Te(n,t,new Map,e);return t.forEach((function(t,r){s.set(r,Ne(t,e,n))})),s}var l=Te(n,t,{},e);return t.forEach((function(t,r){l[r]=Ne(t,e,n)})),l}var f=Te(n,t,{},e);return g(t).forEach((function(r){f[r]=Ne(t[r],e,n)})),f}function De(t,e){var n;return"boolean"==typeof e&&(e={detectCycles:e}),e||(e=Ae),e.detectCycles=void 0===e.detectCycles?!0===e.recurseEverything:!0===e.detectCycles,e.detectCycles&&(n=new Map),Ne(t,e,n)}function Ce(t){switch(t.length){case 0:return It.trackingDerivation;case 1:return gn(t[0]);case 2:return gn(t[0],t[1])}}function Ie(t,e){void 0===e&&(e=void 0),Bt();try{return t.apply(e)}finally{zt()}}function Re(t,e,n){return 1===arguments.length||e&&"object"==typeof e?Ze(t,e):Le(t,e,n||{})}function Le(t,e,n){var r;"number"==typeof n.timeout&&(r=setTimeout((function(){if(!i[O].isDisposed){i();var t=new Error("WHEN_TIMEOUT");if(!n.onError)throw t;n.onError(t)}}),n.timeout)),n.name=n.name||"When@"+a();var o=mt(n.name+"-effect",e),i=oe((function(e){t()&&(e.dispose(),r&&clearTimeout(r),o())}),n);return i}function Ze(t,e){var n,r=new Promise((function(r,o){var i=Le(t,r,P(P({},e),{onError:o}));n=function(){i(),o("WHEN_CANCELLED")}}));return r.cancel=n,r}function Be(t){return t[O]}function ze(t){return"string"==typeof t||"number"==typeof t||"symbol"==typeof t}var Fe={has:function(t,e){if(e===O||"constructor"===e||e===T)return!0;var n=Be(t);return ze(e)?n.has(e):e in t},get:function(t,e){if(e===O||"constructor"===e||e===T)return t[e];var n=Be(t),r=n.values.get(e);if(r instanceof w){var o=r.get();return void 0===o&&n.has(e),o}return ze(e)&&n.has(e),t[e]},set:function(t,e,n){return!!ze(e)&&(Me(t,e,n),!0)},deleteProperty:function(t,e){return!!ze(e)&&(Be(t).remove(e),!0)},ownKeys:function(t){return Be(t).keysAtom.reportObserved(),Reflect.ownKeys(t)},preventExtensions:function(t){return u("Dynamic observable objects cannot be frozen"),!1}};function He(t){var e=new Proxy(t,Fe);return t[O].proxy=e,e}function Ge(t){return void 0!==t.interceptors&&t.interceptors.length>0}function Xe(t,e){var n=t.interceptors||(t.interceptors=[]);return n.push(e),s((function(){var t=n.indexOf(e);-1!==t&&n.splice(t,1)}))}function We(t,e){var n=ft();try{for(var r=A(t.interceptors||[]),o=0,i=r.length;o<i&&(c(!(e=r[o](e))||e.type,"Intercept handlers should return nothing or a change object"),e);o++);return e}finally{pt(n)}}function Ue(t){return void 0!==t.changeListeners&&t.changeListeners.length>0}function Ye(t,e){var n=t.changeListeners||(t.changeListeners=[]);return n.push(e),s((function(){var t=n.indexOf(e);-1!==t&&n.splice(t,1)}))}function Ve(t,e){var n=ft(),r=t.changeListeners;if(r){for(var o=0,i=(r=r.slice()).length;o<i;o++)r[o](e);pt(n)}}var Ke={get:function(t,e){return e===O?t[O]:"length"===e?t[O].getArrayLength():"number"==typeof e?Je.get.call(t,e):"string"!=typeof e||isNaN(e)?Je.hasOwnProperty(e)?Je[e]:t[e]:Je.get.call(t,parseInt(e))},set:function(t,e,n){return"length"===e&&t[O].setArrayLength(n),"number"==typeof e&&Je.set.call(t,e,n),"symbol"==typeof e||isNaN(e)?t[e]=n:Je.set.call(t,parseInt(e),n),!0},preventExtensions:function(t){return u("Observable arrays cannot be frozen"),!1}};function qe(t,e,n,r){void 0===n&&(n="ObservableArray@"+a()),void 0===r&&(r=!1);var o,i,u,c=new $e(n,e,r);o=c.values,i=O,u=c,Object.defineProperty(o,i,{enumerable:!1,writable:!1,configurable:!0,value:u});var s=new Proxy(c.values,Ke);if(c.proxy=s,t&&t.length){var l=Et(!0);c.spliceWithArray(0,0,t),jt(l)}return s}var $e=function(){function t(t,e,n){this.owned=n,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new w(t||"ObservableArray@"+a()),this.enhancer=function(n,r){return e(n,r,t+"[..]")}}return t.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},t.prototype.dehanceValues=function(t){return void 0!==this.dehancer&&t.length>0?t.map(this.dehancer):t},t.prototype.intercept=function(t){return Xe(this,t)},t.prototype.observe=function(t,e){return void 0===e&&(e=!1),e&&t({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),Ye(this,t)},t.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},t.prototype.setArrayLength=function(t){if("number"!=typeof t||t<0)throw new Error("[mobx.array] Out of range: "+t);var e=this.values.length;if(t!==e)if(t>e){for(var n=new Array(t-e),r=0;r<t-e;r++)n[r]=void 0;this.spliceWithArray(e,0,n)}else this.spliceWithArray(t,e-t)},t.prototype.updateArrayLength=function(t,e){if(t!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=e},t.prototype.spliceWithArray=function(t,e,n){var r=this;ut(this.atom);var i=this.values.length;if(void 0===t?t=0:t>i?t=i:t<0&&(t=Math.max(0,i+t)),e=1===arguments.length?i-t:null==e?0:Math.max(0,Math.min(e,i-t)),void 0===n&&(n=o),Ge(this)){var a=We(this,{object:this.proxy,type:"splice",index:t,removedCount:e,added:n});if(!a)return o;e=a.removedCount,n=a.added}n=0===n.length?n:n.map((function(t){return r.enhancer(t,void 0)}));var u=this.spliceItemsIntoValues(t,e,n);return 0===e&&0===n.length||this.notifyArraySplice(t,n,u),this.dehanceValues(u)},t.prototype.spliceItemsIntoValues=function(t,e,n){var r;if(n.length<1e4)return(r=this.values).splice.apply(r,A([t,e],n));var o=this.values.slice(t,t+e);return this.values=this.values.slice(0,t).concat(n,this.values.slice(t+e)),o},t.prototype.notifyArrayChildUpdate=function(t,e,n){var r=!this.owned&&!1,o=Ue(this),i=o||r?{object:this.proxy,type:"update",index:t,newValue:e,oldValue:n}:null;this.atom.reportChanged(),o&&Ve(this,i)},t.prototype.notifyArraySplice=function(t,e,n){var r=!this.owned&&!1,o=Ue(this),i=o||r?{object:this.proxy,type:"splice",index:t,removed:n,added:e,removedCount:n.length,addedCount:e.length}:null;this.atom.reportChanged(),o&&Ve(this,i)},t}(),Je={intercept:function(t){return this[O].intercept(t)},observe:function(t,e){return void 0===e&&(e=!1),this[O].observe(t,e)},clear:function(){return this.splice(0)},replace:function(t){var e=this[O];return e.spliceWithArray(0,e.values.length,t)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=this[O];switch(arguments.length){case 0:return[];case 1:return o.spliceWithArray(t);case 2:return o.spliceWithArray(t,e)}return o.spliceWithArray(t,e,n)},spliceWithArray:function(t,e,n){return this[O].spliceWithArray(t,e,n)},push:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this[O];return n.spliceWithArray(n.values.length,0,t),n.values.length},pop:function(){return this.splice(Math.max(this[O].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this[O];return n.spliceWithArray(0,0,t),n.values.length},reverse:function(){var t=this.slice();return t.reverse.apply(t,arguments)},sort:function(t){var e=this.slice();return e.sort.apply(e,arguments)},remove:function(t){var e=this[O],n=e.dehanceValues(e.values).indexOf(t);return n>-1&&(this.splice(n,1),!0)},get:function(t){var e=this[O];if(e&&t<e.values.length)return e.atom.reportObserved(),e.dehanceValue(e.values[t])},set:function(t,e){var n=this[O],r=n.values;if(t<r.length){ut(n.atom);var o=r[t];if(Ge(n)){var i=We(n,{type:"update",object:n.proxy,index:t,newValue:e});if(!i)return;e=i.newValue}(e=n.enhancer(e,o))!==o&&(r[t]=e,n.notifyArrayChildUpdate(t,e,o))}else{if(t!==r.length)throw new Error("[mobx.array] Index out of bounds, "+t+" is larger than "+r.length);n.spliceWithArray(t,0,[e])}}};["concat","flat","includes","indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach((function(t){"function"==typeof Array.prototype[t]&&(Je[t]=function(){var e=this[O];e.atom.reportObserved();var n=e.dehanceValues(e.values);return n[t].apply(n,arguments)})})),["every","filter","find","findIndex","flatMap","forEach","map","some"].forEach((function(t){"function"==typeof Array.prototype[t]&&(Je[t]=function(e,n){var r=this,o=this[O];return o.atom.reportObserved(),o.dehanceValues(o.values)[t]((function(t,o){return e.call(n,t,o,r)}),n)})})),["reduce","reduceRight"].forEach((function(t){Je[t]=function(){var e=this,n=this[O];n.atom.reportObserved();var r=arguments[0];return arguments[0]=function(t,o,i){return o=n.dehanceValue(o),r(t,o,i,e)},n.values[t].apply(n.values,arguments)}}));var Qe,tn=h("ObservableArrayAdministration",$e);function en(t){return f(t)&&tn(t[O])}var nn,rn={},on=function(){function t(t,e,n){if(void 0===e&&(e=B),void 0===n&&(n="ObservableMap@"+a()),this.enhancer=e,this.name=n,this[Qe]=rn,this._keysAtom=E(this.name+".keys()"),this[Symbol.toStringTag]="Map","function"!=typeof Map)throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(t)}return t.prototype._has=function(t){return this._data.has(t)},t.prototype.has=function(t){var e=this;if(!It.trackingDerivation)return this._has(t);var n=this._hasMap.get(t);if(!n){var r=n=new St(this._has(t),z,this.name+"."+b(t)+"?",!1);this._hasMap.set(t,r),ce(r,(function(){return e._hasMap.delete(t)}))}return n.get()},t.prototype.set=function(t,e){var n=this._has(t);if(Ge(this)){var r=We(this,{type:n?"update":"add",object:this,newValue:e,name:t});if(!r)return this;e=r.newValue}return n?this._updateValue(t,e):this._addValue(t,e),this},t.prototype.delete=function(t){var e=this;if(ut(this._keysAtom),Ge(this)&&!(r=We(this,{type:"delete",object:this,name:t})))return!1;if(this._has(t)){var n=Ue(this),r=n?{type:"delete",object:this,oldValue:this._data.get(t).value,name:t}:null;return Ie((function(){e._keysAtom.reportChanged(),e._updateHasMapEntry(t,!1),e._data.get(t).setNewValue(void 0),e._data.delete(t)})),n&&Ve(this,r),!0}return!1},t.prototype._updateHasMapEntry=function(t,e){var n=this._hasMap.get(t);n&&n.setNewValue(e)},t.prototype._updateValue=function(t,e){var n=this._data.get(t);if((e=n.prepareNewValue(e))!==It.UNCHANGED){var r=Ue(this),o=r?{type:"update",object:this,oldValue:n.value,name:t,newValue:e}:null;n.setNewValue(e),r&&Ve(this,o)}},t.prototype._addValue=function(t,e){var n=this;ut(this._keysAtom),Ie((function(){var r=new St(e,n.enhancer,n.name+"."+b(t),!1);n._data.set(t,r),e=r.value,n._updateHasMapEntry(t,!0),n._keysAtom.reportChanged()}));var r=Ue(this),o=r?{type:"add",object:this,name:t,newValue:e}:null;r&&Ve(this,o)},t.prototype.get=function(t){return this.has(t)?this.dehanceValue(this._data.get(t).get()):this.dehanceValue(void 0)},t.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},t.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},t.prototype.values=function(){var t=this,e=this.keys();return En({next:function(){var n=e.next(),r=n.done,o=n.value;return{done:r,value:r?void 0:t.get(o)}}})},t.prototype.entries=function(){var t=this,e=this.keys();return En({next:function(){var n=e.next(),r=n.done,o=n.value;return{done:r,value:r?void 0:[o,t.get(o)]}}})},t.prototype[(Qe=O,Symbol.iterator)]=function(){return this.entries()},t.prototype.forEach=function(t,e){var n,r;try{for(var o=M(this),i=o.next();!i.done;i=o.next()){var a=k(i.value,2),u=a[0],c=a[1];t.call(e,c,u,this)}}catch(t){n={error:t}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},t.prototype.merge=function(t){var e=this;return an(t)&&(t=t.toJS()),Ie((function(){var n=Et(!0);try{p(t)?g(t).forEach((function(n){return e.set(n,t[n])})):Array.isArray(t)?t.forEach((function(t){var n=k(t,2),r=n[0],o=n[1];return e.set(r,o)})):y(t)?(t.constructor!==Map&&u("Cannot initialize from classes that inherit from Map: "+t.constructor.name),t.forEach((function(t,n){return e.set(n,t)}))):null!=t&&u("Cannot initialize map from "+t)}finally{jt(n)}})),this},t.prototype.clear=function(){var t=this;Ie((function(){lt((function(){var e,n;try{for(var r=M(t.keys()),o=r.next();!o.done;o=r.next()){var i=o.value;t.delete(i)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}}))}))},t.prototype.replace=function(t){var e=this;return Ie((function(){var n,r,o,i,a=function(t){if(y(t)||an(t))return t;if(Array.isArray(t))return new Map(t);if(p(t)){var e=new Map;for(var n in t)e.set(n,t[n]);return e}return u("Cannot convert to map from '"+t+"'")}(t),c=new Map,s=!1;try{for(var l=M(e._data.keys()),f=l.next();!f.done;f=l.next()){var d=f.value;if(!a.has(d))if(e.delete(d))s=!0;else{var h=e._data.get(d);c.set(d,h)}}}catch(t){n={error:t}}finally{try{f&&!f.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}try{for(var v=M(a.entries()),g=v.next();!g.done;g=v.next()){var b=k(g.value,2),m=(d=b[0],h=b[1],e._data.has(d));if(e.set(d,h),e._data.has(d)){var _=e._data.get(d);c.set(d,_),m||(s=!0)}}}catch(t){o={error:t}}finally{try{g&&!g.done&&(i=v.return)&&i.call(v)}finally{if(o)throw o.error}}if(!s)if(e._data.size!==c.size)e._keysAtom.reportChanged();else for(var O=e._data.keys(),w=c.keys(),x=O.next(),E=w.next();!x.done;){if(x.value!==E.value){e._keysAtom.reportChanged();break}x=O.next(),E=w.next()}e._data=c})),this},Object.defineProperty(t.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),t.prototype.toPOJO=function(){var t,e,n={};try{for(var r=M(this),o=r.next();!o.done;o=r.next()){var i=k(o.value,2),a=i[0],u=i[1];n["symbol"==typeof a?a:b(a)]=u}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},t.prototype.toJS=function(){return new Map(this)},t.prototype.toJSON=function(){return this.toPOJO()},t.prototype.toString=function(){var t=this;return this.name+"[{ "+Array.from(this.keys()).map((function(e){return b(e)+": "+t.get(e)})).join(", ")+" }]"},t.prototype.observe=function(t,e){return Ye(this,t)},t.prototype.intercept=function(t){return Xe(this,t)},t}(),an=h("ObservableMap",on),un={},cn=function(){function t(t,e,n){if(void 0===e&&(e=B),void 0===n&&(n="ObservableSet@"+a()),this.name=n,this[nn]=un,this._data=new Set,this._atom=E(this.name),this[Symbol.toStringTag]="Set","function"!=typeof Set)throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(t,r){return e(t,r,n)},t&&this.replace(t)}return t.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},t.prototype.clear=function(){var t=this;Ie((function(){lt((function(){var e,n;try{for(var r=M(t._data.values()),o=r.next();!o.done;o=r.next()){var i=o.value;t.delete(i)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}}))}))},t.prototype.forEach=function(t,e){var n,r;try{for(var o=M(this),i=o.next();!i.done;i=o.next()){var a=i.value;t.call(e,a,a,this)}}catch(t){n={error:t}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},Object.defineProperty(t.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),t.prototype.add=function(t){var e=this;if(ut(this._atom),Ge(this)&&!(r=We(this,{type:"add",object:this,newValue:t})))return this;if(!this.has(t)){Ie((function(){e._data.add(e.enhancer(t,void 0)),e._atom.reportChanged()}));var n=Ue(this),r=n?{type:"add",object:this,newValue:t}:null;n&&Ve(this,r)}return this},t.prototype.delete=function(t){var e=this;if(Ge(this)&&!(r=We(this,{type:"delete",object:this,oldValue:t})))return!1;if(this.has(t)){var n=Ue(this),r=n?{type:"delete",object:this,oldValue:t}:null;return Ie((function(){e._atom.reportChanged(),e._data.delete(t)})),n&&Ve(this,r),!0}return!1},t.prototype.has=function(t){return this._atom.reportObserved(),this._data.has(this.dehanceValue(t))},t.prototype.entries=function(){var t=0,e=Array.from(this.keys()),n=Array.from(this.values());return En({next:function(){var r=t;return t+=1,r<n.length?{value:[e[r],n[r]],done:!1}:{done:!0}}})},t.prototype.keys=function(){return this.values()},t.prototype.values=function(){this._atom.reportObserved();var t=this,e=0,n=Array.from(this._data.values());return En({next:function(){return e<n.length?{value:t.dehanceValue(n[e++]),done:!1}:{done:!0}}})},t.prototype.replace=function(t){var e=this;return sn(t)&&(t=t.toJS()),Ie((function(){var n=Et(!0);try{Array.isArray(t)||v(t)?(e.clear(),t.forEach((function(t){return e.add(t)}))):null!=t&&u("Cannot initialize set from "+t)}finally{jt(n)}})),this},t.prototype.observe=function(t,e){return Ye(this,t)},t.prototype.intercept=function(t){return Xe(this,t)},t.prototype.toJS=function(){return new Set(this)},t.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},t.prototype[(nn=O,Symbol.iterator)]=function(){return this.values()},t}(),sn=h("ObservableSet",cn),ln=function(){function t(t,e,n,r){void 0===e&&(e=new Map),this.target=t,this.values=e,this.name=n,this.defaultEnhancer=r,this.keysAtom=new w(n+".keys")}return t.prototype.read=function(t){return this.values.get(t).get()},t.prototype.write=function(t,e){var n=this.target,r=this.values.get(t);if(r instanceof Mt)r.set(e);else{if(Ge(this)){if(!(i=We(this,{type:"update",object:this.proxy||n,name:t,newValue:e})))return;e=i.newValue}if((e=r.prepareNewValue(e))!==It.UNCHANGED){var o=Ue(this),i=o?{type:"update",object:this.proxy||n,oldValue:r.value,name:t,newValue:e}:null;r.setNewValue(e),o&&Ve(this,i)}}},t.prototype.has=function(t){var e=this.pendingKeys||(this.pendingKeys=new Map),n=e.get(t);if(n)return n.get();var r=!!this.values.get(t);return n=new St(r,z,this.name+"."+b(t)+"?",!1),e.set(t,n),n.get()},t.prototype.addObservableProp=function(t,e,n){void 0===n&&(n=this.defaultEnhancer);var r=this.target;if(Ge(this)){var o=We(this,{object:this.proxy||r,name:t,type:"add",newValue:e});if(!o)return;e=o.newValue}var i=new St(e,n,this.name+"."+b(t),!1);this.values.set(t,i),e=i.value,Object.defineProperty(r,t,function(t){return pn[t]||(pn[t]={configurable:!0,enumerable:!0,get:function(){return this[O].read(t)},set:function(e){this[O].write(t,e)}})}(t)),this.notifyPropertyAddition(t,e)},t.prototype.addComputedProp=function(t,e,n){var r,o,i,a=this.target;n.name=n.name||this.name+"."+b(e),this.values.set(e,new Mt(n)),(t===a||(r=t,o=e,!(i=Object.getOwnPropertyDescriptor(r,o))||!1!==i.configurable&&!1!==i.writable))&&Object.defineProperty(t,e,function(t){return dn[t]||(dn[t]={configurable:It.computedConfigurable,enumerable:!1,get:function(){return hn(this).read(t)},set:function(e){hn(this).write(t,e)}})}(e))},t.prototype.remove=function(t){if(this.values.has(t)){var e=this.target;if(Ge(this)&&!(a=We(this,{object:this.proxy||e,name:t,type:"remove"})))return;try{Bt();var n=Ue(this),r=this.values.get(t),o=r&&r.get();if(r&&r.set(void 0),this.keysAtom.reportChanged(),this.values.delete(t),this.pendingKeys){var i=this.pendingKeys.get(t);i&&i.set(!1)}delete this.target[t];var a=n?{type:"remove",object:this.proxy||e,oldValue:o,name:t}:null;n&&Ve(this,a)}finally{zt()}}},t.prototype.illegalAccess=function(t,e){},t.prototype.observe=function(t,e){return Ye(this,t)},t.prototype.intercept=function(t){return Xe(this,t)},t.prototype.notifyPropertyAddition=function(t,e){var n=Ue(this),r=n?{type:"add",object:this.proxy||this.target,name:t,newValue:e}:null;if(n&&Ve(this,r),this.pendingKeys){var o=this.pendingKeys.get(t);o&&o.set(!0)}this.keysAtom.reportChanged()},t.prototype.getKeys=function(){var t,e;this.keysAtom.reportObserved();var n=[];try{for(var r=M(this.values),o=r.next();!o.done;o=r.next()){var i=k(o.value,2),a=i[0];i[1]instanceof St&&n.push(a)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},t}();function fn(t,e,n){if(void 0===e&&(e=""),void 0===n&&(n=B),Object.prototype.hasOwnProperty.call(t,O))return t[O];p(t)||(e=(t.constructor.name||"ObservableObject")+"@"+a()),e||(e="ObservableObject@"+a());var r=new ln(t,new Map,b(e),n);return d(t,O,r),r}var pn=Object.create(null),dn=Object.create(null);function hn(t){var e=t[O];return e||(R(t),t[O])}var yn=h("ObservableObjectAdministration",ln);function vn(t){return!!f(t)&&(R(t),yn(t[O]))}function gn(t,e){if("object"==typeof t&&null!==t){if(en(t))return void 0!==e&&u(!1),t[O].atom;if(sn(t))return t[O];if(an(t)){var n=t;return void 0===e?n._keysAtom:((r=n._data.get(e)||n._hasMap.get(e))||u(!1),r)}var r;if(R(t),e&&!t[O]&&t[e],vn(t))return e?((r=t[O].values.get(e))||u(!1),r):u(!1);if(x(t)||kt(t)||Vt(t))return t}else if("function"==typeof t&&Vt(t[O]))return t[O];return u(!1)}function bn(t,e){return t||u("Expecting some object"),void 0!==e?bn(gn(t,e)):x(t)||kt(t)||Vt(t)||an(t)||sn(t)?t:(R(t),t[O]?t[O]:void u(!1))}var mn=Object.prototype.toString;function _n(t,e,n){return void 0===n&&(n=-1),On(t,e,n)}function On(t,e,n,r,o){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return!1;if(t!=t)return e!=e;var i=typeof t;if("function"!==i&&"object"!==i&&"object"!=typeof e)return!1;var a=mn.call(t);if(a!==mn.call(e))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(t)===Symbol.valueOf.call(e);case"[object Map]":case"[object Set]":n>=0&&n++}t=wn(t),e=wn(e);var u="[object Array]"===a;if(!u){if("object"!=typeof t||"object"!=typeof e)return!1;var c=t.constructor,s=e.constructor;if(c!==s&&!("function"==typeof c&&c instanceof c&&"function"==typeof s&&s instanceof s)&&"constructor"in t&&"constructor"in e)return!1}if(0===n)return!1;n<0&&(n=-1),o=o||[];for(var l=(r=r||[]).length;l--;)if(r[l]===t)return o[l]===e;if(r.push(t),o.push(e),u){if((l=t.length)!==e.length)return!1;for(;l--;)if(!On(t[l],e[l],n-1,r,o))return!1}else{var f=Object.keys(t),p=void 0;if(l=f.length,Object.keys(e).length!==l)return!1;for(;l--;)if(!xn(e,p=f[l])||!On(t[p],e[p],n-1,r,o))return!1}return r.pop(),o.pop(),!0}function wn(t){return en(t)?t.slice():y(t)||an(t)||v(t)||sn(t)?Array.from(t.entries()):t}function xn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function En(t){return t[Symbol.iterator]=jn,t}function jn(){return this}if("undefined"==typeof Proxy||"undefined"==typeof Symbol)throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:qt,extras:{getDebugName:function(t,e){return(void 0!==e?gn(t,e):vn(t)||an(t)||sn(t)?bn(t):gn(t)).name}},$mobx:O})}).call(this,n(155),n(81))},function(t,e,n){var r=n(112),o=n(43),i=n(174);r||o(Object.prototype,"toString",i,{unsafe:!0})},function(t,e,n){"use strict";var r=n(40),o=n(99),i=n(75),a=n(56),u=n(115),c="Array Iterator",s=a.set,l=a.getterFor(c);t.exports=u(Array,"Array",(function(t,e){s(this,{type:c,target:r(t),index:0,kind:e})}),(function(){var t=l(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values"),i.Arguments=i.Array,o("keys"),o("values"),o("entries")},function(t,e,n){"use strict";var r=n(17),o=n(7),i=n(46),a=n(71),u=n(34),c=n(15),s=n(66),l=n(36),f=n(107),p=n(19),d=n(35),h=n(95),y=n(28),v=n(32),g=n(58),b=n(85),m=n(33),_=n(39),O=n(40),w=n(84),x=n(41),E=n(64),j=n(57),S=n(72),P=n(68),M=n(136),k=n(111),A=n(50),T=n(37),N=n(82),D=n(97),C=n(43),I=n(87),R=n(91),L=n(67),Z=n(88),B=n(27),z=n(137),F=n(138),H=n(73),G=n(56),X=n(74).forEach,W=R("hidden"),U="Symbol",Y=B("toPrimitive"),V=G.set,K=G.getterFor(U),q=Object.prototype,$=o.Symbol,J=$&&$.prototype,Q=o.TypeError,tt=o.QObject,et=i("JSON","stringify"),nt=A.f,rt=T.f,ot=M.f,it=N.f,at=c([].push),ut=I("symbols"),ct=I("op-symbols"),st=I("string-to-symbol-registry"),lt=I("symbol-to-string-registry"),ft=I("wks"),pt=!tt||!tt.prototype||!tt.prototype.findChild,dt=l&&p((function(){return 7!=j(rt({},"a",{get:function(){return rt(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=nt(q,e);r&&delete q[e],rt(t,e,n),r&&t!==q&&rt(q,e,r)}:rt,ht=function(t,e){var n=ut[t]=j(J);return V(n,{type:U,tag:t,description:e}),l||(n.description=e),n},yt=function(t,e,n){t===q&&yt(ct,e,n),m(t);var r=w(e);return m(n),d(ut,r)?(n.enumerable?(d(t,W)&&t[W][r]&&(t[W][r]=!1),n=j(n,{enumerable:E(0,!1)})):(d(t,W)||rt(t,W,E(1,{})),t[W][r]=!0),dt(t,r,n)):rt(t,r,n)},vt=function(t,e){m(t);var n=O(e),r=S(n).concat(_t(n));return X(r,(function(e){l&&!u(gt,n,e)||yt(t,e,n[e])})),t},gt=function(t){var e=w(t),n=u(it,this,e);return!(this===q&&d(ut,e)&&!d(ct,e))&&(!(n||!d(this,e)||!d(ut,e)||d(this,W)&&this[W][e])||n)},bt=function(t,e){var n=O(t),r=w(e);if(n!==q||!d(ut,r)||d(ct,r)){var o=nt(n,r);return!o||!d(ut,r)||d(n,W)&&n[W][r]||(o.enumerable=!0),o}},mt=function(t){var e=ot(O(t)),n=[];return X(e,(function(t){d(ut,t)||d(L,t)||at(n,t)})),n},_t=function(t){var e=t===q,n=ot(e?ct:O(t)),r=[];return X(n,(function(t){!d(ut,t)||e&&!d(q,t)||at(r,ut[t])})),r};if(f||($=function(){if(g(J,this))throw Q("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?x(arguments[0]):void 0,e=Z(t),n=function(t){this===q&&u(n,ct,t),d(this,W)&&d(this[W],e)&&(this[W][e]=!1),dt(this,e,E(1,t))};return l&&pt&&dt(q,e,{configurable:!0,set:n}),ht(e,t)},C(J=$.prototype,"toString",(function(){return K(this).tag})),C($,"withoutSetter",(function(t){return ht(Z(t),t)})),N.f=gt,T.f=yt,A.f=bt,P.f=M.f=mt,k.f=_t,z.f=function(t){return ht(B(t),t)},l&&(rt(J,"description",{configurable:!0,get:function(){return K(this).description}}),s||C(q,"propertyIsEnumerable",gt,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!f,sham:!f},{Symbol:$}),X(S(ft),(function(t){F(t)})),r({target:U,stat:!0,forced:!f},{for:function(t){var e=x(t);if(d(st,e))return st[e];var n=$(e);return st[e]=n,lt[n]=e,n},keyFor:function(t){if(!b(t))throw Q(t+" is not a symbol");if(d(lt,t))return lt[t]},useSetter:function(){pt=!0},useSimple:function(){pt=!1}}),r({target:"Object",stat:!0,forced:!f,sham:!l},{create:function(t,e){return void 0===e?j(t):vt(j(t),e)},defineProperty:yt,defineProperties:vt,getOwnPropertyDescriptor:bt}),r({target:"Object",stat:!0,forced:!f},{getOwnPropertyNames:mt,getOwnPropertySymbols:_t}),r({target:"Object",stat:!0,forced:p((function(){k.f(1)}))},{getOwnPropertySymbols:function(t){return k.f(_(t))}}),et&&r({target:"JSON",stat:!0,forced:!f||p((function(){var t=$();return"[null]"!=et([t])||"{}"!=et({a:t})||"{}"!=et(Object(t))}))},{stringify:function(t,e,n){var r=D(arguments),o=e;if((v(e)||void 0!==t)&&!b(t))return h(e)||(e=function(t,e){if(y(o)&&(e=u(o,this,t,e)),!b(e))return e}),r[1]=e,a(et,null,r)}}),!J[Y]){var Ot=J.valueOf;C(J,Y,(function(t){return u(Ot,this)}))}H($,U),L[W]=!0},function(t,e,n){var r=n(7),o=n(149),i=n(150),a=n(3),u=n(55),c=n(27),s=c("iterator"),l=c("toStringTag"),f=a.values,p=function(t,e){if(t){if(t[s]!==f)try{u(t,s,f)}catch(e){t[s]=f}if(t[l]||u(t,l,e),o[e])for(var n in a)if(t[n]!==a[n])try{u(t,n,a[n])}catch(e){t[n]=a[n]}}};for(var d in o)p(r[d]&&r[d].prototype,d);p(i,"DOMTokenList")},function(t,e,n){"use strict";var r=n(148).charAt,o=n(41),i=n(56),a=n(115),u="String Iterator",c=i.set,s=i.getterFor(u);a(String,"String",(function(t){c(this,{type:u,string:o(t),index:0})}),(function(){var t,e=s(this),n=e.string,o=e.index;return o>=n.length?{value:void 0,done:!0}:(t=r(n,o),e.index+=t.length,{value:t,done:!1})}))},function(t,e,n){(function(e){var n=function(t){return t&&t.Math==Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof e&&e)||function(){return this}()||Function("return this")()}).call(this,n(81))},function(t,e,n){"use strict";var r=n(17),o=n(36),i=n(7),a=n(15),u=n(35),c=n(28),s=n(58),l=n(41),f=n(37).f,p=n(131),d=i.Symbol,h=d&&d.prototype;if(o&&c(d)&&(!("description"in h)||void 0!==d().description)){var y={},v=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:l(arguments[0]),e=s(h,this)?new d(t):void 0===t?d():d(t);return""===t&&(y[e]=!0),e};p(v,d),v.prototype=h,h.constructor=v;var g="Symbol(test)"==String(d("test")),b=a(h.toString),m=a(h.valueOf),_=/^Symbol\((.*)\)[^)]+$/,O=a("".replace),w=a("".slice);f(h,"description",{configurable:!0,get:function(){var t=m(this),e=b(t);if(u(y,t))return"";var n=g?w(e,7,-1):O(e,_,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:v})}},function(t,e,n){n(138)("iterator")},function(t,e,n){"use strict";n.d(e,"a",(function(){return a.a})),n.d(e,"c",(function(){return a.e})),n.d(e,"h",(function(){return _})),n.d(e,"i",(function(){return g})),n.d(e,"j",(function(){return y})),n.d(e,"b",(function(){return A})),n.d(e,"e",(function(){return C})),n.d(e,"f",(function(){return T})),n.d(e,"g",(function(){return ut}));var r,o,i,a=n(0),u=0,c=[],s=a.i.__b,l=a.i.__r,f=a.i.diffed,p=a.i.__c,d=a.i.unmount;function h(t,e){a.i.__h&&a.i.__h(o,t,u||e),u=0;var n=o.__H||(o.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function y(t){return u=1,v(P,t)}function v(t,e,n){var i=h(r++,2);return i.t=t,i.__c||(i.__=[n?n(e):P(void 0,e),function(t){var e=i.t(i.__[0],t);i.__[0]!==e&&(i.__=[e,i.__[1]],i.__c.setState({}))}],i.__c=o),i.__}function g(t,e){var n=h(r++,3);!a.i.__s&&S(n.__H,e)&&(n.__=t,n.__H=e,o.__H.__h.push(n))}function b(t,e){var n=h(r++,4);!a.i.__s&&S(n.__H,e)&&(n.__=t,n.__H=e,o.__h.push(n))}function m(t,e){var n=h(r++,7);return S(n.__H,e)&&(n.__=t(),n.__H=e,n.__h=t),n.__}function _(t,e){return u=8,m((function(){return t}),e)}function O(){var t;for(c.sort((function(t,e){return t.__v.__b-e.__v.__b}));t=c.pop();)if(t.__P)try{t.__H.__h.forEach(E),t.__H.__h.forEach(j),t.__H.__h=[]}catch(e){t.__H.__h=[],a.i.__e(e,t.__v)}}a.i.__b=function(t){o=null,s&&s(t)},a.i.__r=function(t){l&&l(t),r=0;var e=(o=t.__c).__H;e&&(e.__h.forEach(E),e.__h.forEach(j),e.__h=[])},a.i.diffed=function(t){f&&f(t);var e=t.__c;e&&e.__H&&e.__H.__h.length&&(1!==c.push(e)&&i===a.i.requestAnimationFrame||((i=a.i.requestAnimationFrame)||x)(O)),o=null},a.i.__c=function(t,e){e.some((function(t){try{t.__h.forEach(E),t.__h=t.__h.filter((function(t){return!t.__||j(t)}))}catch(n){e.some((function(t){t.__h&&(t.__h=[])})),e=[],a.i.__e(n,t.__v)}})),p&&p(t,e)},a.i.unmount=function(t){d&&d(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach((function(t){try{E(t)}catch(t){e=t}})),e&&a.i.__e(e,n.__v))};var w="function"==typeof requestAnimationFrame;function x(t){var e,n=function(){clearTimeout(r),w&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,100);w&&(e=requestAnimationFrame(n))}function E(t){var e=o,n=t.__c;"function"==typeof n&&(t.__c=void 0,n()),o=e}function j(t){var e=o;t.__c=t.__(),o=e}function S(t,e){return!t||t.length!==e.length||e.some((function(e,n){return e!==t[n]}))}function P(t,e){return"function"==typeof e?e(t):e}function M(t,e){for(var n in e)t[n]=e[n];return t}function k(t,e){for(var n in t)if("__source"!==n&&!(n in e))return!0;for(var r in e)if("__source"!==r&&t[r]!==e[r])return!0;return!1}function A(t){this.props=t}function T(t,e){function n(t){var n=this.props.ref,r=n==t.ref;return!r&&n&&(n.call?n(null):n.current=null),e?!e(this.props,t)||!r:k(this.props,t)}function r(e){return this.shouldComponentUpdate=n,Object(a.e)(t,e)}return r.displayName="Memo("+(t.displayName||t.name)+")",r.prototype.isReactComponent=!0,r.__f=!0,r}(A.prototype=new a.a).isPureReactComponent=!0,A.prototype.shouldComponentUpdate=function(t,e){return k(this.props,t)||k(this.state,e)};var N=a.i.__b;a.i.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),N&&N(t)};var D="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function C(t){function e(e,n){var r=M({},e);return delete r.ref,t(r,!(n=e.ref||n)||"object"==typeof n&&!("current"in n)?null:n)}return e.$$typeof=D,e.render=e,e.prototype.isReactComponent=e.__f=!0,e.displayName="ForwardRef("+(t.displayName||t.name)+")",e}var I=function(t,e){return null==t?null:Object(a.k)(Object(a.k)(t).map(e))},R={map:I,forEach:I,count:function(t){return t?Object(a.k)(t).length:0},only:function(t){var e=Object(a.k)(t);if(1!==e.length)throw"Children.only";return e[0]},toArray:a.k},L=a.i.__e;a.i.__e=function(t,e,n){if(t.then)for(var r,o=e;o=o.__;)if((r=o.__c)&&r.__c)return null==e.__e&&(e.__e=n.__e,e.__k=n.__k),r.__c(t,e);L(t,e,n)};var Z=a.i.unmount;function B(t,e,n){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach((function(t){"function"==typeof t.__c&&t.__c()})),t.__c.__H=null),null!=(t=M({},t)).__c&&(t.__c.__P===n&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map((function(t){return B(t,e,n)}))),t}function z(t,e,n){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map((function(t){return z(t,e,n)})),t.__c&&t.__c.__P===e&&(t.__e&&n.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=n)),t}function F(){this.__u=0,this.t=null,this.__b=null}function H(t){var e=t.__.__c;return e&&e.__e&&e.__e(t)}function G(){this.u=null,this.o=null}a.i.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&!0===t.__h&&(t.type=null),Z&&Z(t)},(F.prototype=new a.a).__c=function(t,e){var n=e.__c,r=this;null==r.t&&(r.t=[]),r.t.push(n);var o=H(r.__v),i=!1,a=function(){i||(i=!0,n.__R=null,o?o(u):u())};n.__R=a;var u=function(){if(! --r.__u){if(r.state.__e){var t=r.state.__e;r.__v.__k[0]=z(t,t.__c.__P,t.__c.__O)}var e;for(r.setState({__e:r.__b=null});e=r.t.pop();)e.forceUpdate()}},c=!0===e.__h;r.__u++||c||r.setState({__e:r.__b=r.__v.__k[0]}),t.then(a,a)},F.prototype.componentWillUnmount=function(){this.t=[]},F.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=B(this.__b,n,r.__O=r.__P)}this.__b=null}var o=e.__e&&Object(a.e)(a.b,null,t.fallback);return o&&(o.__h=null),[Object(a.e)(a.b,null,e.__e?null:t.children),o]};var X=function(t,e,n){if(++n[1]===n[0]&&t.o.delete(e),t.props.revealOrder&&("t"!==t.props.revealOrder[0]||!t.o.size))for(n=t.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;t.u=n=n[2]}};function W(t){return this.getChildContext=function(){return t.context},t.children}function U(t){var e=this,n=t.i;e.componentWillUnmount=function(){Object(a.j)(null,e.l),e.l=null,e.i=null},e.i&&e.i!==n&&e.componentWillUnmount(),t.__v?(e.l||(e.i=n,e.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(t){this.childNodes.push(t),e.i.appendChild(t)},insertBefore:function(t,n){this.childNodes.push(t),e.i.appendChild(t)},removeChild:function(t){this.childNodes.splice(this.childNodes.indexOf(t)>>>1,1),e.i.removeChild(t)}}),Object(a.j)(Object(a.e)(W,{context:e.context},t.__v),e.l)):e.l&&e.componentWillUnmount()}(G.prototype=new a.a).__e=function(t){var e=this,n=H(e.__v),r=e.o.get(t);return r[0]++,function(o){var i=function(){e.props.revealOrder?(r.push(o),X(e,t,r)):o()};n?n(i):i()}},G.prototype.render=function(t){this.u=null,this.o=new Map;var e=Object(a.k)(t.children);t.revealOrder&&"b"===t.revealOrder[0]&&e.reverse();for(var n=e.length;n--;)this.o.set(e[n],this.u=[1,0,this.u]);return t.children},G.prototype.componentDidUpdate=G.prototype.componentDidMount=function(){var t=this;this.o.forEach((function(e,n){X(t,n,e)}))};var Y="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,V=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,K="undefined"!=typeof document,q=function(t){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(t)};a.a.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(t){Object.defineProperty(a.a.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})}));var $=a.i.event;function J(){}function Q(){return this.cancelBubble}function tt(){return this.defaultPrevented}a.i.event=function(t){return $&&(t=$(t)),t.persist=J,t.isPropagationStopped=Q,t.isDefaultPrevented=tt,t.nativeEvent=t};var et,nt={configurable:!0,get:function(){return this.class}},rt=a.i.vnode;a.i.vnode=function(t){var e=t.type,n=t.props,r=n;if("string"==typeof e){var o=-1===e.indexOf("-");for(var i in r={},n){var u=n[i];K&&"children"===i&&"noscript"===e||"value"===i&&"defaultValue"in n&&null==u||("defaultValue"===i&&"value"in n&&null==n.value?i="value":"download"===i&&!0===u?u="":/ondoubleclick/i.test(i)?i="ondblclick":/^onchange(textarea|input)/i.test(i+e)&&!q(n.type)?i="oninput":/^onfocus$/i.test(i)?i="onfocusin":/^onblur$/i.test(i)?i="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(i)?i=i.toLowerCase():o&&V.test(i)?i=i.replace(/[A-Z0-9]/,"-$&").toLowerCase():null===u&&(u=void 0),r[i]=u)}"select"==e&&r.multiple&&Array.isArray(r.value)&&(r.value=Object(a.k)(n.children).forEach((function(t){t.props.selected=-1!=r.value.indexOf(t.props.value)}))),"select"==e&&null!=r.defaultValue&&(r.value=Object(a.k)(n.children).forEach((function(t){t.props.selected=r.multiple?-1!=r.defaultValue.indexOf(t.props.value):r.defaultValue==t.props.value}))),t.props=r,n.class!=n.className&&(nt.enumerable="className"in n,null!=n.className&&(r.class=n.className),Object.defineProperty(r,"className",nt))}t.$$typeof=Y,rt&&rt(t)};var ot=a.i.__r;a.i.__r=function(t){ot&&ot(t),et=t.__c};var it={ReactCurrentDispatcher:{current:{readContext:function(t){return et.__n[t.__c].props.value}}}};function at(t){return!!t&&t.$$typeof===Y}var ut=function(t,e){return t(e)},ct=a.b,st={useState:y,useReducer:v,useEffect:g,useLayoutEffect:b,useRef:function(t){return u=5,m((function(){return{current:t}}),[])},useImperativeHandle:function(t,e,n){u=6,b((function(){"function"==typeof t?t(e()):t&&(t.current=e())}),null==n?n:n.concat(t))},useMemo:m,useCallback:_,useContext:function(t){var e=o.context[t.__c],n=h(r++,9);return n.c=t,e?(null==n.__&&(n.__=!0,e.sub(o)),e.props.value):t.__},useDebugValue:function(t,e){a.i.useDebugValue&&a.i.useDebugValue(e?e(t):t)},version:"17.0.2",Children:R,render:function(t,e,n){return null==e.__k&&(e.textContent=""),Object(a.j)(t,e),"function"==typeof n&&n(),t?t.__c:null},hydrate:function(t,e,n){return Object(a.h)(t,e),"function"==typeof n&&n(),t?t.__c:null},unmountComponentAtNode:function(t){return!!t.__k&&(Object(a.j)(null,t),!0)},createPortal:function(t,e){return Object(a.e)(U,{__v:t,i:e})},createElement:a.e,createContext:a.d,createFactory:function(t){return a.e.bind(null,t)},cloneElement:function(t){return at(t)?a.c.apply(null,arguments):t},createRef:a.f,Fragment:a.b,isValidElement:at,findDOMNode:function(t){return t&&(t.base||1===t.nodeType&&t)||null},Component:a.a,PureComponent:A,memo:T,forwardRef:C,flushSync:function(t,e){return t(e)},unstable_batchedUpdates:ut,StrictMode:ct,Suspense:F,SuspenseList:G,lazy:function(t){var e,n,r;function o(o){if(e||(e=t()).then((function(t){n=t.default||t}),(function(t){r=t})),r)throw r;if(!n)throw e;return Object(a.e)(n,o)}return o.displayName="Lazy",o.__f=!0,o},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:it};e.d=st},function(t,e,n){var r=n(7),o=n(149),i=n(150),a=n(182),u=n(55),c=function(t){if(t&&t.forEach!==a)try{u(t,"forEach",a)}catch(e){t.forEach=a}};for(var s in o)o[s]&&c(r[s]&&r[s].prototype);c(i)},function(t,e,n){n(17)({target:"Object",stat:!0},{setPrototypeOf:n(101)})},function(t,e,n){var r=n(17),o=n(19),i=n(39),a=n(100),u=n(140);r({target:"Object",stat:!0,forced:o((function(){a(1)})),sham:!u},{getPrototypeOf:function(t){return a(i(t))}})},function(t,e,n){var r=n(17),o=n(46),i=n(71),a=n(200),u=n(157),c=n(33),s=n(32),l=n(57),f=n(19),p=o("Reflect","construct"),d=Object.prototype,h=[].push,y=f((function(){function t(){}return!(p((function(){}),[],t)instanceof t)})),v=!f((function(){p((function(){}))})),g=y||v;r({target:"Reflect",stat:!0,forced:g,sham:g},{construct:function(t,e){u(t),c(e);var n=arguments.length<3?t:u(arguments[2]);if(v&&!y)return p(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return i(h,r,e),new(i(a,t,r))}var o=n.prototype,f=l(s(o)?o:d),g=i(t,f,e);return s(g)?g:f}})},function(t,e){var n=Function.prototype,r=n.bind,o=n.call,i=r&&r.bind(o);t.exports=r?function(t){return t&&i(o,t)}:function(t){return t&&function(){return o.apply(t,arguments)}}},function(t,e,n){"use strict";var r=n(17),o=n(7),i=n(95),a=n(98),u=n(32),c=n(69),s=n(44),l=n(40),f=n(60),p=n(27),d=n(76),h=n(97),y=d("slice"),v=p("species"),g=o.Array,b=Math.max;r({target:"Array",proto:!0,forced:!y},{slice:function(t,e){var n,r,o,p=l(this),d=s(p),y=c(t,d),m=c(void 0===e?d:e,d);if(i(p)&&(n=p.constructor,(a(n)&&(n===g||i(n.prototype))||u(n)&&null===(n=n[v]))&&(n=void 0),n===g||void 0===n))return h(p,y,m);for(r=new(void 0===n?g:n)(b(m-y,0)),o=0;y<m;y++,o++)y in p&&f(r,o,p[y]);return r.length=o,r}})},function(t,e,n){var r=n(7),o=n(50).f,i=n(55),a=n(43),u=n(109),c=n(131),s=n(94);t.exports=function(t,e){var n,l,f,p,d,h=t.target,y=t.global,v=t.stat;if(n=y?r:v?r[h]||u(h,{}):(r[h]||{}).prototype)for(l in e){if(p=e[l],f=t.noTargetGet?(d=o(n,l))&&d.value:n[l],!s(y?l:h+(v?".":"#")+l,t.forced)&&void 0!==f){if(typeof p==typeof f)continue;c(p,f)}(t.sham||f&&f.sham)&&i(p,"sham",!0),a(n,l,p,t)}}},function(t,e,n){"use strict";var r=n(17),o=n(102);r({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var r=n(17),o=n(39),i=n(72);r({target:"Object",stat:!0,forced:n(19)((function(){i(1)}))},{keys:function(t){return i(o(t))}})},function(t,e,n){var r=n(17),o=n(19),i=n(40),a=n(50).f,u=n(36),c=o((function(){a(1)}));r({target:"Object",stat:!0,forced:!u||c,sham:!u},{getOwnPropertyDescriptor:function(t,e){return a(i(t),e)}})},function(t,e,n){var r=n(36),o=n(92).EXISTS,i=n(15),a=n(37).f,u=Function.prototype,c=i(u.toString),s=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,l=i(s.exec);r&&!o&&a(u,"name",{configurable:!0,get:function(){try{return l(s,c(this))[1]}catch(t){return""}}})},function(t,e,n){"use strict";var r=n(17),o=n(74).filter;r({target:"Array",proto:!0,forced:!n(76)("filter")},{filter:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var r=n(17),o=n(183);r({target:"Array",stat:!0,forced:!n(119)((function(t){Array.from(t)}))},{from:o})},function(t,e,n){var r=n(17),o=n(36),i=n(132),a=n(40),u=n(50),c=n(60);r({target:"Object",stat:!0,sham:!o},{getOwnPropertyDescriptors:function(t){for(var e,n,r=a(t),o=u.f,s=i(r),l={},f=0;s.length>f;)void 0!==(n=o(r,e=s[f++]))&&c(l,e,n);return l}})},,function(t,e,n){var r=n(7),o=n(87),i=n(35),a=n(88),u=n(107),c=n(129),s=o("wks"),l=r.Symbol,f=l&&l.for,p=c?l:l&&l.withoutSetter||a;t.exports=function(t){if(!i(s,t)||!u&&"string"!=typeof s[t]){var e="Symbol."+t;u&&i(l,t)?s[t]=l[t]:s[t]=c&&f?f(e):p(e)}return s[t]}},function(t,e){t.exports=function(t){return"function"==typeof t}},function(t,e,n){"use strict";var r=n(17),o=n(7),i=n(19),a=n(95),u=n(32),c=n(39),s=n(44),l=n(60),f=n(114),p=n(76),d=n(27),h=n(65),y=d("isConcatSpreadable"),v=9007199254740991,g="Maximum allowed index exceeded",b=o.TypeError,m=h>=51||!i((function(){var t=[];return t[y]=!1,t.concat()[0]!==t})),_=p("concat"),O=function(t){if(!u(t))return!1;var e=t[y];return void 0!==e?!!e:a(t)};r({target:"Array",proto:!0,forced:!m||!_},{concat:function(t){var e,n,r,o,i,a=c(this),u=f(a,0),p=0;for(e=-1,r=arguments.length;e<r;e++)if(O(i=-1===e?a:arguments[e])){if(p+(o=s(i))>v)throw b(g);for(n=0;n<o;n++,p++)n in i&&l(u,p,i[n])}else{if(p>=v)throw b(g);l(u,p++,i)}return u.length=p,u}})},function(t,e,n){var r=n(17),o=n(199);r({target:"Object",stat:!0,forced:Object.assign!==o},{assign:o})},function(t,e,n){"use strict";var r=n(105),o="object"==typeof self&&self&&self.Object===Object&&self,i=r.a||o||Function("return this")();e.a=i},function(t,e,n){var r=n(28);t.exports=function(t){return"object"==typeof t?null!==t:r(t)}},function(t,e,n){var r=n(7),o=n(32),i=r.String,a=r.TypeError;t.exports=function(t){if(o(t))return t;throw a(i(t)+" is not an object")}},function(t,e){var n=Function.prototype.call;t.exports=n.bind?n.bind(n):function(){return n.apply(n,arguments)}},function(t,e,n){var r=n(15),o=n(39),i=r({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return i(o(t),e)}},function(t,e,n){var r=n(19);t.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(t,e,n){var r=n(7),o=n(36),i=n(130),a=n(33),u=n(84),c=r.TypeError,s=Object.defineProperty;e.f=o?s:function(t,e,n){if(a(t),e=u(e),a(n),i)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw c("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){"use strict";var r=n(17),o=n(74).map;r({target:"Array",proto:!0,forced:!n(76)("map")},{map:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var r=n(7),o=n(45),i=r.Object;t.exports=function(t){return i(o(t))}},function(t,e,n){var r=n(83),o=n(45);t.exports=function(t){return r(o(t))}},function(t,e,n){var r=n(7),o=n(96),i=r.String;t.exports=function(t){if("Symbol"===o(t))throw TypeError("Cannot convert a Symbol value to a string");return i(t)}},function(t,e,n){"use strict";(function(t){n.d(e,"d",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"b",(function(){return u})),n.d(e,"a",(function(){return s}));var r=n(10),o=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};function i(){var t=o(Object(r.j)(0),2)[1];return Object(r.h)((function(){t((function(t){return t+1}))}),[])}function a(t){if(!t||"object"!=typeof t)return!1;var e=Object.getPrototypeOf(t);return!e||e===Object.prototype}function u(t){return"function"==typeof Symbol?Symbol.for(t):"__$mobx-react "+t+"__"}var c={};function s(){return"undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:c}}).call(this,n(81))},function(t,e,n){var r=n(7),o=n(28),i=n(35),a=n(55),u=n(109),c=n(90),s=n(56),l=n(92).CONFIGURABLE,f=s.get,p=s.enforce,d=String(String).split("String");(t.exports=function(t,e,n,c){var s,f=!!c&&!!c.unsafe,h=!!c&&!!c.enumerable,y=!!c&&!!c.noTargetGet,v=c&&void 0!==c.name?c.name:e;o(n)&&("Symbol("===String(v).slice(0,7)&&(v="["+String(v).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!i(n,"name")||l&&n.name!==v)&&a(n,"name",v),(s=p(n)).source||(s.source=d.join("string"==typeof v?v:""))),t!==r?(f?!y&&t[e]&&(h=!0):delete t[e],h?t[e]=n:a(t,e,n)):h?t[e]=n:u(e,n)})(Function.prototype,"toString",(function(){return o(this)&&f(this).source||c(this)}))},function(t,e,n){var r=n(93);t.exports=function(t){return r(t.length)}},function(t,e,n){var r=n(7).TypeError;t.exports=function(t){if(null==t)throw r("Can't call method on "+t);return t}},function(t,e,n){var r=n(7),o=n(28),i=function(t){return o(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?i(r[t]):r[t]&&r[t][e]}},function(t,e,n){var r=n(17),o=n(34),i=n(32),a=n(33),u=n(201),c=n(50),s=n(100);r({target:"Reflect",stat:!0},{get:function t(e,n){var r,l,f=arguments.length<3?e:arguments[2];return a(e)===f?e[n]:(r=c.f(e,n))?u(r)?r.value:void 0===r.get?void 0:o(r.get,f):i(l=s(e))?t(l,n,f):void 0}})},function(t,n,r){"use strict";(function(t){var o=r(31),i=r(166),a=e&&!e.nodeType&&e,u=a&&"object"==typeof t&&t&&!t.nodeType&&t,c=u&&u.exports===a?o.a.Buffer:void 0,s=(c?c.isBuffer:void 0)||i.a;n.a=s}).call(this,r(121)(t))},function(t,n,r){"use strict";(function(t){var o=r(105),i=e&&!e.nodeType&&e,a=i&&"object"==typeof t&&t&&!t.nodeType&&t,u=a&&a.exports===i&&o.a.process,c=function(){try{var t=a&&a.require&&a.require("util").types;return t||u&&u.binding&&u.binding("util")}catch(t){}}();n.a=c}).call(this,r(121)(t))},function(t,e,n){var r=n(36),o=n(34),i=n(82),a=n(64),u=n(40),c=n(84),s=n(35),l=n(130),f=Object.getOwnPropertyDescriptor;e.f=r?f:function(t,e){if(t=u(t),e=c(e),l)try{return f(t,e)}catch(t){}if(s(t,e))return a(!o(i.f,t,e),t[e])}},function(t,e,n){var r=n(15),o=r({}.toString),i=r("".slice);t.exports=function(t){return i(o(t),8,-1)}},function(t,e,n){var r=n(17),o=n(213).entries;r({target:"Object",stat:!0},{entries:function(t){return o(t)}})},function(t,e,n){var r=n(46);t.exports=r("navigator","userAgent")||""},function(t,e,n){var r=n(7),o=n(28),i=n(86),a=r.TypeError;t.exports=function(t){if(o(t))return t;throw a(i(t)+" is not a function")}},function(t,e,n){var r=n(36),o=n(37),i=n(64);t.exports=r?function(t,e,n){return o.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r,o,i,a=n(170),u=n(7),c=n(15),s=n(32),l=n(55),f=n(35),p=n(108),d=n(91),h=n(67),y="Object already initialized",v=u.TypeError,g=u.WeakMap;if(a||p.state){var b=p.state||(p.state=new g),m=c(b.get),_=c(b.has),O=c(b.set);r=function(t,e){if(_(b,t))throw new v(y);return e.facade=t,O(b,t,e),e},o=function(t){return m(b,t)||{}},i=function(t){return _(b,t)}}else{var w=d("state");h[w]=!0,r=function(t,e){if(f(t,w))throw new v(y);return e.facade=t,l(t,w,e),e},o=function(t){return f(t,w)?t[w]:{}},i=function(t){return f(t,w)}}t.exports={set:r,get:o,has:i,enforce:function(t){return i(t)?o(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!s(e)||(n=o(e)).type!==t)throw v("Incompatible receiver, "+t+" required");return n}}}},function(t,e,n){var r,o=n(33),i=n(171),a=n(110),u=n(67),c=n(135),s=n(89),l=n(91),f=l("IE_PROTO"),p=function(){},d=function(t){return"<script>"+t+"<\/script>"},h=function(t){t.write(d("")),t.close();var e=t.parentWindow.Object;return t=null,e},y=function(){try{r=new ActiveXObject("htmlfile")}catch(t){}var t,e;y="undefined"!=typeof document?document.domain&&r?h(r):((e=s("iframe")).style.display="none",c.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(d("document.F=Object")),t.close(),t.F):h(r);for(var n=a.length;n--;)delete y.prototype[a[n]];return y()};u[f]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(p.prototype=o(t),n=new p,p.prototype=null,n[f]=t):n=y(),void 0===e?n:i(n,e)}},function(t,e,n){var r=n(15);t.exports=r({}.isPrototypeOf)},function(t,e,n){var r=n(54);t.exports=function(t,e){var n=t[e];return null==n?void 0:r(n)}},function(t,e,n){"use strict";var r=n(84),o=n(37),i=n(64);t.exports=function(t,e,n){var a=r(e);a in t?o.f(t,a,i(0,n)):t[a]=n}},function(t,e,n){var r=n(15),o=n(54),i=r(r.bind);t.exports=function(t,e){return o(t),void 0===e?t:i?i(t,e):function(){return t.apply(e,arguments)}}},function(t,e,n){"use strict";n(177)("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),n(181))},function(t,e,n){"use strict";var r=n(17),o=n(15),i=n(83),a=n(40),u=n(120),c=o([].join),s=i!=Object,l=u("join",",");r({target:"Array",proto:!0,forced:s||!l},{join:function(t){return c(a(this),void 0===t?",":t)}})},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var r,o,i=n(7),a=n(53),u=i.process,c=i.Deno,s=u&&u.versions||c&&c.version,l=s&&s.v8;l&&(o=(r=l.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!o&&a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(o=+r[1]),t.exports=o},function(t,e){t.exports=!1},function(t,e){t.exports={}},function(t,e,n){var r=n(133),o=n(110).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},function(t,e,n){var r=n(70),o=Math.max,i=Math.min;t.exports=function(t,e){var n=r(t);return n<0?o(n+e,0):i(n,e)}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){var e=+t;return e!=e||0===e?0:(e>0?r:n)(e)}},function(t,e){var n=Function.prototype,r=n.apply,o=n.bind,i=n.call;t.exports="object"==typeof Reflect&&Reflect.apply||(o?i.bind(r):function(){return i.apply(r,arguments)})},function(t,e,n){var r=n(133),o=n(110);t.exports=Object.keys||function(t){return r(t,o)}},function(t,e,n){var r=n(37).f,o=n(35),i=n(27)("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,i)&&r(t,i,{configurable:!0,value:e})}},function(t,e,n){var r=n(61),o=n(15),i=n(83),a=n(39),u=n(44),c=n(114),s=o([].push),l=function(t){var e=1==t,n=2==t,o=3==t,l=4==t,f=6==t,p=7==t,d=5==t||f;return function(h,y,v,g){for(var b,m,_=a(h),O=i(_),w=r(y,v),x=u(O),E=0,j=g||c,S=e?j(h,x):n||p?j(h,0):void 0;x>E;E++)if((d||E in O)&&(m=w(b=O[E],E,_),t))if(e)S[E]=m;else if(m)switch(t){case 3:return!0;case 5:return b;case 6:return E;case 2:s(S,b)}else switch(t){case 4:return!1;case 7:s(S,b)}return f?-1:o||l?l:S}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},function(t,e){t.exports={}},function(t,e,n){var r=n(19),o=n(27),i=n(65),a=o("species");t.exports=function(t){return i>=51||!r((function(){var e=[];return(e.constructor={})[a]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},function(t,e,n){"use strict";var r=n(71),o=n(34),i=n(15),a=n(122),u=n(154),c=n(33),s=n(45),l=n(156),f=n(123),p=n(93),d=n(41),h=n(59),y=n(113),v=n(124),g=n(102),b=n(151),m=n(19),_=b.UNSUPPORTED_Y,O=4294967295,w=Math.min,x=[].push,E=i(/./.exec),j=i(x),S=i("".slice),P=!m((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));a("split",(function(t,e,n){var i;return i="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var i=d(s(this)),a=void 0===n?O:n>>>0;if(0===a)return[];if(void 0===t)return[i];if(!u(t))return o(e,i,t,a);for(var c,l,f,p=[],h=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),v=0,b=new RegExp(t.source,h+"g");(c=o(g,b,i))&&!((l=b.lastIndex)>v&&(j(p,S(i,v,c.index)),c.length>1&&c.index<i.length&&r(x,p,y(c,1)),f=c[0].length,v=l,p.length>=a));)b.lastIndex===c.index&&b.lastIndex++;return v===i.length?!f&&E(b,"")||j(p,""):j(p,S(i,v)),p.length>a?y(p,0,a):p}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:o(e,this,t,n)}:e,[function(e,n){var r=s(this),a=null==e?void 0:h(e,t);return a?o(a,e,r,n):o(i,d(r),e,n)},function(t,r){var o=c(this),a=d(t),u=n(i,o,a,r,i!==e);if(u.done)return u.value;var s=l(o,RegExp),h=o.unicode,y=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")+(_?"g":"y"),g=new s(_?"^(?:"+o.source+")":o,y),b=void 0===r?O:r>>>0;if(0===b)return[];if(0===a.length)return null===v(g,a)?[a]:[];for(var m=0,x=0,E=[];x<a.length;){g.lastIndex=_?0:x;var P,M=v(g,_?S(a,x):a);if(null===M||(P=w(p(g.lastIndex+(_?x:0)),a.length))===m)x=f(a,x,h);else{if(j(E,S(a,m,x)),E.length===b)return E;for(var k=1;k<=M.length-1;k++)if(j(E,M[k]),E.length===b)return E;x=m=P}}return j(E,S(a,m)),E}]}),!P,_)},function(t,e,n){"use strict";var r=n(36),o=n(7),i=n(15),a=n(94),u=n(43),c=n(35),s=n(145),l=n(58),f=n(85),p=n(128),d=n(19),h=n(68).f,y=n(50).f,v=n(37).f,g=n(197),b=n(159).trim,m="Number",_=o.Number,O=_.prototype,w=o.TypeError,x=i("".slice),E=i("".charCodeAt),j=function(t){var e=p(t,"number");return"bigint"==typeof e?e:S(e)},S=function(t){var e,n,r,o,i,a,u,c,s=p(t,"number");if(f(s))throw w("Cannot convert a Symbol value to a number");if("string"==typeof s&&s.length>2)if(s=b(s),43===(e=E(s,0))||45===e){if(88===(n=E(s,2))||120===n)return NaN}else if(48===e){switch(E(s,1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+s}for(a=(i=x(s,2)).length,u=0;u<a;u++)if((c=E(i,u))<48||c>o)return NaN;return parseInt(i,r)}return+s};if(a(m,!_(" 0o1")||!_("0b1")||_("+0x1"))){for(var P,M=function(t){var e=arguments.length<1?0:_(j(t)),n=this;return l(O,n)&&d((function(){g(n)}))?s(Object(e),n,M):e},k=r?h(_):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),A=0;k.length>A;A++)c(_,P=k[A])&&!c(M,P)&&v(M,P,y(_,P));M.prototype=O,O.constructor=M,u(o,m,M)}},function(t,e,n){n(17)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(t,e,n){var r=n(17),o=n(214),i=n(99);r({target:"Array",proto:!0},{fill:o}),i("fill")},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";var r={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,i=o&&!r.call({1:2},1);e.f=i?function(t){var e=o(this,t);return!!e&&e.enumerable}:r},function(t,e,n){var r=n(7),o=n(15),i=n(19),a=n(51),u=r.Object,c=o("".split);t.exports=i((function(){return!u("z").propertyIsEnumerable(0)}))?function(t){return"String"==a(t)?c(t,""):u(t)}:u},function(t,e,n){var r=n(128),o=n(85);t.exports=function(t){var e=r(t,"string");return o(e)?e:e+""}},function(t,e,n){var r=n(7),o=n(46),i=n(28),a=n(58),u=n(129),c=r.Object;t.exports=u?function(t){return"symbol"==typeof t}:function(t){var e=o("Symbol");return i(e)&&a(e.prototype,c(t))}},function(t,e,n){var r=n(7).String;t.exports=function(t){try{return r(t)}catch(t){return"Object"}}},function(t,e,n){var r=n(66),o=n(108);(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.19.3",mode:r?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){var r=n(15),o=0,i=Math.random(),a=r(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+a(++o+i,36)}},function(t,e,n){var r=n(7),o=n(32),i=r.document,a=o(i)&&o(i.createElement);t.exports=function(t){return a?i.createElement(t):{}}},function(t,e,n){var r=n(15),o=n(28),i=n(108),a=r(Function.toString);o(i.inspectSource)||(i.inspectSource=function(t){return a(t)}),t.exports=i.inspectSource},function(t,e,n){var r=n(87),o=n(88),i=r("keys");t.exports=function(t){return i[t]||(i[t]=o(t))}},function(t,e,n){var r=n(36),o=n(35),i=Function.prototype,a=r&&Object.getOwnPropertyDescriptor,u=o(i,"name"),c=u&&"something"===function(){}.name,s=u&&(!r||r&&a(i,"name").configurable);t.exports={EXISTS:u,PROPER:c,CONFIGURABLE:s}},function(t,e,n){var r=n(70),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},function(t,e,n){var r=n(19),o=n(28),i=/#|\.prototype\./,a=function(t,e){var n=c[u(t)];return n==l||n!=s&&(o(e)?r(e):!!e)},u=a.normalize=function(t){return String(t).replace(i,".").toLowerCase()},c=a.data={},s=a.NATIVE="N",l=a.POLYFILL="P";t.exports=a},function(t,e,n){var r=n(51);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(7),o=n(112),i=n(28),a=n(51),u=n(27)("toStringTag"),c=r.Object,s="Arguments"==a(function(){return arguments}());t.exports=o?a:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=c(t),u))?n:s?a(e):"Object"==(r=a(e))&&i(e.callee)?"Arguments":r}},function(t,e,n){var r=n(15);t.exports=r([].slice)},function(t,e,n){var r=n(15),o=n(19),i=n(28),a=n(96),u=n(46),c=n(90),s=function(){},l=[],f=u("Reflect","construct"),p=/^\s*(?:class|function)\b/,d=r(p.exec),h=!p.exec(s),y=function(t){if(!i(t))return!1;try{return f(s,l,t),!0}catch(t){return!1}};t.exports=!f||o((function(){var t;return y(y.call)||!y(Object)||!y((function(){t=!0}))||t}))?function(t){if(!i(t))return!1;switch(a(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return h||!!d(p,c(t))}:y},function(t,e,n){var r=n(27),o=n(57),i=n(37),a=r("unscopables"),u=Array.prototype;null==u[a]&&i.f(u,a,{configurable:!0,value:o(null)}),t.exports=function(t){u[a][t]=!0}},function(t,e,n){var r=n(7),o=n(35),i=n(28),a=n(39),u=n(91),c=n(140),s=u("IE_PROTO"),l=r.Object,f=l.prototype;t.exports=c?l.getPrototypeOf:function(t){var e=a(t);if(o(e,s))return e[s];var n=e.constructor;return i(n)&&e instanceof n?n.prototype:e instanceof l?f:null}},function(t,e,n){var r=n(15),o=n(33),i=n(176);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),e=n instanceof Array}catch(t){}return function(n,r){return o(n),i(r),e?t(n,r):n.__proto__=r,n}}():void 0)},function(t,e,n){"use strict";var r,o,i=n(34),a=n(15),u=n(41),c=n(185),s=n(151),l=n(87),f=n(57),p=n(56).get,d=n(186),h=n(187),y=l("native-string-replace",String.prototype.replace),v=RegExp.prototype.exec,g=v,b=a("".charAt),m=a("".indexOf),_=a("".replace),O=a("".slice),w=(o=/b*/g,i(v,r=/a/,"a"),i(v,o,"a"),0!==r.lastIndex||0!==o.lastIndex),x=s.BROKEN_CARET,E=void 0!==/()??/.exec("")[1];(w||E||x||d||h)&&(g=function(t){var e,n,r,o,a,s,l,d=this,h=p(d),j=u(t),S=h.raw;if(S)return S.lastIndex=d.lastIndex,e=i(g,S,j),d.lastIndex=S.lastIndex,e;var P=h.groups,M=x&&d.sticky,k=i(c,d),A=d.source,T=0,N=j;if(M&&(k=_(k,"y",""),-1===m(k,"g")&&(k+="g"),N=O(j,d.lastIndex),d.lastIndex>0&&(!d.multiline||d.multiline&&"\n"!==b(j,d.lastIndex-1))&&(A="(?: "+A+")",N=" "+N,T++),n=new RegExp("^(?:"+A+")",k)),E&&(n=new RegExp("^"+A+"$(?!\\s)",k)),w&&(r=d.lastIndex),o=i(v,M?n:d,N),M?o?(o.input=O(o.input,T),o[0]=O(o[0],T),o.index=d.lastIndex,d.lastIndex+=o[0].length):d.lastIndex=0:w&&o&&(d.lastIndex=d.global?o.index+o[0].length:r),E&&o&&o.length>1&&i(y,o[0],n,(function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(o[a]=void 0)})),o&&P)for(o.groups=s=f(null),a=0;a<P.length;a++)s[(l=P[a])[0]]=o[l[1]];return o}),t.exports=g},function(t,e,n){"use strict";var r=n(17),o=n(7),i=n(69),a=n(70),u=n(44),c=n(39),s=n(114),l=n(60),f=n(76)("splice"),p=o.TypeError,d=Math.max,h=Math.min,y=9007199254740991,v="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!f},{splice:function(t,e){var n,r,o,f,g,b,m=c(this),_=u(m),O=i(t,_),w=arguments.length;if(0===w?n=r=0:1===w?(n=0,r=_-O):(n=w-2,r=h(d(a(e),0),_-O)),_+n-r>y)throw p(v);for(o=s(m,r),f=0;f<r;f++)(g=O+f)in m&&l(o,f,m[g]);if(o.length=r,n<r){for(f=O;f<_-r;f++)b=f+n,(g=f+r)in m?m[b]=m[g]:delete m[b];for(f=_;f>_-r+n;f--)delete m[f-1]}else if(n>r)for(f=_-r;f>O;f--)b=f+n-1,(g=f+r-1)in m?m[b]=m[g]:delete m[b];for(f=0;f<n;f++)m[f+O]=arguments[f+2];return m.length=_-r+n,o}})},function(t,e,n){"use strict";var r=n(17),o=n(202);r({target:"String",proto:!0,forced:n(203)("anchor")},{anchor:function(t){return o(this,"a","name",t)}})},function(t,e,n){"use strict";(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.a=n}).call(this,n(81))},function(t,n,r){"use strict";(function(t){var o=r(31),i=e&&!e.nodeType&&e,a=i&&"object"==typeof t&&t&&!t.nodeType&&t,u=a&&a.exports===i?o.a.Buffer:void 0,c=u?u.allocUnsafe:void 0;n.a=function(t,e){if(e)return t.slice();var n=t.length,r=c?c(n):new t.constructor(n);return t.copy(r),r}}).call(this,r(121)(t))},function(t,e,n){var r=n(65),o=n(19);t.exports=!!Object.getOwnPropertySymbols&&!o((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},function(t,e,n){var r=n(7),o=n(109),i="__core-js_shared__",a=r[i]||o(i,{});t.exports=a},function(t,e,n){var r=n(7),o=Object.defineProperty;t.exports=function(t,e){try{o(r,t,{value:e,configurable:!0,writable:!0})}catch(n){r[t]=e}return e}},function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r={};r[n(27)("toStringTag")]="z",t.exports="[object z]"===String(r)},function(t,e,n){var r=n(7),o=n(69),i=n(44),a=n(60),u=r.Array,c=Math.max;t.exports=function(t,e,n){for(var r=i(t),s=o(e,r),l=o(void 0===n?r:n,r),f=u(c(l-s,0)),p=0;s<l;s++,p++)a(f,p,t[s]);return f.length=p,f}},function(t,e,n){var r=n(173);t.exports=function(t,e){return new(r(t))(0===e?0:e)}},function(t,e,n){"use strict";var r=n(17),o=n(34),i=n(66),a=n(92),u=n(28),c=n(175),s=n(100),l=n(101),f=n(73),p=n(55),d=n(43),h=n(27),y=n(75),v=n(139),g=a.PROPER,b=a.CONFIGURABLE,m=v.IteratorPrototype,_=v.BUGGY_SAFARI_ITERATORS,O=h("iterator"),w="keys",x="values",E="entries",j=function(){return this};t.exports=function(t,e,n,a,h,v,S){c(n,e,a);var P,M,k,A=function(t){if(t===h&&I)return I;if(!_&&t in D)return D[t];switch(t){case w:case x:case E:return function(){return new n(this,t)}}return function(){return new n(this)}},T=e+" Iterator",N=!1,D=t.prototype,C=D[O]||D["@@iterator"]||h&&D[h],I=!_&&C||A(h),R="Array"==e&&D.entries||C;if(R&&(P=s(R.call(new t)))!==Object.prototype&&P.next&&(i||s(P)===m||(l?l(P,m):u(P[O])||d(P,O,j)),f(P,T,!0,!0),i&&(y[T]=j)),g&&h==x&&C&&C.name!==x&&(!i&&b?p(D,"name",x):(N=!0,I=function(){return o(C,this)})),h)if(M={values:A(x),keys:v?I:A(w),entries:A(E)},S)for(k in M)(_||N||!(k in D))&&d(D,k,M[k]);else r({target:e,proto:!0,forced:_||N},M);return i&&!S||D[O]===I||d(D,O,I,{name:h}),y[e]=I,M}},function(t,e,n){var r=n(7),o=n(61),i=n(34),a=n(33),u=n(86),c=n(142),s=n(44),l=n(58),f=n(143),p=n(117),d=n(144),h=r.TypeError,y=function(t,e){this.stopped=t,this.result=e},v=y.prototype;t.exports=function(t,e,n){var r,g,b,m,_,O,w,x=n&&n.that,E=!(!n||!n.AS_ENTRIES),j=!(!n||!n.IS_ITERATOR),S=!(!n||!n.INTERRUPTED),P=o(e,x),M=function(t){return r&&d(r,"normal",t),new y(!0,t)},k=function(t){return E?(a(t),S?P(t[0],t[1],M):P(t[0],t[1])):S?P(t,M):P(t)};if(j)r=t;else{if(!(g=p(t)))throw h(u(t)+" is not iterable");if(c(g)){for(b=0,m=s(t);m>b;b++)if((_=k(t[b]))&&l(v,_))return _;return new y(!1)}r=f(t,g)}for(O=r.next;!(w=i(O,r)).done;){try{_=k(w.value)}catch(t){d(r,"throw",t)}if("object"==typeof _&&_&&l(v,_))return _}return new y(!1)}},function(t,e,n){var r=n(96),o=n(59),i=n(75),a=n(27)("iterator");t.exports=function(t){if(null!=t)return o(t,a)||o(t,"@@iterator")||i[r(t)]}},function(t,e,n){var r=n(7),o=n(58),i=r.TypeError;t.exports=function(t,e){if(o(e,t))return t;throw i("Incorrect invocation")}},function(t,e,n){var r=n(27)("iterator"),o=!1;try{var i=0,a={next:function(){return{done:!!i++}},return:function(){o=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var i={};i[r]=function(){return{next:function(){return{done:n=!0}}}},t(i)}catch(t){}return n}},function(t,e,n){"use strict";var r=n(19);t.exports=function(t,e){var n=[][t];return!!n&&r((function(){n.call(null,e||function(){throw 1},1)}))}},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t,e,n){"use strict";n(18);var r=n(15),o=n(43),i=n(102),a=n(19),u=n(27),c=n(55),s=u("species"),l=RegExp.prototype;t.exports=function(t,e,n,f){var p=u(t),d=!a((function(){var e={};return e[p]=function(){return 7},7!=""[t](e)})),h=d&&!a((function(){var e=!1,n=/a/;return"split"===t&&((n={}).constructor={},n.constructor[s]=function(){return n},n.flags="",n[p]=/./[p]),n.exec=function(){return e=!0,null},n[p](""),!e}));if(!d||!h||n){var y=r(/./[p]),v=e(p,""[t],(function(t,e,n,o,a){var u=r(t),c=e.exec;return c===i||c===l.exec?d&&!a?{done:!0,value:y(e,n,o)}:{done:!0,value:u(n,e,o)}:{done:!1}}));o(String.prototype,t,v[0]),o(l,p,v[1])}f&&c(l[p],"sham",!0)}},function(t,e,n){"use strict";var r=n(148).charAt;t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},function(t,e,n){var r=n(7),o=n(34),i=n(33),a=n(28),u=n(51),c=n(102),s=r.TypeError;t.exports=function(t,e){var n=t.exec;if(a(n)){var r=o(n,t,e);return null!==r&&i(r),r}if("RegExp"===u(t))return o(c,t,e);throw s("RegExp#exec called on incompatible receiver")}},function(t,e,n){"use strict";var r=n(71),o=n(34),i=n(15),a=n(122),u=n(19),c=n(33),s=n(28),l=n(70),f=n(93),p=n(41),d=n(45),h=n(123),y=n(59),v=n(198),g=n(124),b=n(27)("replace"),m=Math.max,_=Math.min,O=i([].concat),w=i([].push),x=i("".indexOf),E=i("".slice),j="$0"==="a".replace(/./,"$0"),S=!!/./[b]&&""===/./[b]("a","$0");a("replace",(function(t,e,n){var i=S?"$":"$0";return[function(t,n){var r=d(this),i=null==t?void 0:y(t,b);return i?o(i,t,r,n):o(e,p(r),t,n)},function(t,o){var a=c(this),u=p(t);if("string"==typeof o&&-1===x(o,i)&&-1===x(o,"$<")){var d=n(e,a,u,o);if(d.done)return d.value}var y=s(o);y||(o=p(o));var b=a.global;if(b){var j=a.unicode;a.lastIndex=0}for(var S=[];;){var P=g(a,u);if(null===P)break;if(w(S,P),!b)break;""===p(P[0])&&(a.lastIndex=h(u,f(a.lastIndex),j))}for(var M,k="",A=0,T=0;T<S.length;T++){for(var N=p((P=S[T])[0]),D=m(_(l(P.index),u.length),0),C=[],I=1;I<P.length;I++)w(C,void 0===(M=P[I])?M:String(M));var R=P.groups;if(y){var L=O([N],C,D,u);void 0!==R&&w(L,R);var Z=p(r(o,void 0,L))}else Z=v(N,u,D,C,R,o);D>=A&&(k+=E(u,A,D)+Z,A=D+N.length)}return k+E(u,A)}]}),!!u((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}))||!j||S)},function(t,e,n){var r=n(51),o=n(7);t.exports="process"==r(o.process)},function(t,e,n){n(17)({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(t,e,n){var r=n(7),o=n(34),i=n(32),a=n(85),u=n(59),c=n(169),s=n(27),l=r.TypeError,f=s("toPrimitive");t.exports=function(t,e){if(!i(t)||a(t))return t;var n,r=u(t,f);if(r){if(void 0===e&&(e="default"),n=o(r,t,e),!i(n)||a(n))return n;throw l("Can't convert object to primitive value")}return void 0===e&&(e="number"),c(t,e)}},function(t,e,n){var r=n(107);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(t,e,n){var r=n(36),o=n(19),i=n(89);t.exports=!r&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){var r=n(35),o=n(132),i=n(50),a=n(37);t.exports=function(t,e){for(var n=o(e),u=a.f,c=i.f,s=0;s<n.length;s++){var l=n[s];r(t,l)||u(t,l,c(e,l))}}},function(t,e,n){var r=n(46),o=n(15),i=n(68),a=n(111),u=n(33),c=o([].concat);t.exports=r("Reflect","ownKeys")||function(t){var e=i.f(u(t)),n=a.f;return n?c(e,n(t)):e}},function(t,e,n){var r=n(15),o=n(35),i=n(40),a=n(134).indexOf,u=n(67),c=r([].push);t.exports=function(t,e){var n,r=i(t),s=0,l=[];for(n in r)!o(u,n)&&o(r,n)&&c(l,n);for(;e.length>s;)o(r,n=e[s++])&&(~a(l,n)||c(l,n));return l}},function(t,e,n){var r=n(40),o=n(69),i=n(44),a=function(t){return function(e,n,a){var u,c=r(e),s=i(c),l=o(a,s);if(t&&n!=n){for(;s>l;)if((u=c[l++])!=u)return!0}else for(;s>l;l++)if((t||l in c)&&c[l]===n)return t||l||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},function(t,e,n){var r=n(46);t.exports=r("document","documentElement")},function(t,e,n){var r=n(51),o=n(40),i=n(68).f,a=n(113),u="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return u&&"Window"==r(t)?function(t){try{return i(t)}catch(t){return a(u)}}(t):i(o(t))}},function(t,e,n){var r=n(27);e.f=r},function(t,e,n){var r=n(172),o=n(35),i=n(137),a=n(37).f;t.exports=function(t){var e=r.Symbol||(r.Symbol={});o(e,t)||a(e,t,{value:i.f(t)})}},function(t,e,n){"use strict";var r,o,i,a=n(19),u=n(28),c=n(57),s=n(100),l=n(43),f=n(27),p=n(66),d=f("iterator"),h=!1;[].keys&&("next"in(i=[].keys())?(o=s(s(i)))!==Object.prototype&&(r=o):h=!0),null==r||a((function(){var t={};return r[d].call(t)!==t}))?r={}:p&&(r=c(r)),u(r[d])||l(r,d,(function(){return this})),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:h}},function(t,e,n){var r=n(19);t.exports=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},function(t,e,n){var r=n(17),o=n(15),i=n(67),a=n(32),u=n(35),c=n(37).f,s=n(68),l=n(136),f=n(178),p=n(88),d=n(180),h=!1,y=p("meta"),v=0,g=function(t){c(t,y,{value:{objectID:"O"+v++,weakData:{}}})},b=t.exports={enable:function(){b.enable=function(){},h=!0;var t=s.f,e=o([].splice),n={};n[y]=1,t(n).length&&(s.f=function(n){for(var r=t(n),o=0,i=r.length;o<i;o++)if(r[o]===y){e(r,o,1);break}return r},r({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:l.f}))},fastKey:function(t,e){if(!a(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!u(t,y)){if(!f(t))return"F";if(!e)return"E";g(t)}return t[y].objectID},getWeakData:function(t,e){if(!u(t,y)){if(!f(t))return!0;if(!e)return!1;g(t)}return t[y].weakData},onFreeze:function(t){return d&&h&&f(t)&&!u(t,y)&&g(t),t}};i[y]=!0},function(t,e,n){var r=n(27),o=n(75),i=r("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(o.Array===t||a[i]===t)}},function(t,e,n){var r=n(7),o=n(34),i=n(54),a=n(33),u=n(86),c=n(117),s=r.TypeError;t.exports=function(t,e){var n=arguments.length<2?c(t):e;if(i(n))return a(o(n,t));throw s(u(t)+" is not iterable")}},function(t,e,n){var r=n(34),o=n(33),i=n(59);t.exports=function(t,e,n){var a,u;o(t);try{if(!(a=i(t,"return"))){if("throw"===e)throw n;return n}a=r(a,t)}catch(t){u=!0,a=t}if("throw"===e)throw n;if(u)throw a;return o(a),n}},function(t,e,n){var r=n(28),o=n(32),i=n(101);t.exports=function(t,e,n){var a,u;return i&&r(a=e.constructor)&&a!==n&&o(u=a.prototype)&&u!==n.prototype&&i(t,u),t}},function(t,e,n){var r=n(43);t.exports=function(t,e,n){for(var o in e)r(t,o,e[o],n);return t}},function(t,e,n){"use strict";var r=n(46),o=n(37),i=n(27),a=n(36),u=i("species");t.exports=function(t){var e=r(t),n=o.f;a&&e&&!e[u]&&n(e,u,{configurable:!0,get:function(){return this}})}},function(t,e,n){var r=n(15),o=n(70),i=n(41),a=n(45),u=r("".charAt),c=r("".charCodeAt),s=r("".slice),l=function(t){return function(e,n){var r,l,f=i(a(e)),p=o(n),d=f.length;return p<0||p>=d?t?"":void 0:(r=c(f,p))<55296||r>56319||p+1===d||(l=c(f,p+1))<56320||l>57343?t?u(f,p):r:t?s(f,p,p+2):l-56320+(r-55296<<10)+65536}};t.exports={codeAt:l(!1),charAt:l(!0)}},function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(t,e,n){var r=n(89)("span").classList,o=r&&r.constructor&&r.constructor.prototype;t.exports=o===Object.prototype?void 0:o},function(t,e,n){var r=n(19),o=n(7).RegExp,i=r((function(){var t=o("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),a=i||r((function(){return!o("a","y").sticky})),u=i||r((function(){var t=o("^r","gy");return t.lastIndex=2,null!=t.exec("str")}));t.exports={BROKEN_CARET:u,MISSED_STICKY:a,UNSUPPORTED_Y:i}},function(t,e,n){"use strict";var r=n(17),o=n(134).includes,i=n(99);r({target:"Array",proto:!0},{includes:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),i("includes")},function(t,e,n){"use strict";var r=n(17),o=n(15),i=n(194),a=n(45),u=n(41),c=n(195),s=o("".indexOf);r({target:"String",proto:!0,forced:!c("includes")},{includes:function(t){return!!~s(u(a(this)),u(i(t)),arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var r=n(32),o=n(51),i=n(27)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[i])?!!e:"RegExp"==o(t))}},function(t,e){var n,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var c,s=[],l=!1,f=-1;function p(){l&&c&&(l=!1,c.length?s=c.concat(s):f=-1,s.length&&d())}function d(){if(!l){var t=u(p);l=!0;for(var e=s.length;e;){for(c=s,s=[];++f<e;)c&&c[f].run();f=-1,e=s.length}c=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function h(t,e){this.fun=t,this.array=e}function y(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];s.push(new h(t,e)),1!==s.length||l||u(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,n){var r=n(33),o=n(157),i=n(27)("species");t.exports=function(t,e){var n,a=r(t).constructor;return void 0===a||null==(n=r(a)[i])?e:o(n)}},function(t,e,n){var r=n(7),o=n(98),i=n(86),a=r.TypeError;t.exports=function(t){if(o(t))return t;throw a(i(t)+" is not a constructor")}},function(t,e,n){"use strict";var r=n(17),o=n(159).trim;r({target:"String",proto:!0,forced:n(196)("trim")},{trim:function(){return o(this)}})},function(t,e,n){var r=n(15),o=n(45),i=n(41),a=n(160),u=r("".replace),c="["+a+"]",s=RegExp("^"+c+c+"*"),l=RegExp(c+c+"*$"),f=function(t){return function(e){var n=i(o(e));return 1&t&&(n=u(n,s,"")),2&t&&(n=u(n,l,"")),n}};t.exports={start:f(1),end:f(2),trim:f(3)}},function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},function(t,e,n){"use strict";var r=n(34),o=n(122),i=n(33),a=n(93),u=n(41),c=n(45),s=n(59),l=n(123),f=n(124);o("match",(function(t,e,n){return[function(e){var n=c(this),o=null==e?void 0:s(e,t);return o?r(o,e,n):new RegExp(e)[t](u(n))},function(t){var r=i(this),o=u(t),c=n(e,r,o);if(c.done)return c.value;if(!r.global)return f(r,o);var s=r.unicode;r.lastIndex=0;for(var p,d=[],h=0;null!==(p=f(r,o));){var y=u(p[0]);d[h]=y,""===y&&(r.lastIndex=l(o,a(r.lastIndex),s)),h++}return 0===h?null:d}]}))},function(t,e,n){var r=n(17),o=Math.hypot,i=Math.abs,a=Math.sqrt;r({target:"Math",stat:!0,forced:!!o&&o(1/0,NaN)!==1/0},{hypot:function(t,e){for(var n,r,o=0,u=0,c=arguments.length,s=0;u<c;)s<(n=i(arguments[u++]))?(o=o*(r=s/n)*r+1,s=n):o+=n>0?(r=n/s)*r:n;return s===1/0?1/0:s*a(o)}})},function(t,e,n){var r,o,i,a,u=n(7),c=n(71),s=n(61),l=n(28),f=n(35),p=n(19),d=n(135),h=n(97),y=n(89),v=n(164),g=n(126),b=u.setImmediate,m=u.clearImmediate,_=u.process,O=u.Dispatch,w=u.Function,x=u.MessageChannel,E=u.String,j=0,S={},P="onreadystatechange";try{r=u.location}catch(t){}var M=function(t){if(f(S,t)){var e=S[t];delete S[t],e()}},k=function(t){return function(){M(t)}},A=function(t){M(t.data)},T=function(t){u.postMessage(E(t),r.protocol+"//"+r.host)};b&&m||(b=function(t){var e=h(arguments,1);return S[++j]=function(){c(l(t)?t:w(t),void 0,e)},o(j),j},m=function(t){delete S[t]},g?o=function(t){_.nextTick(k(t))}:O&&O.now?o=function(t){O.now(k(t))}:x&&!v?(a=(i=new x).port2,i.port1.onmessage=A,o=s(a.postMessage,a)):u.addEventListener&&l(u.postMessage)&&!u.importScripts&&r&&"file:"!==r.protocol&&!p(T)?(o=T,u.addEventListener("message",A,!1)):o=P in y("script")?function(t){d.appendChild(y("script")).onreadystatechange=function(){d.removeChild(this),M(t)}}:function(t){setTimeout(k(t),0)}),t.exports={set:b,clear:m}},function(t,e,n){var r=n(53);t.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},function(t,e,n){"use strict";var r=n(54),o=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=r(e),this.reject=r(n)};t.exports.f=function(t){return new o(t)}},function(t,e,n){"use strict";e.a=function(){return!1}},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return m}));var r=n(1);function o(t){throw new Error("[mobx-utils] "+t)}function i(t,e){void 0===e&&(e="Illegal state"),t||o(e)}var a=function(t){return t&&t!==Object.prototype&&Object.getOwnPropertyNames(t).concat(a(Object.getPrototypeOf(t))||[])},u=function(t){return function(t){var e=a(t);return e.filter((function(t,n){return e.indexOf(t)===n}))}(t).filter((function(t){return"constructor"!==t&&!~t.indexOf("__")}))},c="pending",s="fulfilled",l="rejected";function f(t){switch(this.state){case c:return t.pending&&t.pending(this.value);case l:return t.rejected&&t.rejected(this.value);case s:return t.fulfilled?t.fulfilled(this.value):this.value}}function p(t,e){if(i(arguments.length<=2,"fromPromise expects up to two arguments"),i("function"==typeof t||"object"==typeof t&&t&&"function"==typeof t.then,"Please pass a promise or function to fromPromise"),!0===t.isPromiseBasedObservable)return t;"function"==typeof t&&(t=new Promise(t));var n=t;t.then(Object(r.k)("observableFromPromise-resolve",(function(t){n.value=t,n.state=s})),Object(r.k)("observableFromPromise-reject",(function(t){n.value=t,n.state=l}))),n.isPromiseBasedObservable=!0,n.case=f;var o=e&&e.state===s?e.value:void 0;return Object(r.q)(n,{value:o,state:c},{},{deep:!1}),n}!function(t){t.reject=Object(r.k)("fromPromise.reject",(function(e){var n=t(Promise.reject(e));return n.state=l,n.value=e,n})),t.resolve=Object(r.k)("fromPromise.resolve",(function(e){void 0===e&&(e=void 0);var n=t(Promise.resolve(e));return n.state=s,n.value=e,n}))}(p||(p={}));var d=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var u=t.length-1;u>=0;u--)(o=t[u])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};!function(){function t(t,e){var n=this;Object(r.G)((function(){n.current=e,n.subscription=t.subscribe(n)}))}t.prototype.dispose=function(){this.subscription&&this.subscription.unsubscribe()},t.prototype.next=function(t){this.current=t},t.prototype.complete=function(){this.dispose()},t.prototype.error=function(t){this.current=t,this.dispose()},d([r.C.ref],t.prototype,"current",void 0),d([r.k.bound],t.prototype,"next",null),d([r.k.bound],t.prototype,"complete",null),d([r.k.bound],t.prototype,"error",null)}();var h=function(){return h=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},h.apply(this,arguments)},y=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var u=t.length-1;u>=0;u--)(o=t[u])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},v=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];function g(t){if(!t)return"ROOT";for(var e=[];t.parent;)e.push(t.path),t=t.parent;return e.reverse().join("/")}function b(t){return Object(r.A)(t)||Object(r.y)(t)||Object(r.z)(t)}function m(t,e){var n=new WeakMap;function o(r){var o=n.get(r.object);!function(t,e){switch(t.type){case"add":i(t.newValue,e,t.name);break;case"update":a(t.oldValue),i(t.newValue,e,t.name||""+t.index);break;case"remove":case"delete":a(t.oldValue);break;case"splice":t.removed.map(a),t.added.forEach((function(n,r){return i(n,e,""+(t.index+r))}));for(var r=t.index+t.addedCount;r<t.object.length;r++)if(b(t.object[r])){var o=n.get(t.object[r]);o&&(o.path=""+r)}}}(r,o),e(r,g(o),t)}function i(t,e,a){if(b(t)){var u=n.get(t);if(u){if(u.parent!==e||u.path!==a)throw new Error("The same observable object cannot appear twice in the same tree, trying to assign it to '"+g(e)+"/"+a+"', but it already exists at '"+g(u.parent)+"/"+u.path+"'")}else{var c={parent:e,path:a,dispose:Object(r.D)(t,o)};n.set(t,c),Object(r.p)(t).forEach((function(t){var e=t[0];return i(t[1],c,e)}))}}}function a(t){if(b(t)){var e=n.get(t);if(!e)return;n.delete(t),e.dispose(),Object(r.L)(t).forEach(a)}}return i(t,void 0,""),function(){a(t)}}!function(){function t(t){var e=this;this.model=t,this.localValues=r.C.map({}),this.localComputedValues=r.C.map({}),this.isPropertyDirty=function(t){return e.localValues.has(t)},i(Object(r.A)(t),"createViewModel expects an observable object"),u(t).forEach((function(n){if(n!==r.a&&"__mobxDidRunLazyInitializers"!==n){if(i(-1===v.indexOf(n),"The propertyname "+n+" is reserved and cannot be used with viewModels"),Object(r.w)(t,n)){var o=Object(r.h)(t,n).derivation;e.localComputedValues.set(n,Object(r.m)(o.bind(e)))}var a=Object.getOwnPropertyDescriptor(t,n),u=a?{enumerable:a.enumerable}:{};Object.defineProperty(e,n,h(h({},u),{configurable:!0,get:function(){return Object(r.w)(t,n)?e.localComputedValues.get(n).get():e.isPropertyDirty(n)?e.localValues.get(n):e.model[n]},set:Object(r.k)((function(t){t!==e.model[n]?e.localValues.set(n,t):e.localValues.delete(n)}))}))}}))}Object.defineProperty(t.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"changedValues",{get:function(){return this.localValues.toJS()},enumerable:!1,configurable:!0}),t.prototype.submit=function(){var t=this;Object(r.B)(this.localValues).forEach((function(e){var n=t.localValues.get(e),o=t.model[e];Object(r.y)(o)?o.replace(n):Object(r.z)(o)?(o.clear(),o.merge(n)):Object(r.v)(n)||(t.model[e]=n)})),this.localValues.clear()},t.prototype.reset=function(){this.localValues.clear()},t.prototype.resetProperty=function(t){this.localValues.delete(t)},y([r.m],t.prototype,"isDirty",null),y([r.m],t.prototype,"changedValues",null),y([r.k.bound],t.prototype,"submit",null),y([r.k.bound],t.prototype,"reset",null),y([r.k.bound],t.prototype,"resetProperty",null)}();var _,O=(_=function(t,e){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},_(t,e)},function(t,e){function n(){this.constructor=t}_(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),w=(function(t){function e(e,n,o){var i=void 0===o?{}:o,a=i.name,u=void 0===a?"ogm"+(1e3*Math.random()|0):a,c=i.keyToName,s=void 0===c?function(t){return""+t}:c,l=t.call(this)||this;l._keyToName=s,l._groupBy=n,l._ogmInfoKey=Symbol("ogmInfo"+u),l._base=e;for(var f=0;f<e.length;f++)l._addItem(e[f]);return l._disposeBaseObserver=Object(r.D)(l._base,(function(t){if("splice"===t.type)Object(r.J)((function(){for(var e=0,n=t.removed;e<n.length;e++){var r=n[e];l._removeItem(r)}for(var o=0,i=t.added;o<i.length;o++){var a=i[o];l._addItem(a)}}));else{if("update"!==t.type)throw new Error("illegal state");Object(r.J)((function(){l._removeItem(t.oldValue),l._addItem(t.newValue)}))}})),l}O(e,t),e.prototype.clear=function(){throw new Error("not supported")},e.prototype.delete=function(t){throw new Error("not supported")},e.prototype.set=function(t,e){throw new Error("not supported")},e.prototype.dispose=function(){this._disposeBaseObserver();for(var t=0;t<this._base.length;t++){var e=this._base[t];e[this._ogmInfoKey].reaction(),delete e[this._ogmInfoKey]}},e.prototype._getGroupArr=function(e){var n=t.prototype.get.call(this,e);return void 0===n&&(n=Object(r.C)([],{name:"GroupArray["+this._keyToName(e)+"]",deep:!1}),t.prototype.set.call(this,e,n)),n},e.prototype._removeFromGroupArr=function(e,n){var r=t.prototype.get.call(this,e);1===r.length?t.prototype.delete.call(this,e):(n===r.length-1||(r[n]=r[r.length-1],r[n][this._ogmInfoKey].groupArrIndex=n),r.length--)},e.prototype._addItem=function(t){var e=this,n=this._groupBy(t),o=this._getGroupArr(n),i={groupByValue:n,groupArrIndex:o.length,reaction:Object(r.F)((function(){return e._groupBy(t)}),(function(n,r){var o=t[e._ogmInfoKey];e._removeFromGroupArr(o.groupByValue,o.groupArrIndex);var i=e._getGroupArr(n),a=i.length;i.push(t),o.groupByValue=n,o.groupArrIndex=a}))};Object.defineProperty(t,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:i}),o.push(t)},e.prototype._removeItem=function(t){var e=t[this._ogmInfoKey];this._removeFromGroupArr(e.groupByValue,e.groupArrIndex),e.reaction(),delete t[this._ogmInfoKey]}}(r.b),function(){function t(t,e){this.base=t,this.args=e,this.closestIdx=0,this.isDisposed=!1;for(var n=this.closest=this.root=t,r=0;r<this.args.length-1&&(n=n.get(e[r]));r++)this.closest=n;this.closestIdx=r}return t.prototype.exists=function(){this.assertNotDisposed();var t=this.args.length;return this.closestIdx>=t-1&&this.closest.has(this.args[t-1])},t.prototype.get=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");return this.closest.get(this.args[this.args.length-1])},t.prototype.set=function(t){this.assertNotDisposed();for(var e=this.args.length,n=this.closest,r=this.closestIdx;r<e-1;r++){var o=new Map;n.set(this.args[r],o),n=o}this.closestIdx=e-1,this.closest=n,n.set(this.args[e-1],t)},t.prototype.delete=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");var t=this.args.length;this.closest.delete(this.args[t-1]);for(var e=this.root,n=[e],r=0;r<t-1;r++)e=e.get(this.args[r]),n.push(e);for(r=n.length-1;r>0;r--)0===n[r].size&&n[r-1].delete(this.args[r-1]);this.isDisposed=!0},t.prototype.assertNotDisposed=function(){if(this.isDisposed)throw new Error("Concurrent modification exception")},t}());!function(){function t(){this.store=new Map,this.argsLength=-1}t.prototype.entry=function(t){if(-1===this.argsLength)this.argsLength=t.length;else if(this.argsLength!==t.length)throw new Error("DeepMap should be used with functions with a consistent length, expected: "+this.argsLength+", got: "+t.length);return this.last&&(this.last.isDisposed=!0),this.last=new w(this.store,t)}}(),new Set,new Set;Promise.resolve();"undefined"!=typeof queueMicrotask?queueMicrotask:void 0!==t&&t.nextTick}).call(this,n(155))},function(t,e,n){var r;!function(o,i,a){if(o){for(var u,c={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},s={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},l={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},f={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},p=1;p<20;++p)c[111+p]="f"+p;for(p=0;p<=9;++p)c[p+96]=p.toString();m.prototype.bind=function(t,e,n){var r=this;return t=t instanceof Array?t:[t],r._bindMultiple.call(r,t,e,n),r},m.prototype.unbind=function(t,e){return this.bind.call(this,t,(function(){}),e)},m.prototype.trigger=function(t,e){var n=this;return n._directMap[t+":"+e]&&n._directMap[t+":"+e]({},t),n},m.prototype.reset=function(){var t=this;return t._callbacks={},t._directMap={},t},m.prototype.stopCallback=function(t,e){if((" "+e.className+" ").indexOf(" mousetrap ")>-1)return!1;if(b(e,this.target))return!1;if("composedPath"in t&&"function"==typeof t.composedPath){var n=t.composedPath()[0];n!==t.target&&(e=n)}return"INPUT"==e.tagName||"SELECT"==e.tagName||"TEXTAREA"==e.tagName||e.isContentEditable},m.prototype.handleKey=function(){var t=this;return t._handleKey.apply(t,arguments)},m.addKeycodes=function(t){for(var e in t)t.hasOwnProperty(e)&&(c[e]=t[e]);u=null},m.init=function(){var t=m(i);for(var e in t)"_"!==e.charAt(0)&&(m[e]=function(e){return function(){return t[e].apply(t,arguments)}}(e))},m.init(),o.Mousetrap=m,t.exports&&(t.exports=m),void 0===(r=function(){return m}.call(e,n,e,t))||(t.exports=r)}function d(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on"+e,n)}function h(t){if("keypress"==t.type){var e=String.fromCharCode(t.which);return t.shiftKey||(e=e.toLowerCase()),e}return c[t.which]?c[t.which]:s[t.which]?s[t.which]:String.fromCharCode(t.which).toLowerCase()}function y(t){return"shift"==t||"ctrl"==t||"alt"==t||"meta"==t}function v(t,e,n){return n||(n=function(){if(!u)for(var t in u={},c)t>95&&t<112||c.hasOwnProperty(t)&&(u[c[t]]=t);return u}()[t]?"keydown":"keypress"),"keypress"==n&&e.length&&(n="keydown"),n}function g(t,e){var n,r,o,i=[];for(n=function(t){return"+"===t?["+"]:(t=t.replace(/\+{2}/g,"+plus")).split("+")}(t),o=0;o<n.length;++o)r=n[o],f[r]&&(r=f[r]),e&&"keypress"!=e&&l[r]&&(r=l[r],i.push("shift")),y(r)&&i.push(r);return{key:r,modifiers:i,action:e=v(r,i,e)}}function b(t,e){return null!==t&&t!==i&&(t===e||b(t.parentNode,e))}function m(t){var e=this;if(t=t||i,!(e instanceof m))return new m(t);e.target=t,e._callbacks={},e._directMap={};var n,r={},o=!1,a=!1,u=!1;function c(t){t=t||{};var e,n=!1;for(e in r)t[e]?n=!0:r[e]=0;n||(u=!1)}function s(t,n,o,i,a,u){var c,s,l,f,p=[],d=o.type;if(!e._callbacks[t])return[];for("keyup"==d&&y(t)&&(n=[t]),c=0;c<e._callbacks[t].length;++c)if(s=e._callbacks[t][c],(i||!s.seq||r[s.seq]==s.level)&&d==s.action&&("keypress"==d&&!o.metaKey&&!o.ctrlKey||(l=n,f=s.modifiers,l.sort().join(",")===f.sort().join(",")))){var h=!i&&s.combo==a,v=i&&s.seq==i&&s.level==u;(h||v)&&e._callbacks[t].splice(c,1),p.push(s)}return p}function l(t,n,r,o){e.stopCallback(n,n.target||n.srcElement,r,o)||!1===t(n,r)&&(function(t){t.preventDefault?t.preventDefault():t.returnValue=!1}(n),function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}(n))}function f(t){"number"!=typeof t.which&&(t.which=t.keyCode);var n=h(t);n&&("keyup"!=t.type||o!==n?e.handleKey(n,function(t){var e=[];return t.shiftKey&&e.push("shift"),t.altKey&&e.push("alt"),t.ctrlKey&&e.push("ctrl"),t.metaKey&&e.push("meta"),e}(t),t):o=!1)}function p(t,e,i,a){function s(e){return function(){u=e,++r[t],clearTimeout(n),n=setTimeout(c,1e3)}}function f(e){l(i,e,t),"keyup"!==a&&(o=h(e)),setTimeout(c,10)}r[t]=0;for(var p=0;p<e.length;++p){var d=p+1===e.length?f:s(a||g(e[p+1]).action);v(e[p],d,a,t,p)}}function v(t,n,r,o,i){e._directMap[t+":"+r]=n;var a,u=(t=t.replace(/\s+/g," ")).split(" ");u.length>1?p(t,u,n,r):(a=g(t,r),e._callbacks[a.key]=e._callbacks[a.key]||[],s(a.key,a.modifiers,{type:a.action},o,t,i),e._callbacks[a.key][o?"unshift":"push"]({callback:n,modifiers:a.modifiers,action:a.action,seq:o,level:i,combo:t}))}e._handleKey=function(t,e,n){var r,o=s(t,e,n),i={},f=0,p=!1;for(r=0;r<o.length;++r)o[r].seq&&(f=Math.max(f,o[r].level));for(r=0;r<o.length;++r)if(o[r].seq){if(o[r].level!=f)continue;p=!0,i[o[r].seq]=1,l(o[r].callback,n,o[r].combo,o[r].seq)}else p||l(o[r].callback,n,o[r].combo);var d="keypress"==n.type&&a;n.type!=u||y(t)||d||c(i),a=p&&"keydown"==n.type},e._bindMultiple=function(t,e,n){for(var r=0;r<t.length;++r)v(t[r],e,n)},d(t,"keypress",f),d(t,"keydown",f),d(t,"keyup",f)}}("undefined"!=typeof window?window:null,"undefined"!=typeof window?document:null)},function(t,e,n){var r=n(7),o=n(34),i=n(28),a=n(32),u=r.TypeError;t.exports=function(t,e){var n,r;if("string"===e&&i(n=t.toString)&&!a(r=o(n,t)))return r;if(i(n=t.valueOf)&&!a(r=o(n,t)))return r;if("string"!==e&&i(n=t.toString)&&!a(r=o(n,t)))return r;throw u("Can't convert object to primitive value")}},function(t,e,n){var r=n(7),o=n(28),i=n(90),a=r.WeakMap;t.exports=o(a)&&/native code/.test(i(a))},function(t,e,n){var r=n(36),o=n(37),i=n(33),a=n(40),u=n(72);t.exports=r?Object.defineProperties:function(t,e){i(t);for(var n,r=a(e),c=u(e),s=c.length,l=0;s>l;)o.f(t,n=c[l++],r[n]);return t}},function(t,e,n){var r=n(7);t.exports=r},function(t,e,n){var r=n(7),o=n(95),i=n(98),a=n(32),u=n(27)("species"),c=r.Array;t.exports=function(t){var e;return o(t)&&(e=t.constructor,(i(e)&&(e===c||o(e.prototype))||a(e)&&null===(e=e[u]))&&(e=void 0)),void 0===e?c:e}},function(t,e,n){"use strict";var r=n(112),o=n(96);t.exports=r?{}.toString:function(){return"[object "+o(this)+"]"}},function(t,e,n){"use strict";var r=n(139).IteratorPrototype,o=n(57),i=n(64),a=n(73),u=n(75),c=function(){return this};t.exports=function(t,e,n,s){var l=e+" Iterator";return t.prototype=o(r,{next:i(+!s,n)}),a(t,l,!1,!0),u[l]=c,t}},function(t,e,n){var r=n(7),o=n(28),i=r.String,a=r.TypeError;t.exports=function(t){if("object"==typeof t||o(t))return t;throw a("Can't set "+i(t)+" as a prototype")}},function(t,e,n){"use strict";var r=n(17),o=n(7),i=n(15),a=n(94),u=n(43),c=n(141),s=n(116),l=n(118),f=n(28),p=n(32),d=n(19),h=n(119),y=n(73),v=n(145);t.exports=function(t,e,n){var g=-1!==t.indexOf("Map"),b=-1!==t.indexOf("Weak"),m=g?"set":"add",_=o[t],O=_&&_.prototype,w=_,x={},E=function(t){var e=i(O[t]);u(O,t,"add"==t?function(t){return e(this,0===t?0:t),this}:"delete"==t?function(t){return!(b&&!p(t))&&e(this,0===t?0:t)}:"get"==t?function(t){return b&&!p(t)?void 0:e(this,0===t?0:t)}:"has"==t?function(t){return!(b&&!p(t))&&e(this,0===t?0:t)}:function(t,n){return e(this,0===t?0:t,n),this})};if(a(t,!f(_)||!(b||O.forEach&&!d((function(){(new _).entries().next()})))))w=n.getConstructor(e,t,g,m),c.enable();else if(a(t,!0)){var j=new w,S=j[m](b?{}:-0,1)!=j,P=d((function(){j.has(1)})),M=h((function(t){new _(t)})),k=!b&&d((function(){for(var t=new _,e=5;e--;)t[m](e,e);return!t.has(-0)}));M||((w=e((function(t,e){l(t,O);var n=v(new _,t,w);return null!=e&&s(e,n[m],{that:n,AS_ENTRIES:g}),n}))).prototype=O,O.constructor=w),(P||k)&&(E("delete"),E("has"),g&&E("get")),(k||S)&&E(m),b&&O.clear&&delete O.clear}return x[t]=w,r({global:!0,forced:w!=_},x),y(w,t),b||n.setStrong(w,t,g),w}},function(t,e,n){var r=n(19),o=n(32),i=n(51),a=n(179),u=Object.isExtensible,c=r((function(){u(1)}));t.exports=c||a?function(t){return!!o(t)&&(!a||"ArrayBuffer"!=i(t))&&(!u||u(t))}:u},function(t,e,n){var r=n(19);t.exports=r((function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}}))},function(t,e,n){var r=n(19);t.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},function(t,e,n){"use strict";var r=n(37).f,o=n(57),i=n(146),a=n(61),u=n(118),c=n(116),s=n(115),l=n(147),f=n(36),p=n(141).fastKey,d=n(56),h=d.set,y=d.getterFor;t.exports={getConstructor:function(t,e,n,s){var l=t((function(t,r){u(t,d),h(t,{type:e,index:o(null),first:void 0,last:void 0,size:0}),f||(t.size=0),null!=r&&c(r,t[s],{that:t,AS_ENTRIES:n})})),d=l.prototype,v=y(e),g=function(t,e,n){var r,o,i=v(t),a=b(t,e);return a?a.value=n:(i.last=a={index:o=p(e,!0),key:e,value:n,previous:r=i.last,next:void 0,removed:!1},i.first||(i.first=a),r&&(r.next=a),f?i.size++:t.size++,"F"!==o&&(i.index[o]=a)),t},b=function(t,e){var n,r=v(t),o=p(e);if("F"!==o)return r.index[o];for(n=r.first;n;n=n.next)if(n.key==e)return n};return i(d,{clear:function(){for(var t=v(this),e=t.index,n=t.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete e[n.index],n=n.next;t.first=t.last=void 0,f?t.size=0:this.size=0},delete:function(t){var e=this,n=v(e),r=b(e,t);if(r){var o=r.next,i=r.previous;delete n.index[r.index],r.removed=!0,i&&(i.next=o),o&&(o.previous=i),n.first==r&&(n.first=o),n.last==r&&(n.last=i),f?n.size--:e.size--}return!!r},forEach:function(t){for(var e,n=v(this),r=a(t,arguments.length>1?arguments[1]:void 0);e=e?e.next:n.first;)for(r(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!b(this,t)}}),i(d,n?{get:function(t){var e=b(this,t);return e&&e.value},set:function(t,e){return g(this,0===t?0:t,e)}}:{add:function(t){return g(this,t=0===t?0:t,t)}}),f&&r(d,"size",{get:function(){return v(this).size}}),l},setStrong:function(t,e,n){var r=e+" Iterator",o=y(e),i=y(r);s(t,e,(function(t,e){h(this,{type:r,target:t,state:o(t),kind:e,last:void 0})}),(function(){for(var t=i(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),l(e)}}},function(t,e,n){"use strict";var r=n(74).forEach,o=n(120)("forEach");t.exports=o?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},function(t,e,n){"use strict";var r=n(7),o=n(61),i=n(34),a=n(39),u=n(184),c=n(142),s=n(98),l=n(44),f=n(60),p=n(143),d=n(117),h=r.Array;t.exports=function(t){var e=a(t),n=s(this),r=arguments.length,y=r>1?arguments[1]:void 0,v=void 0!==y;v&&(y=o(y,r>2?arguments[2]:void 0));var g,b,m,_,O,w,x=d(e),E=0;if(!x||this==h&&c(x))for(g=l(e),b=n?new this(g):h(g);g>E;E++)w=v?y(e[E],E):e[E],f(b,E,w);else for(O=(_=p(e,x)).next,b=n?new this:[];!(m=i(O,_)).done;E++)w=v?u(_,y,[m.value,E],!0):m.value,f(b,E,w);return b.length=E,b}},function(t,e,n){var r=n(33),o=n(144);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(e){o(t,"throw",e)}}},function(t,e,n){"use strict";var r=n(33);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){var r=n(19),o=n(7).RegExp;t.exports=r((function(){var t=o(".","s");return!(t.dotAll&&t.exec("\n")&&"s"===t.flags)}))},function(t,e,n){var r=n(19),o=n(7).RegExp;t.exports=r((function(){var t=o("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")}))},function(t,e,n){"use strict";var r=n(17),o=n(15),i=n(54),a=n(39),u=n(44),c=n(41),s=n(19),l=n(189),f=n(120),p=n(190),d=n(191),h=n(65),y=n(192),v=[],g=o(v.sort),b=o(v.push),m=s((function(){v.sort(void 0)})),_=s((function(){v.sort(null)})),O=f("sort"),w=!s((function(){if(h)return h<70;if(!(p&&p>3)){if(d)return!0;if(y)return y<603;var t,e,n,r,o="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)v.push({k:e+r,v:n})}for(v.sort((function(t,e){return e.v-t.v})),r=0;r<v.length;r++)e=v[r].k.charAt(0),o.charAt(o.length-1)!==e&&(o+=e);return"DGBEFHACIJK"!==o}}));r({target:"Array",proto:!0,forced:m||!_||!O||!w},{sort:function(t){void 0!==t&&i(t);var e=a(this);if(w)return void 0===t?g(e):g(e,t);var n,r,o=[],s=u(e);for(r=0;r<s;r++)r in e&&b(o,e[r]);for(l(o,function(t){return function(e,n){return void 0===n?-1:void 0===e?1:void 0!==t?+t(e,n)||0:c(e)>c(n)?1:-1}}(t)),n=o.length,r=0;r<n;)e[r]=o[r++];for(;r<s;)delete e[r++];return e}})},function(t,e,n){var r=n(113),o=Math.floor,i=function(t,e){var n=t.length,c=o(n/2);return n<8?a(t,e):u(t,i(r(t,0,c),e),i(r(t,c),e),e)},a=function(t,e){for(var n,r,o=t.length,i=1;i<o;){for(r=i,n=t[i];r&&e(t[r-1],n)>0;)t[r]=t[--r];r!==i++&&(t[r]=n)}return t},u=function(t,e,n,r){for(var o=e.length,i=n.length,a=0,u=0;a<o||u<i;)t[a+u]=a<o&&u<i?r(e[a],n[u])<=0?e[a++]:n[u++]:a<o?e[a++]:n[u++];return t};t.exports=i},function(t,e,n){var r=n(53).match(/firefox\/(\d+)/i);t.exports=!!r&&+r[1]},function(t,e,n){var r=n(53);t.exports=/MSIE|Trident/.test(r)},function(t,e,n){var r=n(53).match(/AppleWebKit\/(\d+)\./);t.exports=!!r&&+r[1]},function(t,e,n){"use strict";var r=n(17),o=n(74).find,i=n(99),a="find",u=!0;a in[]&&Array(1).find((function(){u=!1})),r({target:"Array",proto:!0,forced:u},{find:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),i(a)},function(t,e,n){var r=n(7),o=n(154),i=r.TypeError;t.exports=function(t){if(o(t))throw i("The method doesn't accept regular expressions");return t}},function(t,e,n){var r=n(27)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,"/./"[t](e)}catch(t){}}return!1}},function(t,e,n){var r=n(92).PROPER,o=n(19),i=n(160);t.exports=function(t){return o((function(){return!!i[t]()||"​᠎"!=="​᠎"[t]()||r&&i[t].name!==t}))}},function(t,e,n){var r=n(15);t.exports=r(1..valueOf)},function(t,e,n){var r=n(15),o=n(39),i=Math.floor,a=r("".charAt),u=r("".replace),c=r("".slice),s=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,l=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,n,r,f,p){var d=n+t.length,h=r.length,y=l;return void 0!==f&&(f=o(f),y=s),u(p,y,(function(o,u){var s;switch(a(u,0)){case"$":return"$";case"&":return t;case"`":return c(e,0,n);case"'":return c(e,d);case"<":s=f[c(u,1,-1)];break;default:var l=+u;if(0===l)return o;if(l>h){var p=i(l/10);return 0===p?o:p<=h?void 0===r[p-1]?a(u,1):r[p-1]+a(u,1):o}s=r[l-1]}return void 0===s?"":s}))}},function(t,e,n){"use strict";var r=n(36),o=n(15),i=n(34),a=n(19),u=n(72),c=n(111),s=n(82),l=n(39),f=n(83),p=Object.assign,d=Object.defineProperty,h=o([].concat);t.exports=!p||a((function(){if(r&&1!==p({b:1},p(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol(),o="abcdefghijklmnopqrst";return t[n]=7,o.split("").forEach((function(t){e[t]=t})),7!=p({},t)[n]||u(p({},e)).join("")!=o}))?function(t,e){for(var n=l(t),o=arguments.length,a=1,p=c.f,d=s.f;o>a;)for(var y,v=f(arguments[a++]),g=p?h(u(v),p(v)):u(v),b=g.length,m=0;b>m;)y=g[m++],r&&!i(d,v,y)||(n[y]=v[y]);return n}:p},function(t,e,n){"use strict";var r=n(7),o=n(15),i=n(54),a=n(32),u=n(35),c=n(97),s=r.Function,l=o([].concat),f=o([].join),p={},d=function(t,e,n){if(!u(p,e)){for(var r=[],o=0;o<e;o++)r[o]="a["+o+"]";p[e]=s("C,a","return new C("+f(r,",")+")")}return p[e](t,n)};t.exports=s.bind||function(t){var e=i(this),n=e.prototype,r=c(arguments,1),o=function(){var n=l(r,c(arguments));return this instanceof o?d(e,n.length,n):e.apply(t,n)};return a(n)&&(o.prototype=n),o}},function(t,e,n){var r=n(35);t.exports=function(t){return void 0!==t&&(r(t,"value")||r(t,"writable"))}},function(t,e,n){var r=n(15),o=n(45),i=n(41),a=/"/g,u=r("".replace);t.exports=function(t,e,n,r){var c=i(o(t)),s="<"+e;return""!==n&&(s+=" "+n+'="'+u(i(r),a,"&quot;")+'"'),s+">"+c+"</"+e+">"}},function(t,e,n){var r=n(19);t.exports=function(t){return r((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))}},function(t,e,n){"use strict";var r,o,i,a,u=n(17),c=n(66),s=n(7),l=n(46),f=n(34),p=n(205),d=n(43),h=n(146),y=n(101),v=n(73),g=n(147),b=n(54),m=n(28),_=n(32),O=n(118),w=n(90),x=n(116),E=n(119),j=n(156),S=n(163).set,P=n(206),M=n(209),k=n(210),A=n(165),T=n(211),N=n(56),D=n(94),C=n(27),I=n(212),R=n(126),L=n(65),Z=C("species"),B="Promise",z=N.getterFor(B),F=N.set,H=N.getterFor(B),G=p&&p.prototype,X=p,W=G,U=s.TypeError,Y=s.document,V=s.process,K=A.f,q=K,$=!!(Y&&Y.createEvent&&s.dispatchEvent),J=m(s.PromiseRejectionEvent),Q="unhandledrejection",tt=!1,et=D(B,(function(){var t=w(X),e=t!==String(X);if(!e&&66===L)return!0;if(c&&!W.finally)return!0;if(L>=51&&/native code/.test(t))return!1;var n=new X((function(t){t(1)})),r=function(t){t((function(){}),(function(){}))};return(n.constructor={})[Z]=r,!(tt=n.then((function(){}))instanceof r)||!e&&I&&!J})),nt=et||!E((function(t){X.all(t).catch((function(){}))})),rt=function(t){var e;return!(!_(t)||!m(e=t.then))&&e},ot=function(t,e){if(!t.notified){t.notified=!0;var n=t.reactions;P((function(){for(var r=t.value,o=1==t.state,i=0;n.length>i;){var a,u,c,s=n[i++],l=o?s.ok:s.fail,p=s.resolve,d=s.reject,h=s.domain;try{l?(o||(2===t.rejection&&ct(t),t.rejection=1),!0===l?a=r:(h&&h.enter(),a=l(r),h&&(h.exit(),c=!0)),a===s.promise?d(U("Promise-chain cycle")):(u=rt(a))?f(u,a,p,d):p(a)):d(r)}catch(t){h&&!c&&h.exit(),d(t)}}t.reactions=[],t.notified=!1,e&&!t.rejection&&at(t)}))}},it=function(t,e,n){var r,o;$?((r=Y.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),s.dispatchEvent(r)):r={promise:e,reason:n},!J&&(o=s["on"+t])?o(r):t===Q&&k("Unhandled promise rejection",n)},at=function(t){f(S,s,(function(){var e,n=t.facade,r=t.value;if(ut(t)&&(e=T((function(){R?V.emit("unhandledRejection",r,n):it(Q,n,r)})),t.rejection=R||ut(t)?2:1,e.error))throw e.value}))},ut=function(t){return 1!==t.rejection&&!t.parent},ct=function(t){f(S,s,(function(){var e=t.facade;R?V.emit("rejectionHandled",e):it("rejectionhandled",e,t.value)}))},st=function(t,e,n){return function(r){t(e,r,n)}},lt=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,ot(t,!0))},ft=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw U("Promise can't be resolved itself");var r=rt(e);r?P((function(){var n={done:!1};try{f(r,e,st(ft,n,t),st(lt,n,t))}catch(e){lt(n,e,t)}})):(t.value=e,t.state=1,ot(t,!1))}catch(e){lt({done:!1},e,t)}}};if(et&&(W=(X=function(t){O(this,W),b(t),f(r,this);var e=z(this);try{t(st(ft,e),st(lt,e))}catch(t){lt(e,t)}}).prototype,(r=function(t){F(this,{type:B,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=h(W,{then:function(t,e){var n=H(this),r=n.reactions,o=K(j(this,X));return o.ok=!m(t)||t,o.fail=m(e)&&e,o.domain=R?V.domain:void 0,n.parent=!0,r[r.length]=o,0!=n.state&&ot(n,!1),o.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new r,e=z(t);this.promise=t,this.resolve=st(ft,e),this.reject=st(lt,e)},A.f=K=function(t){return t===X||t===i?new o(t):q(t)},!c&&m(p)&&G!==Object.prototype)){a=G.then,tt||(d(G,"then",(function(t,e){var n=this;return new X((function(t,e){f(a,n,t,e)})).then(t,e)}),{unsafe:!0}),d(G,"catch",W.catch,{unsafe:!0}));try{delete G.constructor}catch(t){}y&&y(G,W)}u({global:!0,wrap:!0,forced:et},{Promise:X}),v(X,B,!1,!0),g(B),i=l(B),u({target:B,stat:!0,forced:et},{reject:function(t){var e=K(this);return f(e.reject,void 0,t),e.promise}}),u({target:B,stat:!0,forced:c||et},{resolve:function(t){return M(c&&this===i?X:this,t)}}),u({target:B,stat:!0,forced:nt},{all:function(t){var e=this,n=K(e),r=n.resolve,o=n.reject,i=T((function(){var n=b(e.resolve),i=[],a=0,u=1;x(t,(function(t){var c=a++,s=!1;u++,f(n,e,t).then((function(t){s||(s=!0,i[c]=t,--u||r(i))}),o)})),--u||r(i)}));return i.error&&o(i.value),n.promise},race:function(t){var e=this,n=K(e),r=n.reject,o=T((function(){var o=b(e.resolve);x(t,(function(t){f(o,e,t).then(n.resolve,r)}))}));return o.error&&r(o.value),n.promise}})},function(t,e,n){var r=n(7);t.exports=r.Promise},function(t,e,n){var r,o,i,a,u,c,s,l,f=n(7),p=n(61),d=n(50).f,h=n(163).set,y=n(164),v=n(207),g=n(208),b=n(126),m=f.MutationObserver||f.WebKitMutationObserver,_=f.document,O=f.process,w=f.Promise,x=d(f,"queueMicrotask"),E=x&&x.value;E||(r=function(){var t,e;for(b&&(t=O.domain)&&t.exit();o;){e=o.fn,o=o.next;try{e()}catch(t){throw o?a():i=void 0,t}}i=void 0,t&&t.enter()},y||b||g||!m||!_?!v&&w&&w.resolve?((s=w.resolve(void 0)).constructor=w,l=p(s.then,s),a=function(){l(r)}):b?a=function(){O.nextTick(r)}:(h=p(h,f),a=function(){h(r)}):(u=!0,c=_.createTextNode(""),new m(r).observe(c,{characterData:!0}),a=function(){c.data=u=!u})),t.exports=E||function(t){var e={fn:t,next:void 0};i&&(i.next=e),o||(o=e,a()),i=e}},function(t,e,n){var r=n(53),o=n(7);t.exports=/ipad|iphone|ipod/i.test(r)&&void 0!==o.Pebble},function(t,e,n){var r=n(53);t.exports=/web0s(?!.*chrome)/i.test(r)},function(t,e,n){var r=n(33),o=n(32),i=n(165);t.exports=function(t,e){if(r(t),o(e)&&e.constructor===t)return e;var n=i.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){var r=n(7);t.exports=function(t,e){var n=r.console;n&&n.error&&(1==arguments.length?n.error(t):n.error(t,e))}},function(t,e){t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},function(t,e){t.exports="object"==typeof window},function(t,e,n){var r=n(36),o=n(15),i=n(72),a=n(40),u=o(n(82).f),c=o([].push),s=function(t){return function(e){for(var n,o=a(e),s=i(o),l=s.length,f=0,p=[];l>f;)n=s[f++],r&&!u(o,n)||c(p,t?[n,o[n]]:o[n]);return p}};t.exports={entries:s(!0),values:s(!1)}},function(t,e,n){"use strict";var r=n(39),o=n(69),i=n(44);t.exports=function(t){for(var e=r(this),n=i(e),a=arguments.length,u=o(a>1?arguments[1]:void 0,n),c=a>2?arguments[2]:void 0,s=void 0===c?n:o(c,n);s>u;)e[u++]=t;return e}},function(t,e,n){"use strict";n.r(e),n.d(e,"observer",(function(){return t_})),n.d(e,"LogicFlow",(function(){return Qm})),n.d(e,"h",(function(){return tt.g})),n.d(e,"LogicFlowUtil",(function(){return r})),n.d(e,"BaseNode",(function(){return Ny})),n.d(e,"RectNode",(function(){return Fy})),n.d(e,"CircleNode",(function(){return qy})),n.d(e,"PolygonNode",(function(){return sv})),n.d(e,"DiamondNode",(function(){return bv})),n.d(e,"EllipseNode",(function(){return Tv})),n.d(e,"TextNode",(function(){return Hv})),n.d(e,"HtmlNode",(function(){return Qv})),n.d(e,"BaseEdge",(function(){return Zg})),n.d(e,"LineEdge",(function(){return $g})),n.d(e,"PolylineEdge",(function(){return yb})),n.d(e,"BezierEdge",(function(){return Sb})),n.d(e,"Arrow",(function(){return Rb})),n.d(e,"BaseEdgeModel",(function(){return Qa})),n.d(e,"BezierEdgeModel",(function(){return op})),n.d(e,"LineEdgeModel",(function(){return vu})),n.d(e,"PolylineEdgeModel",(function(){return Cu})),n.d(e,"BaseNodeModel",(function(){return gp})),n.d(e,"CircleNodeModel",(function(){return Rp})),n.d(e,"DiamondNodeModel",(function(){return rd})),n.d(e,"EllipseNodeModel",(function(){return Od})),n.d(e,"PolygonNodeModel",(function(){return Fd})),n.d(e,"RectNodeModel",(function(){return rh})),n.d(e,"TextNodeModel",(function(){return bh})),n.d(e,"HtmlNodeModel",(function(){return Nh})),n.d(e,"EditConfigModel",(function(){return Po})),n.d(e,"GraphModel",(function(){return is})),n.d(e,"SnaplineModel",(function(){return Zh})),n.d(e,"Keyboard",(function(){return Hm})),n.d(e,"get",(function(){return gf})),n.d(e,"defaults",(function(){return _f})),n.d(e,"ElementState",(function(){return so})),n.d(e,"ModelType",(function(){return fo})),n.d(e,"ElementType",(function(){return po})),n.d(e,"EventType",(function(){return ho})),n.d(e,"formateAnchorConnectValidateData",(function(){return Ha}));var r={};n.r(r),n.d(r,"createUuid",(function(){return Qi})),n.d(r,"refreshGraphId",(function(){return ta})),n.d(r,"createDrag",(function(){return kc})),n.d(r,"StepDrag",(function(){return Gc}));var o=n(1),i=n(10);if(!i.j)throw new Error("mobx-react-lite requires React with Hooks support");if(!o.H)throw new Error("mobx-react-lite requires mobx at least version 4 to be available");var a=n(42),u=Object(a.b)("observerBatching");function c(t){t()}var s=!1;function l(){return s}function f(t){return Object(o.t)(t)}var p,d=1e4,h=new Set;function y(){void 0===p&&(p=setTimeout(v,1e4))}function v(){p=void 0;var t=Date.now();h.forEach((function(e){var n=e.current;n&&t>=n.cleanAt&&(n.reaction.dispose(),e.current=null,h.delete(e))})),h.size>0&&y()}var g=!1,b=[],m={};function _(t){return"observer"+t}function O(t,e,n){if(void 0===e&&(e="observed"),void 0===n&&(n=m),l())return t();var r,u=function(t){return function(){g?b.push(t):t()}}((n.useForceUpdate||a.d)()),c=i.d.useRef(null);if(!c.current){var s=new o.c(_(e),(function(){p.mounted?u():(s.dispose(),c.current=null)})),p=function(t){return{cleanAt:Date.now()+d,reaction:t}}(s);c.current=p,r=c,h.add(r),y()}var v=c.current.reaction;return i.d.useDebugValue(v,f),i.d.useEffect((function(){var t;return t=c,h.delete(t),c.current?c.current.mounted=!0:(c.current={reaction:new o.c(_(e),(function(){u()})),cleanAt:1/0},u()),function(){c.current.reaction.dispose(),c.current=null}}),[]),function(t){g=!0,b=[];try{var e=t();g=!1;var n=b.length>0?b:void 0;return i.d.useLayoutEffect((function(){n&&n.forEach((function(t){return t()}))}),[n]),e}finally{g=!1}}((function(){var e,n;if(v.track((function(){try{e=t()}catch(t){n=t}})),n)throw n;return e}))}var w=function(){return w=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},w.apply(this,arguments)};function x(t,e){if(l())return t;var n,r,o,a=w({forwardRef:!1},e),u=t.displayName||t.name,c=function(e,n){return O((function(){return t(e,n)}),u)};return c.displayName=u,n=a.forwardRef?Object(i.f)(Object(i.e)(c)):Object(i.f)(c),r=t,o=n,Object.keys(r).forEach((function(t){j[t]||Object.defineProperty(o,t,Object.getOwnPropertyDescriptor(r,t))})),n.displayName=u,n}var E,j={$$typeof:!0,render:!0,compare:!0,type:!0};function S(t){var e=t.children,n=t.render,r=e||n;return"function"!=typeof r?null:O(r)}function P(t,e,n,r,o){var i="children"===e?"render":"children",a="function"==typeof t[e],u="function"==typeof t[i];return a&&u?new Error("MobX Observer: Do not use children and render in the same time in`"+n):a||u?null:new Error("Invalid prop `"+o+"` of type `"+typeof t[e]+"` supplied to `"+n+"`, expected `function`.")}S.propTypes={children:P,render:P},S.displayName="Observer",(E=i.g)||(E=c),Object(o.n)({reactionScheduler:E}),Object(a.a)()[u]=!0;var M=0,k={};function A(t){return k[t]||(k[t]=function(t){if("function"==typeof Symbol)return Symbol(t);var e="__$mobx-react "+t+" ("+M+")";return M++,e}(t)),k[t]}function T(t,e){if(N(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(!Object.hasOwnProperty.call(e,n[o])||!N(t[n[o]],e[n[o]]))return!1;return!0}function N(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}function D(t,e,n){Object.hasOwnProperty.call(t,e)?t[e]=n:Object.defineProperty(t,e,{enumerable:!1,configurable:!0,writable:!0,value:n})}var C=A("patchMixins"),I=A("patchedDefinition");function R(t,e){for(var n=this,r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];e.locks++;try{var a;return null!=t&&(a=t.apply(this,o)),a}finally{e.locks--,0===e.locks&&e.methods.forEach((function(t){t.apply(n,o)}))}}function L(t,e){return function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];R.call.apply(R,[this,t,e].concat(r))}}function Z(t,e,n){var r=function(t,e){var n=t[C]=t[C]||{},r=n[e]=n[e]||{};return r.locks=r.locks||0,r.methods=r.methods||[],r}(t,e);r.methods.indexOf(n)<0&&r.methods.push(n);var o=Object.getOwnPropertyDescriptor(t,e);if(!o||!o[I]){var i=t[e],a=B(t,e,o?o.enumerable:void 0,r,i);Object.defineProperty(t,e,a)}}function B(t,e,n,r,o){var i,a=L(o,r);return(i={})[I]=!0,i.get=function(){return a},i.set=function(o){if(this===t)a=L(o,r);else{var i=B(this,e,n,r,o);Object.defineProperty(this,e,i)}},i.configurable=!0,i.enumerable=n,i}var z=o.a||"$mobx",F=A("isMobXReactObserver"),H=A("isUnmounted"),G=A("skipRender"),X=A("isForcingUpdate");function W(t){var e=t.prototype;if(t[F]?U(e):t[F]=!0,e.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(t.__proto__!==i.b)if(e.shouldComponentUpdate){if(e.shouldComponentUpdate!==V)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}else e.shouldComponentUpdate=V;K(e,"props"),K(e,"state");var n=e.render;return e.render=function(){return Y.call(this,n)},Z(e,"componentWillUnmount",(function(){var t;!0===l()||(null===(t=this.render[z])||void 0===t||t.dispose(),this[H]=!0,this.render[z])||U(this)})),t}function U(t){return t.displayName||t.name||t.constructor&&(t.constructor.displayName||t.constructor.name)||"<component>"}function Y(t){var e=this;if(!0===l())return t.call(this);D(this,G,!1),D(this,X,!1);var n=U(this),r=t.bind(this),a=!1,u=new o.c(n+".render()",(function(){if(!a&&(a=!0,!0!==e[H])){var t=!0;try{D(e,X,!0),e[G]||i.a.prototype.forceUpdate.call(e),t=!1}finally{D(e,X,!1),t&&u.dispose()}}}));function c(){a=!1;var t=void 0,e=void 0;if(u.track((function(){try{e=Object(o.d)(!1,r)}catch(e){t=e}})),t)throw t;return e}return u.reactComponent=this,c[z]=u,this.render=c,c.call(this)}function V(t,e){return l(),this.state!==e||!T(this.props,t)}function K(t,e){var n=A("reactProp_"+e+"_valueHolder"),r=A("reactProp_"+e+"_atomHolder");function i(){return this[r]||D(this,r,Object(o.o)("reactive "+e)),this[r]}Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){var t=!1;return o.f&&o.e&&(t=Object(o.f)(!0)),i.call(this).reportObserved(),o.f&&o.e&&Object(o.e)(t),this[n]},set:function(t){this[X]||T(this[n],t)?D(this,n,t):(D(this,n,t),D(this,G,!0),i.call(this).reportChanged(),D(this,G,!1))}})}var q="function"==typeof Symbol&&Symbol.for,$=q?Symbol.for("react.forward_ref"):"function"==typeof i.e&&Object(i.e)((function(t){return null})).$$typeof,J=q?Symbol.for("react.memo"):"function"==typeof i.f&&Object(i.f)((function(t){return null})).$$typeof;function Q(t){if(t.isMobxInjector,J&&t.$$typeof===J)throw new Error("Mobx observer: You are trying to use 'observer' on a function component wrapped in either another observer or 'React.memo'. The observer already applies 'React.memo' for you.");if($&&t.$$typeof===$){var e=t.render;if("function"!=typeof e)throw new Error("render property of ForwardRef was not a function");return Object(i.e)((function(){var t=arguments;return Object(i.c)(S,null,(function(){return e.apply(void 0,t)}))}))}return"function"!=typeof t||t.prototype&&t.prototype.render||t.isReactClass||Object.prototype.isPrototypeOf.call(i.a,t)?W(t):x(t)}if(!i.a)throw new Error("mobx-react requires React to be available");if(!o.C)throw new Error("mobx-react requires mobx to be available");var tt=n(0);n(4),n(8),n(2),n(3),n(62),n(6),n(5),n(11),n(38),n(29),n(22),n(20),n(23),n(21),n(25),n(9),n(16),n(24),n(18),n(188),n(193),n(103),n(152),n(153);var et=function(t,e){for(var n=-1,r=null==t?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o},nt=function(){this.__data__=[],this.size=0},rt=function(t,e){return t===e||t!=t&&e!=e},ot=function(t,e){for(var n=t.length;n--;)if(rt(t[n][0],e))return n;return-1},it=Array.prototype.splice,at=function(t){var e=this.__data__,n=ot(e,t);return!(n<0)&&(n==e.length-1?e.pop():it.call(e,n,1),--this.size,!0)},ut=function(t){var e=this.__data__,n=ot(e,t);return n<0?void 0:e[n][1]},ct=function(t){return ot(this.__data__,t)>-1},st=function(t,e){var n=this.__data__,r=ot(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};function lt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}lt.prototype.clear=nt,lt.prototype.delete=at,lt.prototype.get=ut,lt.prototype.has=ct,lt.prototype.set=st;var ft,pt=lt,dt=function(){this.__data__=new pt,this.size=0},ht=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},yt=function(t){return this.__data__.get(t)},vt=function(t){return this.__data__.has(t)},gt=n(31),bt=gt.a.Symbol,mt=Object.prototype,_t=mt.hasOwnProperty,Ot=mt.toString,wt=bt?bt.toStringTag:void 0,xt=function(t){var e=_t.call(t,wt),n=t[wt];try{t[wt]=void 0;var r=!0}catch(t){}var o=Ot.call(t);return r&&(e?t[wt]=n:delete t[wt]),o},Et=Object.prototype.toString,jt=function(t){return Et.call(t)},St=bt?bt.toStringTag:void 0,Pt=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":St&&St in Object(t)?xt(t):jt(t)},Mt=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},kt=function(t){if(!Mt(t))return!1;var e=Pt(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},At=gt.a["__core-js_shared__"],Tt=(ft=/[^.]+$/.exec(At&&At.keys&&At.keys.IE_PROTO||""))?"Symbol(src)_1."+ft:"",Nt=function(t){return!!Tt&&Tt in t},Dt=Function.prototype.toString,Ct=function(t){if(null!=t){try{return Dt.call(t)}catch(t){}try{return t+""}catch(t){}}return""},It=/^\[object .+?Constructor\]$/,Rt=Function.prototype,Lt=Object.prototype,Zt=Rt.toString,Bt=Lt.hasOwnProperty,zt=RegExp("^"+Zt.call(Bt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ft=function(t){return!(!Mt(t)||Nt(t))&&(kt(t)?zt:It).test(Ct(t))},Ht=function(t,e){return null==t?void 0:t[e]},Gt=function(t,e){var n=Ht(t,e);return Ft(n)?n:void 0},Xt=Gt(gt.a,"Map"),Wt=Gt(Object,"create"),Ut=function(){this.__data__=Wt?Wt(null):{},this.size=0},Yt=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Vt=Object.prototype.hasOwnProperty,Kt=function(t){var e=this.__data__;if(Wt){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return Vt.call(e,t)?e[t]:void 0},qt=Object.prototype.hasOwnProperty,$t=function(t){var e=this.__data__;return Wt?void 0!==e[t]:qt.call(e,t)},Jt=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Wt&&void 0===e?"__lodash_hash_undefined__":e,this};function Qt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Qt.prototype.clear=Ut,Qt.prototype.delete=Yt,Qt.prototype.get=Kt,Qt.prototype.has=$t,Qt.prototype.set=Jt;var te=Qt,ee=function(){this.size=0,this.__data__={hash:new te,map:new(Xt||pt),string:new te}},ne=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t},re=function(t,e){var n=t.__data__;return ne(e)?n["string"==typeof e?"string":"hash"]:n.map},oe=function(t){var e=re(this,t).delete(t);return this.size-=e?1:0,e},ie=function(t){return re(this,t).get(t)},ae=function(t){return re(this,t).has(t)},ue=function(t,e){var n=re(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};function ce(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ce.prototype.clear=ee,ce.prototype.delete=oe,ce.prototype.get=ie,ce.prototype.has=ae,ce.prototype.set=ue;var se=ce,le=function(t,e){var n=this.__data__;if(n instanceof pt){var r=n.__data__;if(!Xt||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new se(r)}return n.set(t,e),this.size=n.size,this};function fe(t){var e=this.__data__=new pt(t);this.size=e.size}fe.prototype.clear=dt,fe.prototype.delete=ht,fe.prototype.get=yt,fe.prototype.has=vt,fe.prototype.set=le;var pe=fe,de=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},he=function(t){return this.__data__.has(t)};function ye(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new se;++e<n;)this.add(t[e])}ye.prototype.add=ye.prototype.push=de,ye.prototype.has=he;var ve=ye,ge=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1},be=function(t,e){return t.has(e)},me=function(t,e,n,r,o,i){var a=1&n,u=t.length,c=e.length;if(u!=c&&!(a&&c>u))return!1;var s=i.get(t),l=i.get(e);if(s&&l)return s==e&&l==t;var f=-1,p=!0,d=2&n?new ve:void 0;for(i.set(t,e),i.set(e,t);++f<u;){var h=t[f],y=e[f];if(r)var v=a?r(y,h,f,e,t,i):r(h,y,f,t,e,i);if(void 0!==v){if(v)continue;p=!1;break}if(d){if(!ge(e,(function(t,e){if(!be(d,e)&&(h===t||o(h,t,n,r,i)))return d.push(e)}))){p=!1;break}}else if(h!==y&&!o(h,y,n,r,i)){p=!1;break}}return i.delete(t),i.delete(e),p},_e=gt.a.Uint8Array,Oe=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n},we=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n},xe=bt?bt.prototype:void 0,Ee=xe?xe.valueOf:void 0,je=function(t,e,n,r,o,i,a){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!i(new _e(t),new _e(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return rt(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var u=Oe;case"[object Set]":var c=1&r;if(u||(u=we),t.size!=e.size&&!c)return!1;var s=a.get(t);if(s)return s==e;r|=2,a.set(t,e);var l=me(u(t),u(e),r,o,i,a);return a.delete(t),l;case"[object Symbol]":if(Ee)return Ee.call(t)==Ee.call(e)}return!1},Se=function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t},Pe=Array.isArray,Me=function(t,e,n){var r=e(t);return Pe(t)?r:Se(r,n(t))},ke=function(t,e){for(var n=-1,r=null==t?0:t.length,o=0,i=[];++n<r;){var a=t[n];e(a,n,t)&&(i[o++]=a)}return i},Ae=function(){return[]},Te=Object.prototype.propertyIsEnumerable,Ne=Object.getOwnPropertySymbols,De=Ne?function(t){return null==t?[]:(t=Object(t),ke(Ne(t),(function(e){return Te.call(t,e)})))}:Ae,Ce=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r},Ie=function(t){return null!=t&&"object"==typeof t},Re=function(t){return Ie(t)&&"[object Arguments]"==Pt(t)},Le=Object.prototype,Ze=Le.hasOwnProperty,Be=Le.propertyIsEnumerable,ze=Re(function(){return arguments}())?Re:function(t){return Ie(t)&&Ze.call(t,"callee")&&!Be.call(t,"callee")},Fe=ze,He=n(48),Ge=/^(?:0|[1-9]\d*)$/,Xe=function(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&Ge.test(t))&&t>-1&&t%1==0&&t<e},We=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},Ue={};Ue["[object Float32Array]"]=Ue["[object Float64Array]"]=Ue["[object Int8Array]"]=Ue["[object Int16Array]"]=Ue["[object Int32Array]"]=Ue["[object Uint8Array]"]=Ue["[object Uint8ClampedArray]"]=Ue["[object Uint16Array]"]=Ue["[object Uint32Array]"]=!0,Ue["[object Arguments]"]=Ue["[object Array]"]=Ue["[object ArrayBuffer]"]=Ue["[object Boolean]"]=Ue["[object DataView]"]=Ue["[object Date]"]=Ue["[object Error]"]=Ue["[object Function]"]=Ue["[object Map]"]=Ue["[object Number]"]=Ue["[object Object]"]=Ue["[object RegExp]"]=Ue["[object Set]"]=Ue["[object String]"]=Ue["[object WeakMap]"]=!1;var Ye=function(t){return Ie(t)&&We(t.length)&&!!Ue[Pt(t)]},Ve=function(t){return function(e){return t(e)}},Ke=n(49),qe=Ke.a&&Ke.a.isTypedArray,$e=qe?Ve(qe):Ye,Je=Object.prototype.hasOwnProperty,Qe=function(t,e){var n=Pe(t),r=!n&&Fe(t),o=!n&&!r&&Object(He.a)(t),i=!n&&!r&&!o&&$e(t),a=n||r||o||i,u=a?Ce(t.length,String):[],c=u.length;for(var s in t)!e&&!Je.call(t,s)||a&&("length"==s||o&&("offset"==s||"parent"==s)||i&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||Xe(s,c))||u.push(s);return u},tn=Object.prototype,en=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||tn)},nn=function(t,e){return function(n){return t(e(n))}},rn=nn(Object.keys,Object),on=Object.prototype.hasOwnProperty,an=function(t){if(!en(t))return rn(t);var e=[];for(var n in Object(t))on.call(t,n)&&"constructor"!=n&&e.push(n);return e},un=function(t){return null!=t&&We(t.length)&&!kt(t)},cn=function(t){return un(t)?Qe(t):an(t)},sn=function(t){return Me(t,cn,De)},ln=Object.prototype.hasOwnProperty,fn=function(t,e,n,r,o,i){var a=1&n,u=sn(t),c=u.length;if(c!=sn(e).length&&!a)return!1;for(var s=c;s--;){var l=u[s];if(!(a?l in e:ln.call(e,l)))return!1}var f=i.get(t),p=i.get(e);if(f&&p)return f==e&&p==t;var d=!0;i.set(t,e),i.set(e,t);for(var h=a;++s<c;){var y=t[l=u[s]],v=e[l];if(r)var g=a?r(v,y,l,e,t,i):r(y,v,l,t,e,i);if(!(void 0===g?y===v||o(y,v,n,r,i):g)){d=!1;break}h||(h="constructor"==l)}if(d&&!h){var b=t.constructor,m=e.constructor;b==m||!("constructor"in t)||!("constructor"in e)||"function"==typeof b&&b instanceof b&&"function"==typeof m&&m instanceof m||(d=!1)}return i.delete(t),i.delete(e),d},pn=Gt(gt.a,"DataView"),dn=Gt(gt.a,"Promise"),hn=Gt(gt.a,"Set"),yn=Gt(gt.a,"WeakMap"),vn="[object Map]",gn="[object Promise]",bn="[object Set]",mn="[object WeakMap]",_n="[object DataView]",On=Ct(pn),wn=Ct(Xt),xn=Ct(dn),En=Ct(hn),jn=Ct(yn),Sn=Pt;(pn&&Sn(new pn(new ArrayBuffer(1)))!=_n||Xt&&Sn(new Xt)!=vn||dn&&Sn(dn.resolve())!=gn||hn&&Sn(new hn)!=bn||yn&&Sn(new yn)!=mn)&&(Sn=function(t){var e=Pt(t),n="[object Object]"==e?t.constructor:void 0,r=n?Ct(n):"";if(r)switch(r){case On:return _n;case wn:return vn;case xn:return gn;case En:return bn;case jn:return mn}return e});var Pn=Sn,Mn="[object Arguments]",kn="[object Array]",An="[object Object]",Tn=Object.prototype.hasOwnProperty,Nn=function(t,e,n,r,o,i){var a=Pe(t),u=Pe(e),c=a?kn:Pn(t),s=u?kn:Pn(e),l=(c=c==Mn?An:c)==An,f=(s=s==Mn?An:s)==An,p=c==s;if(p&&Object(He.a)(t)){if(!Object(He.a)(e))return!1;a=!0,l=!1}if(p&&!l)return i||(i=new pe),a||$e(t)?me(t,e,n,r,o,i):je(t,e,c,n,r,o,i);if(!(1&n)){var d=l&&Tn.call(t,"__wrapped__"),h=f&&Tn.call(e,"__wrapped__");if(d||h){var y=d?t.value():t,v=h?e.value():e;return i||(i=new pe),o(y,v,n,r,i)}}return!!p&&(i||(i=new pe),fn(t,e,n,r,o,i))},Dn=function t(e,n,r,o,i){return e===n||(null==e||null==n||!Ie(e)&&!Ie(n)?e!=e&&n!=n:Nn(e,n,r,o,t,i))},Cn=function(t,e,n,r){var o=n.length,i=o,a=!r;if(null==t)return!i;for(t=Object(t);o--;){var u=n[o];if(a&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++o<i;){var c=(u=n[o])[0],s=t[c],l=u[1];if(a&&u[2]){if(void 0===s&&!(c in t))return!1}else{var f=new pe;if(r)var p=r(s,l,c,t,e,f);if(!(void 0===p?Dn(l,s,3,r,f):p))return!1}}return!0},In=function(t){return t==t&&!Mt(t)},Rn=function(t){for(var e=cn(t),n=e.length;n--;){var r=e[n],o=t[r];e[n]=[r,o,In(o)]}return e},Ln=function(t,e){return function(n){return null!=n&&n[t]===e&&(void 0!==e||t in Object(n))}},Zn=function(t){var e=Rn(t);return 1==e.length&&e[0][2]?Ln(e[0][0],e[0][1]):function(n){return n===t||Cn(n,t,e)}},Bn=function(t){return"symbol"==typeof t||Ie(t)&&"[object Symbol]"==Pt(t)},zn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Fn=/^\w*$/,Hn=function(t,e){if(Pe(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Bn(t))||Fn.test(t)||!zn.test(t)||null!=e&&t in Object(e)};function Gn(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=t.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(Gn.Cache||se),n}Gn.Cache=se;var Xn=Gn,Wn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Un=/\\(\\)?/g,Yn=function(t){var e=Xn(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Wn,(function(t,n,r,o){e.push(r?o.replace(Un,"$1"):n||t)})),e})),Vn=bt?bt.prototype:void 0,Kn=Vn?Vn.toString:void 0,qn=function t(e){if("string"==typeof e)return e;if(Pe(e))return et(e,t)+"";if(Bn(e))return Kn?Kn.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n},$n=function(t){return null==t?"":qn(t)},Jn=function(t,e){return Pe(t)?t:Hn(t,e)?[t]:Yn($n(t))},Qn=function(t){if("string"==typeof t||Bn(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e},tr=function(t,e){for(var n=0,r=(e=Jn(e,t)).length;null!=t&&n<r;)t=t[Qn(e[n++])];return n&&n==r?t:void 0},er=function(t,e,n){var r=null==t?void 0:tr(t,e);return void 0===r?n:r},nr=function(t,e){return null!=t&&e in Object(t)},rr=function(t,e,n){for(var r=-1,o=(e=Jn(e,t)).length,i=!1;++r<o;){var a=Qn(e[r]);if(!(i=null!=t&&n(t,a)))break;t=t[a]}return i||++r!=o?i:!!(o=null==t?0:t.length)&&We(o)&&Xe(a,o)&&(Pe(t)||Fe(t))},or=function(t,e){return null!=t&&rr(t,e,nr)},ir=function(t,e){return Hn(t)&&In(e)?Ln(Qn(t),e):function(n){var r=er(n,t);return void 0===r&&r===e?or(n,t):Dn(e,r,3)}},ar=function(t){return t},ur=function(t){return function(e){return null==e?void 0:e[t]}},cr=function(t){return function(e){return tr(e,t)}},sr=function(t){return Hn(t)?ur(Qn(t)):cr(t)},lr=function(t){return"function"==typeof t?t:null==t?ar:"object"==typeof t?Pe(t)?ir(t[0],t[1]):Zn(t):sr(t)},fr=function(t){return function(e,n,r){for(var o=-1,i=Object(e),a=r(e),u=a.length;u--;){var c=a[t?u:++o];if(!1===n(i[c],c,i))break}return e}}(),pr=function(t,e){return function(n,r){if(null==n)return n;if(!un(n))return t(n,r);for(var o=n.length,i=e?o:-1,a=Object(n);(e?i--:++i<o)&&!1!==r(a[i],i,a););return n}}((function(t,e){return t&&fr(t,e,cn)})),dr=function(t,e){var n=-1,r=un(t)?Array(t.length):[];return pr(t,(function(t,o,i){r[++n]=e(t,o,i)})),r},hr=function(t,e){return(Pe(t)?et:dr)(t,lr(e,3))};Object(o.n)({isolateGlobalState:!0});var yr,vr,gr,br,mr,_r,Or,wr,xr,Er,jr,Sr,Pr,Mr,kr,Ar,Tr,Nr,Dr=function(){try{var t=Gt(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),Cr=function(t,e,n){"__proto__"==e&&Dr?Dr(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n},Ir=Object.prototype.hasOwnProperty,Rr=function(t,e,n){var r=t[e];Ir.call(t,e)&&rt(r,n)&&(void 0!==n||e in t)||Cr(t,e,n)},Lr=function(t,e,n,r){var o=!n;n||(n={});for(var i=-1,a=e.length;++i<a;){var u=e[i],c=r?r(n[u],t[u],u,n,t):void 0;void 0===c&&(c=t[u]),o?Cr(n,u,c):Rr(n,u,c)}return n},Zr=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)},Br=Math.max,zr=function(t,e,n){return e=Br(void 0===e?t.length-1:e,0),function(){for(var r=arguments,o=-1,i=Br(r.length-e,0),a=Array(i);++o<i;)a[o]=r[e+o];o=-1;for(var u=Array(e+1);++o<e;)u[o]=r[o];return u[e]=n(a),Zr(t,this,u)}},Fr=function(t){return function(){return t}},Hr=Dr?function(t,e){return Dr(t,"toString",{configurable:!0,enumerable:!1,value:Fr(e),writable:!0})}:ar,Gr=Date.now,Xr=function(t){var e=0,n=0;return function(){var r=Gr(),o=16-(r-n);if(n=r,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}},Wr=Xr(Hr),Ur=function(t,e){return Wr(zr(t,e,ar),t+"")},Yr=function(t,e,n){if(!Mt(n))return!1;var r=typeof e;return!!("number"==r?un(n)&&Xe(e,n.length):"string"==r&&e in n)&&rt(n[e],t)},Vr=function(t){return Ur((function(e,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,a=o>2?n[2]:void 0;for(i=t.length>3&&"function"==typeof i?(o--,i):void 0,a&&Yr(n[0],n[1],a)&&(i=o<3?void 0:i,o=1),e=Object(e);++r<o;){var u=n[r];u&&t(e,u,r,i)}return e}))},Kr=Object.prototype.hasOwnProperty,qr=Vr((function(t,e){if(en(e)||un(e))Lr(e,cn(e),t);else for(var n in e)Kr.call(e,n)&&Rr(t,n,e[n])})),$r=function(t,e,n,r){if(!Mt(t))return t;for(var o=-1,i=(e=Jn(e,t)).length,a=i-1,u=t;null!=u&&++o<i;){var c=Qn(e[o]),s=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return t;if(o!=a){var l=u[c];void 0===(s=r?r(l,c,u):void 0)&&(s=Mt(l)?l:Xe(e[o+1])?[]:{})}Rr(u,c,s),u=u[c]}return t},Jr=function(t,e,n){for(var r=-1,o=e.length,i={};++r<o;){var a=e[r],u=tr(t,a);n(u,a)&&$r(i,Jn(a,t),u)}return i},Qr=function(t,e){return Jr(t,e,(function(e,n){return or(t,n)}))},to=bt?bt.isConcatSpreadable:void 0,eo=function(t){return Pe(t)||Fe(t)||!!(to&&t&&t[to])},no=function t(e,n,r,o,i){var a=-1,u=e.length;for(r||(r=eo),i||(i=[]);++a<u;){var c=e[a];n>0&&r(c)?n>1?t(c,n-1,r,o,i):Se(i,c):o||(i[i.length]=c)}return i},ro=function(t){return null!=t&&t.length?no(t,1):[]},oo=function(t){return Wr(zr(t,void 0,ro),t+"")}((function(t,e){return null==t?{}:Qr(t,e)}));function io(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function ao(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function uo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function co(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var so,lo,fo,po,ho,yo,vo,go,bo,mo,_o,Oo,wo,xo,Eo,jo={stopZoomGraph:!1,stopScrollGraph:!1,stopMoveGraph:!1,adjustEdge:!1,adjustEdgeStartAndEnd:!1,adjustNodePosition:!1,hideAnchors:!0,nodeSelectedOutline:!0,nodeTextEdit:!1,edgeTextEdit:!1,nodeTextDraggable:!1,edgeTextDraggable:!1},So=["isSilentMode","stopZoomGraph","stopScrollGraph","stopMoveGraph","adjustEdge","adjustEdgeMiddle","adjustEdgeStartAndEnd","adjustNodePosition","hideAnchors","hoverOutline","nodeSelectedOutline","edgeSelectedOutline","nodeTextEdit","edgeTextEdit","nodeTextDraggable","edgeTextDraggable","multipleSelectKey","autoExpand"],Po=(vr=co((yr=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),io(this,"isSilentMode",vr,this),io(this,"stopZoomGraph",gr,this),io(this,"stopScrollGraph",br,this),io(this,"stopMoveGraph",mr,this),io(this,"adjustEdge",_r,this),io(this,"adjustEdgeMiddle",Or,this),io(this,"adjustEdgeStartAndEnd",wr,this),io(this,"adjustNodePosition",xr,this),io(this,"hideAnchors",Er,this),io(this,"hoverOutline",jr,this),io(this,"nodeSelectedOutline",Sr,this),io(this,"edgeSelectedOutline",Pr,this),io(this,"nodeTextEdit",Mr,this),io(this,"edgeTextEdit",kr,this),io(this,"nodeTextDraggable",Ar,this),io(this,"edgeTextDraggable",Tr,this),io(this,"autoExpand",Nr,this),uo(this,"multipleSelectKey",""),uo(this,"defaultConfig",{}),qr(this,this.getConfigDetail(e))}var e,n,r;return e=t,(n=[{key:"updateEditConfig",value:function(t){var e=this.getConfigDetail(t);qr(this,e)}},{key:"getConfigDetail",value:function(t){var e=t.isSilentMode,n=t.textEdit,r={};if(!1===e&&qr(r,this.defaultConfig),!0===e&&e!==this.isSilentMode){var o=oo(jo,So);this.defaultConfig={stopZoomGraph:this.stopZoomGraph,stopScrollGraph:this.stopScrollGraph,stopMoveGraph:this.stopMoveGraph,adjustEdge:this.adjustEdge,adjustEdgeMiddle:this.adjustEdgeMiddle,adjustEdgeStartAndEnd:this.adjustEdgeStartAndEnd,adjustNodePosition:this.adjustNodePosition,hideAnchors:this.hideAnchors,hoverOutline:this.hoverOutline,nodeSelectedOutline:this.nodeSelectedOutline,edgeSelectedOutline:this.edgeSelectedOutline,nodeTextEdit:this.nodeTextEdit,edgeTextEdit:this.edgeTextEdit,nodeTextDraggable:this.nodeTextDraggable,edgeTextDraggable:this.edgeTextDraggable,autoExpand:this.autoExpand},qr(r,o)}!1===n&&qr(r,{nodeTextEdit:!1,edgeTextEdit:!1});var i=oo(t,So);return qr(r,i)}},{key:"getConfig",value:function(){return oo(this,So)}}])&&ao(e.prototype,n),r&&ao(e,r),t}()).prototype,"isSilentMode",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),gr=co(yr.prototype,"stopZoomGraph",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),br=co(yr.prototype,"stopScrollGraph",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),mr=co(yr.prototype,"stopMoveGraph",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_r=co(yr.prototype,"adjustEdge",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Or=co(yr.prototype,"adjustEdgeMiddle",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),wr=co(yr.prototype,"adjustEdgeStartAndEnd",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),xr=co(yr.prototype,"adjustNodePosition",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Er=co(yr.prototype,"hideAnchors",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),jr=co(yr.prototype,"hoverOutline",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Sr=co(yr.prototype,"nodeSelectedOutline",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Pr=co(yr.prototype,"edgeSelectedOutline",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Mr=co(yr.prototype,"nodeTextEdit",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),kr=co(yr.prototype,"edgeTextEdit",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ar=co(yr.prototype,"nodeTextDraggable",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Tr=co(yr.prototype,"edgeTextDraggable",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Nr=co(yr.prototype,"autoExpand",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),co(yr.prototype,"updateEditConfig",[o.k],Object.getOwnPropertyDescriptor(yr.prototype,"updateEditConfig"),yr.prototype),yr);function Mo(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return ko(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ko(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ko(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ao(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function To(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function No(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Do(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}n(63),function(t){t[t.DEFAULT=1]="DEFAULT",t[t.TEXT_EDIT=2]="TEXT_EDIT",t[t.SHOW_MENU=3]="SHOW_MENU",t[t.ALLOW_CONNECT=4]="ALLOW_CONNECT",t[t.NOT_ALLOW_CONNECT=5]="NOT_ALLOW_CONNECT"}(so||(so={})),function(t){t.KEY="logic-flow",t.NODE_NAME="lf-node",t.EDGE_NAME="lf-edge"}(lo||(lo={})),function(t){t.NODE="node",t.CIRCLE_NODE="circle-node",t.POLYGON_NODE="polygon-node",t.RECT_NODE="rect-node",t.TEXT_NODE="text-node",t.ELLIPSE_NODE="ellipse-node",t.DIAMOND_NODE="diamond-node",t.HTML_NODE="html-node",t.EDGE="edge",t.LINE_EDGE="line-edge",t.POLYLINE_EDGE="polyline-edge",t.BEZIER_EDGE="bezier-edge",t.GRAPH="graph"}(fo||(fo={})),function(t){t.NODE="node",t.EDGE="edge",t.GRAPH="graph"}(po||(po={})),function(t){t.ELEMENT_CLICK="element:click",t.NODE_CLICK="node:click",t.NODE_DBCLICK="node:dbclick",t.NODE_DELETE="node:delete",t.NODE_ADD="node:add",t.NODE_DND_ADD="node:dnd-add",t.NODE_DND_DRAG="node:dnd-drag",t.NODE_MOUSEDOWN="node:mousedown",t.NODE_DRAGSTART="node:dragstart",t.NODE_DRAG="node:drag",t.NODE_DROP="node:drop",t.NODE_MOUSEUP="node:mouseup",t.NODE_MOUSEMOVE="node:mousemove",t.NODE_MOUSEENTER="node:mouseenter",t.NODE_MOUSELEAVE="node:mouseleave",t.NODE_CONTEXTMENU="node:contextmenu",t.EDGE_DELETE="edge:delete",t.EDGE_ADD="edge:add",t.EDGE_CLICK="edge:click",t.EDGE_DBCLICK="edge:dbclick",t.EDGE_MOUSEENTER="edge:mouseenter",t.EDGE_MOUSELEAVE="edge:mouseleave",t.EDGE_CONTEXTMENU="edge:contextmenu",t.EDGE_ADJUST="edge:adjust",t.EDGE_EXCHANGE_NODE="edge:exchange-node",t.ANCHOR_DRAGSTART="anchor:dragstart",t.ANCHOR_DRAG="anchor:drag",t.ANCHOR_DROP="anchor:drop",t.ANCHOR_DRAGEND="anchor:dragend",t.ADJUST_POINT_MOUSEDOWN="adjustPoint:mousedown",t.ADJUST_POINT_MOUSEUP="adjustPoint:mouseup",t.ADJUST_POINT_MOUSEMOVE="adjustPoint:mousemove",t.ADJUST_POINT_DRAGSTART="adjustPoint:dragstart",t.ADJUST_POINT_DRAG="adjustPoint:drag",t.ADJUST_POINT_DROP="adjustPoint:drop",t.ADJUST_POINT_DRAGEND="adjustPoint:dragend",t.BLANK_MOUSEDOWN="blank:mousedown",t.BLANK_DRAGSTART="blank:dragstart",t.BLANK_DRAG="blank:drag",t.BLANK_DROP="blank:drop",t.BLANK_MOUSEMOVE="blank:mousemove",t.BLANK_MOUSEUP="blank:mouseup",t.BLANK_CLICK="blank:click",t.BLANK_CONTEXTMENU="blank:contextmenu",t.SELECTION_MOUSEDOWN="selection:mousedown",t.SELECTION_DRAGSTART="selection:dragstart",t.SELECTION_DRAG="selection:drag",t.SELECTION_DROP="selection:drop",t.SELECTION_MOUSEMOVE="selection:mousemove",t.SELECTION_MOUSEUP="selection:mouseup",t.SELECTION_CONTEXTMENU="selection:contextmenu",t.CONNECTION_NOT_ALLOWED="connection:not-allowed",t.HISTORY_CHANGE="history:change",t.TEXT_UPDATE="text:update",t.GRAPH_TRANSFORM="graph:transform",t.GRAPH_RENDERED="graph:rendered"}(ho||(ho={})),function(t){t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(yo||(yo={})),function(t){t[t.DEFAULT=0]="DEFAULT",t[t.INCREASE=1]="INCREASE"}(vo||(vo={}));var Co=(go=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),No(this,"MINI_SCALE_SIZE",.2),No(this,"MAX_SCALE_SIZE",16),Ao(this,"SCALE_X",bo,this),Ao(this,"SKEW_Y",mo,this),Ao(this,"SKEW_X",_o,this),Ao(this,"SCALE_Y",Oo,this),Ao(this,"TRANSLATE_X",wo,this),Ao(this,"TRANSLATE_Y",xo,this),Ao(this,"ZOOM_SIZE",Eo,this),No(this,"eventCenter",void 0),this.eventCenter=e}var e,n,r;return e=t,n=[{key:"setZoomMiniSize",value:function(t){this.MINI_SCALE_SIZE=t}},{key:"setZoomMaxSize",value:function(t){this.MAX_SCALE_SIZE=t}},{key:"HtmlPointToCanvasPoint",value:function(t){var e=Mo(t,2),n=e[0],r=e[1];return[(n-this.TRANSLATE_X)/this.SCALE_X,(r-this.TRANSLATE_Y)/this.SCALE_Y]}},{key:"CanvasPointToHtmlPoint",value:function(t){var e=Mo(t,2),n=e[0],r=e[1];return[n*this.SCALE_X+this.TRANSLATE_X,r*this.SCALE_Y+this.TRANSLATE_Y]}},{key:"moveCanvasPointByHtml",value:function(t,e,n){var r=Mo(t,2),o=r[0],i=r[1];return[o+e/this.SCALE_X,i+n/this.SCALE_Y]}},{key:"fixDeltaXY",value:function(t,e){return[t/this.SCALE_X,e/this.SCALE_Y]}},{key:"getTransformStyle",value:function(){var t=[this.SCALE_X,this.SKEW_Y,this.SKEW_X,this.SCALE_Y,this.TRANSLATE_X,this.TRANSLATE_Y].join(",");return{transform:"matrix(".concat(t,")")}}},{key:"zoom",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1?arguments[1]:void 0,n=this.SCALE_X,r=this.SCALE_Y;return!0===t?(n+=this.ZOOM_SIZE,r+=this.ZOOM_SIZE):!1===t?(n-=this.ZOOM_SIZE,r-=this.ZOOM_SIZE):"number"==typeof t&&(n=t,r=t),n<this.MINI_SCALE_SIZE||n>this.MAX_SCALE_SIZE||(e&&(this.TRANSLATE_X-=(n-this.SCALE_X)*e[0],this.TRANSLATE_Y-=(r-this.SCALE_Y)*e[1]),this.SCALE_X=n,this.SCALE_Y=r,this.emitGraphTransform("zoom")),"".concat(100*this.SCALE_X,"%")}},{key:"emitGraphTransform",value:function(t){this.eventCenter.emit(ho.GRAPH_TRANSFORM,{type:t,transform:{SCALE_X:this.SCALE_X,SKEW_Y:this.SKEW_Y,SKEW_X:this.SKEW_X,SCALE_Y:this.SCALE_Y,TRANSLATE_X:this.TRANSLATE_X,TRANSLATE_Y:this.TRANSLATE_Y}})}},{key:"resetZoom",value:function(){this.SCALE_X=1,this.SCALE_Y=1,this.emitGraphTransform("resetZoom")}},{key:"translate",value:function(t,e){this.TRANSLATE_X+=t,this.TRANSLATE_Y+=e,this.emitGraphTransform("translate")}},{key:"focusOn",value:function(t,e,n,r){var o=Mo(this.CanvasPointToHtmlPoint([t,e]),2),i=n/2-o[0],a=r/2-o[1];this.TRANSLATE_X+=i,this.TRANSLATE_Y+=a,this.emitGraphTransform("focusOn")}}],n&&To(e.prototype,n),r&&To(e,r),t}(),bo=Do(go.prototype,"SCALE_X",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),mo=Do(go.prototype,"SKEW_Y",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_o=Do(go.prototype,"SKEW_X",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Oo=Do(go.prototype,"SCALE_Y",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),wo=Do(go.prototype,"TRANSLATE_X",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),xo=Do(go.prototype,"TRANSLATE_Y",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Eo=Do(go.prototype,"ZOOM_SIZE",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.04}}),Do(go.prototype,"zoom",[o.k],Object.getOwnPropertyDescriptor(go.prototype,"zoom"),go.prototype),Do(go.prototype,"resetZoom",[o.k],Object.getOwnPropertyDescriptor(go.prototype,"resetZoom"),go.prototype),Do(go.prototype,"translate",[o.k],Object.getOwnPropertyDescriptor(go.prototype,"translate"),go.prototype),Do(go.prototype,"focusOn",[o.k],Object.getOwnPropertyDescriptor(go.prototype,"focusOn"),go.prototype),go),Io=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t},Ro=function(t,e){return t&&Lr(e,cn(e),t)},Lo=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e},Zo=Object.prototype.hasOwnProperty,Bo=function(t){if(!Mt(t))return Lo(t);var e=en(t),n=[];for(var r in t)("constructor"!=r||!e&&Zo.call(t,r))&&n.push(r);return n},zo=function(t){return un(t)?Qe(t,!0):Bo(t)},Fo=function(t,e){return t&&Lr(e,zo(e),t)},Ho=n(106),Go=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e},Xo=function(t,e){return Lr(t,De(t),e)},Wo=nn(Object.getPrototypeOf,Object),Uo=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)Se(e,De(t)),t=Wo(t);return e}:Ae,Yo=function(t,e){return Lr(t,Uo(t),e)},Vo=function(t){return Me(t,zo,Uo)},Ko=Object.prototype.hasOwnProperty,qo=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&Ko.call(t,"index")&&(n.index=t.index,n.input=t.input),n},$o=function(t){var e=new t.constructor(t.byteLength);return new _e(e).set(new _e(t)),e},Jo=function(t,e){var n=e?$o(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)},Qo=/\w*$/,ti=function(t){var e=new t.constructor(t.source,Qo.exec(t));return e.lastIndex=t.lastIndex,e},ei=bt?bt.prototype:void 0,ni=ei?ei.valueOf:void 0,ri=function(t){return ni?Object(ni.call(t)):{}},oi=function(t,e){var n=e?$o(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)},ii=function(t,e,n){var r=t.constructor;switch(e){case"[object ArrayBuffer]":return $o(t);case"[object Boolean]":case"[object Date]":return new r(+t);case"[object DataView]":return Jo(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return oi(t,n);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(t);case"[object RegExp]":return ti(t);case"[object Symbol]":return ri(t)}},ai=Object.create,ui=function(){function t(){}return function(e){if(!Mt(e))return{};if(ai)return ai(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),ci=function(t){return"function"!=typeof t.constructor||en(t)?{}:ui(Wo(t))},si=function(t){return Ie(t)&&"[object Map]"==Pn(t)},li=Ke.a&&Ke.a.isMap,fi=li?Ve(li):si,pi=function(t){return Ie(t)&&"[object Set]"==Pn(t)},di=Ke.a&&Ke.a.isSet,hi=di?Ve(di):pi,yi="[object Arguments]",vi="[object Function]",gi="[object Object]",bi={};bi[yi]=bi["[object Array]"]=bi["[object ArrayBuffer]"]=bi["[object DataView]"]=bi["[object Boolean]"]=bi["[object Date]"]=bi["[object Float32Array]"]=bi["[object Float64Array]"]=bi["[object Int8Array]"]=bi["[object Int16Array]"]=bi["[object Int32Array]"]=bi["[object Map]"]=bi["[object Number]"]=bi["[object Object]"]=bi["[object RegExp]"]=bi["[object Set]"]=bi["[object String]"]=bi["[object Symbol]"]=bi["[object Uint8Array]"]=bi["[object Uint8ClampedArray]"]=bi["[object Uint16Array]"]=bi["[object Uint32Array]"]=!0,bi["[object Error]"]=bi[vi]=bi["[object WeakMap]"]=!1;var mi=function t(e,n,r,o,i,a){var u,c=1&n,s=2&n,l=4&n;if(r&&(u=i?r(e,o,i,a):r(e)),void 0!==u)return u;if(!Mt(e))return e;var f=Pe(e);if(f){if(u=qo(e),!c)return Go(e,u)}else{var p=Pn(e),d=p==vi||"[object GeneratorFunction]"==p;if(Object(He.a)(e))return Object(Ho.a)(e,c);if(p==gi||p==yi||d&&!i){if(u=s||d?{}:ci(e),!c)return s?Yo(e,Fo(u,e)):Xo(e,Ro(u,e))}else{if(!bi[p])return i?e:{};u=ii(e,p,c)}}a||(a=new pe);var h=a.get(e);if(h)return h;a.set(e,u),hi(e)?e.forEach((function(o){u.add(t(o,n,r,o,e,a))})):fi(e)&&e.forEach((function(o,i){u.set(i,t(o,n,r,i,e,a))}));var y=f?void 0:(l?s?Vo:sn:s?zo:cn)(e);return Io(y||e,(function(o,i){y&&(o=e[i=o]),Rr(u,i,t(o,n,r,i,e,a))})),u},_i=function(t){return mi(t,5)},Oi=function(t,e,n){(void 0!==n&&!rt(t[e],n)||void 0===n&&!(e in t))&&Cr(t,e,n)},wi=function(t){return Ie(t)&&un(t)},xi=Function.prototype,Ei=Object.prototype,ji=xi.toString,Si=Ei.hasOwnProperty,Pi=ji.call(Object),Mi=function(t){if(!Ie(t)||"[object Object]"!=Pt(t))return!1;var e=Wo(t);if(null===e)return!0;var n=Si.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&ji.call(n)==Pi},ki=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]},Ai=function(t){return Lr(t,zo(t))},Ti=function(t,e,n,r,o,i,a){var u=ki(t,n),c=ki(e,n),s=a.get(c);if(s)Oi(t,n,s);else{var l=i?i(u,c,n+"",t,e,a):void 0,f=void 0===l;if(f){var p=Pe(c),d=!p&&Object(He.a)(c),h=!p&&!d&&$e(c);l=c,p||d||h?Pe(u)?l=u:wi(u)?l=Go(u):d?(f=!1,l=Object(Ho.a)(c,!0)):h?(f=!1,l=oi(c,!0)):l=[]:Mi(c)||Fe(c)?(l=u,Fe(u)?l=Ai(u):Mt(u)&&!kt(u)||(l=ci(c))):f=!1}f&&(a.set(c,l),o(l,c,r,i,a),a.delete(c)),Oi(t,n,l)}},Ni=function t(e,n,r,o,i){e!==n&&fr(n,(function(a,u){if(i||(i=new pe),Mt(a))Ti(e,n,u,r,t,o,i);else{var c=o?o(ki(e,u),a,u+"",e,n,i):void 0;void 0===c&&(c=a),Oi(e,u,c)}}),zo)},Di=Vr((function(t,e,n){Ni(t,e,n)})),Ci={baseNode:{fill:"#FFFFFF",stroke:"#000000",strokeWidth:2},baseEdge:{stroke:"#000000",strokeWidth:2},rect:{},circle:{},diamond:{},ellipse:{},polygon:{},text:{color:"#000000",stroke:"none",fontSize:12,background:{fill:"transparent"}},anchor:{stroke:"#000000",fill:"#FFFFFF",r:4,hover:{fill:"#949494",fillOpacity:.5,stroke:"#949494",r:10}},nodeText:{color:"#000000",overflowMode:"default",lineHeight:1.2,fontSize:12},edgeText:{textWidth:100,overflowMode:"default",fontSize:12,background:{fill:"#FFFFFF"}},line:{},polyline:{},bezier:{fill:"none",adjustLine:{stroke:"#949494"},adjustAnchor:{r:4,fill:"#949494",stroke:"#949494",fillOpacity:1}},arrow:{offset:10,verticalLength:5},anchorLine:{stroke:"#000000",strokeWidth:2,strokeDasharray:"3,2"},snapline:{stroke:"#949494",strokeWidth:1},edgeAdjust:{r:4,fill:"#FFFFFF",stroke:"#949494",strokeWidth:2},outline:{fill:"transparent",stroke:"#949494",strokeDasharray:"3,3",hover:{stroke:"#949494"}},edgeAnimation:{stroke:"red",strokeDasharray:"10 10",strokeDashoffset:"100%",animationName:"lf_animate_dash",animationDuration:"20s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"normal"}},Ii=function(t){var e=_i(Ci);return t&&(e=Di(e,t)),e};function Ri(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n(77),n(158);var Li=function(){function t(){var e,n,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),r={},(n="_events")in(e=this)?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r}var e,n,r;return e=t,(n=[{key:"on",value:function(t,e,n){var r=this;return null==t||t.split(",").forEach((function(t){t=t.trim(),r._events[t]||(r._events[t]=[]),r._events[t].push({callback:e,once:!!n})})),this}},{key:"once",value:function(t,e){var n=this;null==t||t.split(",").forEach((function(t){return t=t.trim(),n.on(t,e,!0)}))}},{key:"emit",value:function(t,e){var n=this;null==t||t.split(",").forEach((function(t){var r=n._events[t]||[],o=n._events["*"]||[],i=function(r){for(var o=r.length,i=0;i<o;i++)if(r[i]){var a=r[i],u=a.callback;a.once&&(r.splice(i,1),0===r.length&&delete n._events[t],o--,i--),u.apply(n,[e])}};i(r),i(o)}))}},{key:"off",value:function(t,e){var n=this;return t||(this._events={}),t.split(",").forEach((function(t){if(e){for(var r=n._events[t]||[],o=r.length,i=0;i<o;i++)r[i].callback===e&&(r.splice(i,1),o--,i--);0===r.length&&delete n._events[t]}else delete n._events[t]})),this}},{key:"getEvents",value:function(){return this._events}}])&&Ri(e.prototype,n),r&&Ri(e,r),t}();function Zi(t,e){return e*Math.round(t/e)||t}function Bi(t,e){return t%e}function zi(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Fi(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fi(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fi(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Hi,Gi=function(t,e,n){var r=zi(t,2),o=r[0],i=r[1],a=zi(e,2),u=a[0],c=a[1],s=zi(n,2),l=s[0],f=s[1];return o>u&&o<l&&i>c&&i<f},Xi=function(t,e){var n=!1;switch(e.multipleSelectKey){case"meta":n=t.metaKey;break;case"alt":n=t.altKey;break;case"shift":n=t.shiftKey;break;case"ctrl":n=t.ctrlKey;break;default:n=!1}return n},Wi=(n(78),n(161),n(125),n(79),n(30),n(12),n(13),n(14),n(47),new Uint8Array(16));function Ui(){if(!Hi&&!(Hi="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Hi(Wi)}for(var Yi=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Vi=function(t){return"string"==typeof t&&Yi.test(t)},Ki=[],qi=0;qi<256;++qi)Ki.push((qi+256).toString(16).substr(1));var $i=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(Ki[t[e+0]]+Ki[t[e+1]]+Ki[t[e+2]]+Ki[t[e+3]]+"-"+Ki[t[e+4]]+Ki[t[e+5]]+"-"+Ki[t[e+6]]+Ki[t[e+7]]+"-"+Ki[t[e+8]]+Ki[t[e+9]]+"-"+Ki[t[e+10]]+Ki[t[e+11]]+Ki[t[e+12]]+Ki[t[e+13]]+Ki[t[e+14]]+Ki[t[e+15]]).toLowerCase();if(!Vi(n))throw TypeError("Stringified UUID is invalid");return n},Ji=function(t,e,n){var r=(t=t||{}).random||(t.rng||Ui)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(var o=0;o<16;++o)e[n+o]=r[o];return e}return $i(r)},Qi=function(){return Ji()},ta=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=t.nodes.reduce((function(t,n){return t[n.id]=e+Ji(),n.id=t[n.id],t}),{});return t.edges.forEach((function(t){t.id=e+Ji(),t.sourceNodeId=n[t.sourceNodeId],t.targetNodeId=n[t.targetNodeId]})),t},ea=(n(104),n(162),function(t,e,n){var r=t.x,o=t.y;return(r-e.x)*(r-n.x)<=0&&(o-e.y)*(o-n.y)<=0});function na(t){return na="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},na(t)}function ra(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function oa(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ra(Object(n),!0).forEach((function(e){ia(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ra(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ia(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var aa,ua,ca,sa,la,fa,pa,da,ha,ya,va,ga,ba,ma,_a,Oa,wa,xa,Ea,ja,Sa,Pa=function(t){return t.anchors},Ma=function(t,e){for(var n,r=e.nodes,o=r.length-1;o>=0;o--){var i=r[o];if(Na(t,i)){var a=i.getTargetAnchor(t);if(a){var u={node:i,anchorIndex:a.index,anchor:a.anchor};n&&!ka(i,n.node,e)||(n=u)}}}return n},ka=function(t,e,n){return t.zIndex>e.zIndex||n.nodesMap[t.id].index>n.nodesMap[e.id].index},Aa=function(t,e,n,r){return Math.hypot(t-n,e-r)},Ta=function(t,e){var n=!1,r=Da(e);return t.x>=r.minX-0&&t.x<=r.maxX+0&&t.y>=r.minY-0&&t.y<=r.maxY+0&&(n=!0),n},Na=function(t,e){var n=!1,r=Da(e);return t.x>=r.minX-5&&t.x<=r.maxX+5&&t.y>=r.minY-5&&t.y<=r.maxY+5&&(n=!0),n},Da=function(t){var e=t.x,n=t.y,r=t.width,o=t.height;return{minX:e-r/2,minY:n-o/2,maxX:e+r/2,maxY:n+o/2,x:e,y:n,width:r,height:o,centerX:e,centerY:n}},Ca=function(t,e,n){var r,o=function(t){var e=t,n=e.x,r=e.y,o=e.width,i=e.height,a=e.radius;return[{x:n-o/2+a,y:r-i/2+a,r:a},{x:n+o/2-a,y:r-i/2+a,r:a},{x:n-o/2+a,y:r+i/2-a,r:a},{x:n+o/2-a,y:r+i/2-a,r:a}]}(n),i=Number.MAX_SAFE_INTEGER;return o.forEach((function(e){var n=Aa(t.x,t.y,e.x,e.y);n<i&&(i=n,r=e)})),Ia(t,e,r)},Ia=function(t,e,n){var r,o=n,i=o.x,a=o.y,u=o.r;if(e===yo.HORIZONTAL){var c=i-Math.sqrt(u*u-(t.y-a)*(t.y-a)),s=i+Math.sqrt(u*u-(t.y-a)*(t.y-a));r={x:Math.abs(c-t.x)<Math.abs(s-t.x)?c:s,y:t.y}}else if(e===yo.VERTICAL){var l=a-Math.sqrt(u*u-(t.x-i)*(t.x-i)),f=a+Math.sqrt(u*u-(t.x-i)*(t.x-i)),p=Math.abs(l-t.y)<Math.abs(f-t.y)?l:f;r={x:t.x,y:p}}return r},Ra=function(t,e){var n=e,r=!1,o=n.x-n.width/2+n.radius,i=n.x+n.width/2-n.radius,a=n.y-n.height/2+n.radius,u=n.y+n.height/2-n.radius,c=n.x,s=n.y,l=n.width,f=n.height;return t.y===s+f/2||t.y===s-f/2?r=t.x>o&&t.x<i:t.x!==c+l/2&&t.x!==c-l/2||(r=t.y>a&&t.y<u),r},La=function(t,e,n){var r,o=n,i=o.x,a=o.y,u=o.rx,c=o.ry;if(e===yo.HORIZONTAL){var s=i-Math.sqrt(u*u-(t.y-a)*(t.y-a)*u*u/(c*c)),l=i+Math.sqrt(u*u-(t.y-a)*(t.y-a)*u*u/(c*c));r={x:Math.abs(s-t.x)<Math.abs(l-t.x)?s:l,y:t.y}}else if(e===yo.VERTICAL){var f=a-Math.sqrt(c*c-(t.x-i)*(t.x-i)*c*c/(u*u)),p=a+Math.sqrt(c*c-(t.x-i)*(t.x-i)*c*c/(u*u)),d=Math.abs(f-t.y)<Math.abs(p-t.y)?f:p;r={x:t.x,y:d}}return r},Za=function(t,e,n){for(var r,o=n.pointsPosition,i=Number.MAX_SAFE_INTEGER,a=[],u=0;u<o.length;u++)a.push({start:o[u],end:o[(u+1)%o.length]});return a.forEach((function(n){var o=n.start,a=n.end,u=o,c=a;o.x>a.x&&(u=a,c=o);var s={x:t.x,y:t.y};if(u.x===c.x&&e===yo.HORIZONTAL&&(s={x:u.x,y:t.y}),u.y===c.y&&e===yo.VERTICAL&&(s={x:t.x,y:u.y}),u.x!==c.x&&u.y!==c.y){var l=(c.y-u.y)/(c.x-u.x),f=(u.x*c.y-c.x*u.y)/(u.x-c.x);e===yo.HORIZONTAL?s={x:(t.y-f)/l,y:t.y}:e===yo.VERTICAL&&(s={x:t.x,y:l*t.x+f})}if(ea(s,o,a)){var p=Aa(s.x,s.y,t.x,t.y);p<i&&(i=p,r=s)}})),r},Ba=function(t,e,n,r){var o=t.x,i=t.y;return e.x>t.x?o=t.x+n/2:e.x<t.x&&(o=t.x-n/2),e.y>t.y?i=t.y+r/2:e.y<t.y&&(i=t.y-r/2),{x:o,y:i}},za=function(t){var e=t.rows,n=t.style,r=t.rowsLength,o=t.className,i=document.createElement("div");i.style.fontSize=n.fontSize,i.style.width=n.width,i.className=o,i.style.lineHeight=n.lineHeight,i.style.padding=n.padding,n.fontFamily&&(i.style.fontFamily=n.fontFamily),r>1?e.forEach((function(t){var e=document.createElement("div");e.textContent=t,i.appendChild(e)})):i.textContent=e,document.body.appendChild(i);var a=i.clientHeight;return document.body.removeChild(i),a},Fa=function(t){var e=t.rows,n=t.rowsLength,r=t.fontSize,o=0;return e&&e.forEach((function(t){var e=gc(t);o=e>o?e:o})),{width:Math.ceil(o/2)*r+r/4,height:n*(r+2)+r/4}},Ha=function(t){return"object"!==na(t)?{isAllPass:!!t,msg:t?"":"不允许连接"}:t},Ga=function(t){try{return JSON.parse(JSON.stringify(t))}catch(e){return t}},Xa=1e3,Wa=999,Ua=function(){return++Xa};function Ya(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Va(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ya(Object(n),!0).forEach((function(e){$a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ya(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ka(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function qa(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ja(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var Qa=(aa=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),$a(this,"id",""),Ka(this,"type",ua,this),Ka(this,"sourceNodeId",ca,this),Ka(this,"targetNodeId",sa,this),Ka(this,"startPoint",la,this),Ka(this,"endPoint",fa,this),Ka(this,"text",pa,this),Ka(this,"properties",da,this),Ka(this,"points",ha,this),Ka(this,"pointsList",ya,this),Ka(this,"isSelected",va,this),Ka(this,"isHovered",ga,this),Ka(this,"isHitable",ba,this),Ka(this,"draggable",ma,this),Ka(this,"visible",_a,this),$a(this,"virtual",!1),Ka(this,"isAnimation",Oa,this),Ka(this,"isShowAdjustPoint",wa,this),$a(this,"graphModel",void 0),Ka(this,"zIndex",xa,this),$a(this,"BaseType",po.EDGE),$a(this,"modelType",fo.EDGE),Ka(this,"state",Ea,this),$a(this,"additionStateData",void 0),$a(this,"sourceAnchorId",""),$a(this,"targetAnchorId",""),$a(this,"menu",void 0),$a(this,"customTextPosition",!1),Ka(this,"style",ja,this),Ka(this,"arrowConfig",Sa,this),this.graphModel=n,this.initEdgeData(e),this.setAttributes()}var e,n,r;return e=t,n=[{key:"initEdgeData",value:function(t){if(t.properties||(t.properties={}),!t.id){var e=this.graphModel.idGenerator,n=e&&e(t.type),r=this.createId();t.id=r||n||Qi()}this.arrowConfig.markerEnd="url(#marker-end-".concat(t.id,")"),this.arrowConfig.markerStart="url(#marker-start-".concat(t.id,")");var o=this.graphModel.editConfigModel.adjustEdgeStartAndEnd;this.isShowAdjustPoint=o,qr(this,xc(t)),this.graphModel.overlapMode===vo.INCREASE&&(this.zIndex=t.zIndex||Ua()),this.setAnchors(),this.initPoints(),this.formatText(t)}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"getEdgeStyle",value:function(){return Va(Va({},this.graphModel.theme.baseEdge),this.style)}},{key:"getAdjustPointStyle",value:function(){return Va({},this.graphModel.theme.edgeAdjust)}},{key:"getTextStyle",value:function(){var t=this.graphModel.theme.edgeText;return _i(t)}},{key:"getEdgeAnimationStyle",value:function(){var t=this.graphModel.theme.edgeAnimation;return _i(t)}},{key:"getArrowStyle",value:function(){var t=this.getEdgeStyle(),e=this.getEdgeAnimationStyle(),n=this.graphModel.theme.arrow,r=this.isAnimation?e.stroke:t.stroke;return Va(Va({},t),{},{fill:r,stroke:r},n)}},{key:"getOutlineStyle",value:function(){var t=this.graphModel.theme.outline;return _i(t)}},{key:"getTextPosition",value:function(){return{x:0,y:0}}},{key:"sourceNode",get:function(){var t,e;return null===(t=this.graphModel)||void 0===t||null===(e=t.nodesMap[this.sourceNodeId])||void 0===e?void 0:e.model}},{key:"targetNode",get:function(){var t,e;return null===(t=this.graphModel)||void 0===t||null===(e=t.nodesMap[this.targetNodeId])||void 0===e?void 0:e.model}},{key:"textPosition",get:function(){return this.getTextPosition()}},{key:"getBeginAnchor",value:function(t,e){var n,r;return Pa(t).forEach((function(t){var o=Ec(t,e);(void 0===r||o<r)&&(r=o,n=t)})),n}},{key:"getEndAnchor",value:function(t){var e,n,r=this;return Pa(t).forEach((function(t){var o=Ec(t,r.startPoint);(void 0===n||o<n)&&(n=o,e=t)})),e}},{key:"getProperties",value:function(){return Object(o.I)(this.properties)}},{key:"getData",value:function(){var t=this.text,e=t.x,n=t.y,r=t.value,i={id:this.id,type:this.type,sourceNodeId:this.sourceNode.id,targetNodeId:this.targetNode.id,startPoint:Object.assign({},this.startPoint),endPoint:Object.assign({},this.endPoint),properties:Object(o.I)(this.properties)};return r&&(i.text={x:e,y:n,value:r}),this.graphModel.overlapMode===vo.INCREASE&&(i.zIndex=this.zIndex),i}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"setProperty",value:function(t,e){this.properties[t]=Ga(e),this.setAttributes()}},{key:"deleteProperty",value:function(t){delete this.properties[t],this.setAttributes()}},{key:"setProperties",value:function(t){this.properties=Va(Va({},Object(o.I)(this.properties)),Ga(t)),this.setAttributes()}},{key:"changeEdgeId",value:function(t){var e=this.arrowConfig,n=e.markerEnd,r=e.markerStart;r&&r==="url(#marker-start-".concat(this.id,")")&&(this.arrowConfig.markerStart="url(#marker-start-".concat(t,")")),n&&n==="url(#marker-end-".concat(this.id,")")&&(this.arrowConfig.markerEnd="url(#marker-end-".concat(t,")")),this.id=t}},{key:"setStyle",value:function(t,e){this.style=Va(Va({},this.style),{},$a({},t,Ga(e)))}},{key:"setStyles",value:function(t){this.style=Va(Va({},this.style),Ga(t))}},{key:"updateStyles",value:function(t){this.style=Va({},Ga(t))}},{key:"formatText",value:function(t){var e=this.textPosition,n=e.x,r=e.y;t.text&&"string"!=typeof t.text?"[object Object]"===Object.prototype.toString.call(t.text)&&(this.text={x:t.text.x||n,y:t.text.y||r,value:t.text.value||"",draggable:this.text.draggable,editable:this.text.editable}):this.text={value:t.text||"",x:n,y:r,draggable:this.text.draggable,editable:this.text.editable}}},{key:"resetTextPosition",value:function(){var t=this.textPosition,e=t.x,n=t.y;this.text.x=e,this.text.y=n}},{key:"moveText",value:function(t,e){if(this.text){var n=this.text,r=n.x,o=n.y,i=n.value,a=n.draggable,u=n.editable;this.text={value:i,draggable:a,x:r+t,y:o+e,editable:u}}}},{key:"setText",value:function(t){t&&qr(this.text,t)}},{key:"updateText",value:function(t){this.text=Va(Va({},Object(o.I)(this.text)),{},{value:t})}},{key:"setAnchors",value:function(){if(!this.sourceAnchorId||!this.startPoint){var t=this.getBeginAnchor(this.sourceNode,this.targetNode);this.startPoint||(this.startPoint={x:t.x,y:t.y}),this.sourceAnchorId||(this.sourceAnchorId=t.id)}if(!this.targetAnchorId||!this.endPoint){var e=this.getEndAnchor(this.targetNode);this.endPoint||(this.endPoint={x:e.x,y:e.y}),this.targetAnchorId||(this.targetAnchorId=e.id)}}},{key:"setSelected",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isSelected=t}},{key:"setHovered",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isHovered=t}},{key:"setHitable",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isHitable=t}},{key:"openEdgeAnimation",value:function(){this.isAnimation=!0}},{key:"closeEdgeAnimation",value:function(){this.isAnimation=!1}},{key:"setElementState",value:function(t,e){this.state=t,this.additionStateData=e}},{key:"updateStartPoint",value:function(t){this.startPoint=t}},{key:"moveStartPoint",value:function(t,e){this.startPoint.x+=t,this.startPoint.y+=e}},{key:"updateEndPoint",value:function(t){this.endPoint=t}},{key:"moveEndPoint",value:function(t,e){this.endPoint.x+=t,this.endPoint.y+=e}},{key:"setZIndex",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.zIndex=t}},{key:"initPoints",value:function(){}},{key:"updateAttributes",value:function(t){qr(this,t)}},{key:"getAdjustStart",value:function(){return this.startPoint}},{key:"getAdjustEnd",value:function(){return this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(t){var e=t.startPoint,n=t.endPoint;this.updateStartPoint({x:e.x,y:e.y}),this.updateEndPoint({x:n.x,y:n.y})}}],n&&qa(e.prototype,n),r&&qa(e,r),t}(),ua=Ja(aa.prototype,"type",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ca=Ja(aa.prototype,"sourceNodeId",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),sa=Ja(aa.prototype,"targetNodeId",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),la=Ja(aa.prototype,"startPoint",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fa=Ja(aa.prototype,"endPoint",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pa=Ja(aa.prototype,"text",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),da=Ja(aa.prototype,"properties",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),ha=Ja(aa.prototype,"points",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ya=Ja(aa.prototype,"pointsList",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),va=Ja(aa.prototype,"isSelected",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ga=Ja(aa.prototype,"isHovered",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ba=Ja(aa.prototype,"isHitable",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ma=Ja(aa.prototype,"draggable",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),_a=Ja(aa.prototype,"visible",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Oa=Ja(aa.prototype,"isAnimation",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),wa=Ja(aa.prototype,"isShowAdjustPoint",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),xa=Ja(aa.prototype,"zIndex",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ea=Ja(aa.prototype,"state",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),ja=Ja(aa.prototype,"style",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Sa=Ja(aa.prototype,"arrowConfig",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{markerEnd:"url(#marker-end-".concat(this.id,")"),markerStart:"url(#marker-start-".concat(this.id,")")}}}),Ja(aa.prototype,"sourceNode",[o.m],Object.getOwnPropertyDescriptor(aa.prototype,"sourceNode"),aa.prototype),Ja(aa.prototype,"targetNode",[o.m],Object.getOwnPropertyDescriptor(aa.prototype,"targetNode"),aa.prototype),Ja(aa.prototype,"textPosition",[o.m],Object.getOwnPropertyDescriptor(aa.prototype,"textPosition"),aa.prototype),Ja(aa.prototype,"setProperty",[o.k],Object.getOwnPropertyDescriptor(aa.prototype,"setProperty"),aa.prototype),Ja(aa.prototype,"deleteProperty",[o.k],Object.getOwnPropertyDescriptor(aa.prototype,"deleteProperty"),aa.prototype),Ja(aa.prototype,"setProperties",[o.k],Object.getOwnPropertyDescriptor(aa.prototype,"setProperties"),aa.prototype),Ja(aa.prototype,"changeEdgeId",[o.k],Object.getOwnPropertyDescriptor(aa.prototype,"changeEdgeId"),aa.prototype),Ja(aa.prototype,"setStyle",[o.k],Object.getOwnPropertyDescriptor(aa.prototype,"setStyle"),aa.prototype),Ja(aa.prototype,"setStyles",[o.k],Object.getOwnPropertyDescriptor(aa.prototype,"setStyles"),aa.prototype),Ja(aa.prototype,"updateStyles",[o.k],Object.getOwnPropertyDescriptor(aa.prototype,"updateStyles"),aa.prototype),Ja(aa.prototype,"formatText",[o.k],Object.getOwnPropertyDescriptor(aa.prototype,"formatText"),aa.prototype),Ja(aa.prototype,"resetTextPosition",[o.k],Object.getOwnPropertyDescriptor(aa.prototype,"resetTextPosition"),aa.prototype),Ja(aa.prototype,"moveText",[o.k],Object.getOwnPropertyDescriptor(aa.prototype,"moveText"),aa.prototype),Ja(aa.prototype,"setText",[o.k],Object.getOwnPropertyDescriptor(aa.prototype,"setText"),aa.prototype),Ja(aa.prototype,"updateText",[o.k],Object.getOwnPropertyDescriptor(aa.prototype,"updateText"),aa.prototype),Ja(aa.prototype,"setAnchors",[o.k],Object.getOwnPropertyDescriptor(aa.prototype,"setAnchors"),aa.prototype),Ja(aa.prototype,"setSelected",[o.k],Object.getOwnPropertyDescriptor(aa.prototype,"setSelected"),aa.prototype),Ja(aa.prototype,"setHovered",[o.k],Object.getOwnPropertyDescriptor(aa.prototype,"setHovered"),aa.prototype),Ja(aa.prototype,"setHitable",[o.k],Object.getOwnPropertyDescriptor(aa.prototype,"setHitable"),aa.prototype),Ja(aa.prototype,"openEdgeAnimation",[o.k],Object.getOwnPropertyDescriptor(aa.prototype,"openEdgeAnimation"),aa.prototype),Ja(aa.prototype,"closeEdgeAnimation",[o.k],Object.getOwnPropertyDescriptor(aa.prototype,"closeEdgeAnimation"),aa.prototype),Ja(aa.prototype,"setElementState",[o.k],Object.getOwnPropertyDescriptor(aa.prototype,"setElementState"),aa.prototype),Ja(aa.prototype,"updateStartPoint",[o.k],Object.getOwnPropertyDescriptor(aa.prototype,"updateStartPoint"),aa.prototype),Ja(aa.prototype,"moveStartPoint",[o.k],Object.getOwnPropertyDescriptor(aa.prototype,"moveStartPoint"),aa.prototype),Ja(aa.prototype,"updateEndPoint",[o.k],Object.getOwnPropertyDescriptor(aa.prototype,"updateEndPoint"),aa.prototype),Ja(aa.prototype,"moveEndPoint",[o.k],Object.getOwnPropertyDescriptor(aa.prototype,"moveEndPoint"),aa.prototype),Ja(aa.prototype,"setZIndex",[o.k],Object.getOwnPropertyDescriptor(aa.prototype,"setZIndex"),aa.prototype),Ja(aa.prototype,"initPoints",[o.k],Object.getOwnPropertyDescriptor(aa.prototype,"initPoints"),aa.prototype),Ja(aa.prototype,"updateAttributes",[o.k],Object.getOwnPropertyDescriptor(aa.prototype,"updateAttributes"),aa.prototype),Ja(aa.prototype,"getAdjustStart",[o.k],Object.getOwnPropertyDescriptor(aa.prototype,"getAdjustStart"),aa.prototype),Ja(aa.prototype,"getAdjustEnd",[o.k],Object.getOwnPropertyDescriptor(aa.prototype,"getAdjustEnd"),aa.prototype),Ja(aa.prototype,"updateAfterAdjustStartAndEnd",[o.k],Object.getOwnPropertyDescriptor(aa.prototype,"updateAfterAdjustStartAndEnd"),aa.prototype),aa),tu=Qa;function eu(t){return eu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eu(t)}function nu(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ru(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?nu(Object(n),!0).forEach((function(e){du(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nu(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ou(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function au(){return au="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=uu(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},au.apply(this,arguments)}function uu(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=pu(t)););return t}function cu(t,e){return cu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},cu(t,e)}function su(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=pu(t);if(e){var o=pu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return lu(this,n)}}function lu(t,e){if(e&&("object"===eu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return fu(t)}function fu(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pu(t){return pu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},pu(t)}function du(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var hu,yu,vu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&cu(t,e)}(i,t);var e,n,r,o=su(i);function i(){var t;ou(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return du(fu(t=o.call.apply(o,[this].concat(n))),"modelType",fo.LINE_EDGE),t}return e=i,(n=[{key:"getEdgeStyle",value:function(){var t=this.graphModel.theme.line;return ru(ru({},au(pu(i.prototype),"getEdgeStyle",this).call(this)),_i(t))}},{key:"getTextPosition",value:function(){return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}}])&&iu(e.prototype,n),r&&iu(e,r),i}(tu);function gu(t){return gu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gu(t)}function bu(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return mu(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mu(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mu(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ou(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_u(Object(n),!0).forEach((function(e){Nu(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function wu(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function xu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Eu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ju(){return ju="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=Su(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},ju.apply(this,arguments)}function Su(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Tu(t)););return t}function Pu(t,e){return Pu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Pu(t,e)}function Mu(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Tu(t);if(e){var o=Tu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ku(this,n)}}function ku(t,e){if(e&&("object"===gu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Au(t)}function Au(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Tu(t){return Tu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Tu(t)}function Nu(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Du(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var Cu=(hu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Pu(t,e)}(i,t);var e,n,r,o=Mu(i);function i(){var t;xu(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Nu(Au(t=o.call.apply(o,[this].concat(n))),"modelType",fo.POLYLINE_EDGE),Nu(Au(t),"draggingPointList",void 0),wu(Au(t),"dbClickPosition",yu,Au(t)),t}return e=i,(n=[{key:"initEdgeData",value:function(t){this.offset=30,ju(Tu(i.prototype),"initEdgeData",this).call(this,t)}},{key:"getEdgeStyle",value:function(){var t=this.graphModel.theme.polyline;return Ou(Ou({},ju(Tu(i.prototype),"getEdgeStyle",this).call(this)),_i(t))}},{key:"getTextPosition",value:function(){var t,e=null===(t=this.text)||void 0===t?void 0:t.value;if(this.dbClickPosition&&!e){var n=this.dbClickPosition;return{x:n.x,y:n.y}}var r=hc(this.points),o=bu(sc(r),2),i=o[0],a=o[1];return{x:(i.x+a.x)/2,y:(i.y+a.y)/2}}},{key:"getAfterAnchor",value:function(t,e,n){var r,o;return n.forEach((function(n){var i;t===yo.HORIZONTAL?i=Math.abs(e.y-n.y):t===yo.VERTICAL&&(i=Math.abs(e.x-n.x)),(!o||o>i)&&(o=i,r=n)})),r}},{key:"getCrossPoint",value:function(t,e,n){var r;return t===yo.HORIZONTAL?r={x:n.x,y:e.y}:t===yo.VERTICAL&&(r={x:e.x,y:n.y}),r}},{key:"removeCrossPoints",value:function(t,e,n){var r=n.map((function(t){return t}));if(1===t){var o=r[t],i=r[e],a=r[t-1];if(lc(a,o,this.sourceNode)){if(fc(o,i,this.sourceNode)){var u=pc(o,i,this.sourceNode);u&&(r[t]=u,r.splice(t-1,1),t--,e--)}}else this.sourceNode.anchors.forEach((function(e){(e.x===a.x&&e.x===o.x||e.y===a.y&&e.y===o.y)&&Aa(e.x,e.y,o.x,o.y)<Aa(a.x,a.y,o.x,o.y)&&(r[t-1]=e)}))}if(e===n.length-2){var c=r[t],s=r[e],l=r[e+1];if(lc(s,l,this.targetNode)){if(fc(c,s,this.targetNode)){var f=pc(c,s,this.targetNode);f&&(r[e]=f,r.splice(e+1,1))}}else this.targetNode.anchors.forEach((function(t){(t.x===l.x&&t.x===s.x||t.y===l.y&&t.y===s.y)&&Aa(t.x,t.y,s.x,s.y)<Aa(l.x,l.y,s.x,s.y)&&(r[e+1]=t)}))}return r}},{key:"getDraggingPoints",value:function(t,e,n,r,o){var i=o.map((function(t){return t})),a=this.getAfterAnchor(t,n,r),u=this.getCrossPoint(t,n,a);return"start"===e?(i.unshift(u),i.unshift(a)):(i.push(u),i.push(a)),i}},{key:"updateCrossPoints",value:function(t){var e=t.map((function(t){return t})),n=t[0],r=t[1],o=t[e.length-2],i=t[e.length-1],a=this.sourceNode,u=this.targetNode,c=a.modelType,s=u.modelType,l=dc(n,r),f=e[0];switch(c){case fo.RECT_NODE:0!==a.radius&&(Ra(n,a)||(f=Ca(n,l,a)));break;case fo.CIRCLE_NODE:f=Ia(n,l,a);break;case fo.ELLIPSE_NODE:f=La(n,l,a);break;case fo.DIAMOND_NODE:case fo.POLYGON_NODE:f=Za(n,l,a)}e[0]=f;var p=dc(o,i),d=e[e.length-1];switch(s){case fo.RECT_NODE:0!==u.radius&&(Ra(i,u)||(d=Ca(i,p,u)));break;case fo.CIRCLE_NODE:d=Ia(i,p,u);break;case fo.ELLIPSE_NODE:d=La(i,p,u);break;case fo.DIAMOND_NODE:case fo.POLYGON_NODE:d=Za(i,p,u)}return e[e.length-1]=d,e}},{key:"getData",value:function(){var t=ju(Tu(i.prototype),"getData",this).call(this),e=this.pointsList.map((function(t){return{x:t.x,y:t.y}}));return Object.assign({},t,{pointsList:e})}},{key:"initPoints",value:function(){this.pointsList.length>0?this.points=this.pointsList.map((function(t){return"".concat(t.x,",").concat(t.y)})).join(" "):this.updatePoints()}},{key:"updatePoints",value:function(){var t=cc({x:this.startPoint.x,y:this.startPoint.y},{x:this.endPoint.x,y:this.endPoint.y},this.sourceNode,this.targetNode,this.offset||0);this.pointsList=t,this.points=t.map((function(t){return"".concat(t.x,",").concat(t.y)})).join(" ")}},{key:"updateStartPoint",value:function(t){this.startPoint=t,this.updatePoints()}},{key:"moveStartPoint",value:function(t,e){this.startPoint.x+=t,this.startPoint.y+=e,this.updatePoints()}},{key:"updateEndPoint",value:function(t){this.endPoint=t,this.updatePoints()}},{key:"moveEndPoint",value:function(t,e){this.endPoint.x+=t,this.endPoint.y+=e,this.updatePoints()}},{key:"dragAppendStart",value:function(){this.draggingPointList=this.pointsList.map((function(t){return t}))}},{key:"dragAppendSimple",value:function(t,e){this.isDragging=!0;var n=t.start,r=t.end,o=t.startIndex,i=t.endIndex,a=t.direction,u=this.pointsList,c=u;return a===yo.HORIZONTAL?(u[o]={x:n.x,y:n.y+e.y},u[i]={x:r.x,y:r.y+e.y},c=this.pointsList.map((function(t){return t}))):a===yo.VERTICAL&&(u[o]={x:n.x+e.x,y:n.y},u[i]={x:r.x+e.x,y:r.y},c=this.pointsList.map((function(t){return t}))),this.updatePointsAfterDrag(c),this.draggingPointList=c,this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},u[o]),end:Object.assign({},u[i]),startIndex:o,endIndex:i,direction:a}}},{key:"dragAppend",value:function(t,e){this.isDragging=!0;var n=t.start,r=t.end,o=t.startIndex,i=t.endIndex,a=t.direction,u=this.pointsList;if(a===yo.HORIZONTAL){u[o]={x:n.x,y:n.y+e.y},u[i]={x:r.x,y:r.y+e.y};var c=this.pointsList.map((function(t){return t}));if(0!==o&&i!==this.pointsList.length-1&&(c=this.removeCrossPoints(o,i,c)),0===o){var s={x:n.x,y:n.y+e.y};if(!Ta(s,this.sourceNode)){var l=this.sourceNode.anchors;c=this.getDraggingPoints(a,"start",s,l,c)}}if(i===this.pointsList.length-1){var f={x:r.x,y:r.y+e.y};if(!Ta(f,this.targetNode)){var p=this.targetNode.anchors;c=this.getDraggingPoints(a,"end",f,p,c)}}this.updatePointsAfterDrag(c),this.draggingPointList=c}else if(a===yo.VERTICAL){u[o]={x:n.x+e.x,y:n.y},u[i]={x:r.x+e.x,y:r.y};var d=this.pointsList.map((function(t){return t}));if(0!==o&&i!==this.pointsList.length-1&&(d=this.removeCrossPoints(o,i,d)),0===o){var h={x:n.x+e.x,y:n.y};if(!Ta(h,this.sourceNode)){var y=this.sourceNode.anchors;d=this.getDraggingPoints(a,"start",h,y,d)}}if(i===this.pointsList.length-1){var v={x:r.x+e.x,y:r.y};if(!Ta(v,this.targetNode)){var g=this.targetNode.anchors;d=this.getDraggingPoints(a,"end",v,g,d)}}this.updatePointsAfterDrag(d),this.draggingPointList=d}return this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},u[o]),end:Object.assign({},u[i]),startIndex:o,endIndex:i,direction:a}}},{key:"dragAppendEnd",value:function(){if(this.draggingPointList){var t=uc(hc(this.points));this.pointsList=t.map((function(t){return t})),this.draggingPointList=[];var e=t[0];this.startPoint=Object.assign({},e);var n=t[t.length-1];this.endPoint=Object.assign({},n)}this.isDragging=!1}},{key:"updatePointsAfterDrag",value:function(t){var e=this.updateCrossPoints(t);this.points=e.map((function(t){return"".concat(t.x,",").concat(t.y)})).join(" ")}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var t=this.pointsList;return t[t.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(t){var e=t.startPoint,n=t.endPoint,r=t.sourceNode,o=t.targetNode,i=cc({x:e.x,y:e.y},{x:n.x,y:n.y},r,o,this.offset||0);this.pointsList=i,this.initPoints()}}])&&Eu(e.prototype,n),r&&Eu(e,r),i}(tu),yu=Du(hu.prototype,"dbClickPosition",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Du(hu.prototype,"initPoints",[o.k],Object.getOwnPropertyDescriptor(hu.prototype,"initPoints"),hu.prototype),Du(hu.prototype,"updatePoints",[o.k],Object.getOwnPropertyDescriptor(hu.prototype,"updatePoints"),hu.prototype),Du(hu.prototype,"updateStartPoint",[o.k],Object.getOwnPropertyDescriptor(hu.prototype,"updateStartPoint"),hu.prototype),Du(hu.prototype,"moveStartPoint",[o.k],Object.getOwnPropertyDescriptor(hu.prototype,"moveStartPoint"),hu.prototype),Du(hu.prototype,"updateEndPoint",[o.k],Object.getOwnPropertyDescriptor(hu.prototype,"updateEndPoint"),hu.prototype),Du(hu.prototype,"moveEndPoint",[o.k],Object.getOwnPropertyDescriptor(hu.prototype,"moveEndPoint"),hu.prototype),Du(hu.prototype,"dragAppendStart",[o.k],Object.getOwnPropertyDescriptor(hu.prototype,"dragAppendStart"),hu.prototype),Du(hu.prototype,"dragAppendSimple",[o.k],Object.getOwnPropertyDescriptor(hu.prototype,"dragAppendSimple"),hu.prototype),Du(hu.prototype,"dragAppend",[o.k],Object.getOwnPropertyDescriptor(hu.prototype,"dragAppend"),hu.prototype),Du(hu.prototype,"dragAppendEnd",[o.k],Object.getOwnPropertyDescriptor(hu.prototype,"dragAppendEnd"),hu.prototype),Du(hu.prototype,"updatePointsAfterDrag",[o.k],Object.getOwnPropertyDescriptor(hu.prototype,"updatePointsAfterDrag"),hu.prototype),Du(hu.prototype,"getAdjustStart",[o.k],Object.getOwnPropertyDescriptor(hu.prototype,"getAdjustStart"),hu.prototype),Du(hu.prototype,"getAdjustEnd",[o.k],Object.getOwnPropertyDescriptor(hu.prototype,"getAdjustEnd"),hu.prototype),Du(hu.prototype,"updateAfterAdjustStartAndEnd",[o.k],Object.getOwnPropertyDescriptor(hu.prototype,"updateAfterAdjustStartAndEnd"),hu.prototype),hu),Iu=function(t){var e=t.start,n=t.end,r=t.offset,o=t.verticalLength,i=t.type,a={leftX:0,leftY:0,rightX:0,rightY:0},u=Math.atan((n.y-e.y)/(n.x-e.x)),c=Math.atan(r/o),s=Math.sqrt(o*o+r*r);return"start"===i?n.x>=e.x?(a.leftX=e.x+s*Math.sin(u+c),a.leftY=e.y-s*Math.cos(u+c),a.rightX=e.x-s*Math.sin(u-c),a.rightY=e.y+s*Math.cos(u-c)):(a.leftX=e.x-s*Math.sin(u+c),a.leftY=e.y+s*Math.cos(u+c),a.rightX=e.x+s*Math.sin(u-c),a.rightY=e.y-s*Math.cos(u-c)):"end"===i&&(n.x>=e.x?(a.leftX=n.x+s*Math.sin(u-c),a.leftY=n.y-s*Math.cos(u-c),a.rightX=n.x-s*Math.sin(u+c),a.rightY=n.y+s*Math.cos(u+c)):(a.leftX=n.x-s*Math.sin(u-c),a.leftY=n.y+s*Math.cos(u-c),a.rightX=n.x+s*Math.sin(u+c),a.rightY=n.y-s*Math.cos(u+c))),a},Ru={x:1,y:0,z:0};function Lu(t){var e=Math.hypot(t.x,t.y);return{x:t.x/e,y:t.y/e,z:0}}function Zu(t){return r=function(t,e){return t.x*e.y-t.y*e.x}(e=Ru,n=t),o=Math.acos(function(t,e){var n=[t.x,t.y,t.z];return[e.x,e.y,e.z].reduce((function(t,e,r){return t+e*n[r]}))}(Lu(e),Lu(n))),r>=0?o:-o;var e,n,r,o}function Bu(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function zu(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Bu(Object(n),!0).forEach((function(e){Fu(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Bu(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Fu(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hu(t){return function(t){if(Array.isArray(t))return Uu(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Wu(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gu(t){return Gu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gu(t)}function Xu(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||Wu(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wu(t,e){if(t){if("string"==typeof t)return Uu(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Uu(t,e):void 0}}function Uu(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Yu=function(t){var e=[],n={};return t.forEach((function(t){var e="".concat(t.x,"-").concat(t.y);t.id=e,n[e]=t})),Object.keys(n).forEach((function(t){e.push(n[t])})),e},Vu=function(t,e){return 0===t.width&&0===t.height?t:{centerX:t.centerX,centerY:t.centerY,minX:t.minX-e,minY:t.minY-e,maxX:t.maxX+e,maxY:t.maxY+e,height:t.height+2*e,width:t.width+2*e}},Ku=function(t,e,n){var r=function(t,e){var n=Math.abs(t.x-e.centerX),r=Math.abs(t.y-e.centerY);return n/e.width>r/e.height?yo.HORIZONTAL:yo.VERTICAL}(n,e);return r===yo.HORIZONTAL?{x:n.x>t.centerX?t.maxX:t.minX,y:n.y}:{x:n.x,y:n.y>t.centerY?t.maxY:t.minY}},qu=function(t,e){var n=Math.min(t.minX,e.minX),r=Math.min(t.minY,e.minY),o=Math.max(t.maxX,e.maxX),i=Math.max(t.maxY,e.maxY);return{centerX:(n+o)/2,centerY:(r+i)/2,minX:n,minY:r,maxX:o,maxY:i,height:i-r,width:o-n}},$u=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,n=[],r=[];t.forEach((function(t){n.push(t.x),r.push(t.y)}));var o=Math.min.apply(Math,n),i=Math.max.apply(Math,n),a=Math.min.apply(Math,r),u=Math.max.apply(Math,r),c=i-o,s=u-a;return e&&(c+=e,s+=e),{centerX:(o+i)/2,centerY:(a+u)/2,maxX:i,maxY:u,minX:o,minY:a,x:(o+i)/2,y:(a+u)/2,height:s,width:c}},Ju=function(t){var e=t.minX,n=t.minY,r=t.maxX,o=t.maxY;return[{x:e,y:n},{x:r,y:n},{x:r,y:o},{x:e,y:o}]},Qu=function(t,e){var n=t.x,r=t.y;return n<e.minX||n>e.maxX||r<e.minY||r>e.maxY},tc=function(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)},ec=function(t,e,n,r,o){return tc(t,e)+tc(t,n)+function(t,e){var n=0;return e.forEach((function(e){e&&(t.x===e.x&&(n+=-2),t.y===e.y&&(n+=-2))})),n}(t,[e,n,r,o])},nc=function t(e,n,r,o,i){i||(i=0),e.unshift(n[o]),r[o]&&r[o]!==o&&i<=100&&t(e,n,r,r[o],i+1)},rc=function(t,e,n,r){var o=e.x-t.x,i=e.y-t.y,a=r.x-n.x,u=r.y-n.y,c=(-i*(t.x-n.x)+o*(t.y-n.y))/(-a*i+o*u),s=(a*(t.y-n.y)-u*(t.x-n.x))/(-a*i+o*u);return c>=0&&c<=1&&s>=0&&s<=1},oc=function(t,e,n){if(0===n.width&&0===n.height)return!1;var r=Xu(Ju(n),4),o=r[0],i=r[1],a=r[2],u=r[3];return rc(t,e,o,i)||rc(t,e,o,u)||rc(t,e,i,a)||rc(t,e,a,u)},ic=function(t,e,n,r,o,i,a){var u=[],c=[e],s={},l={},f={};l[e.id]=0,f[e.id]=ec(e,n,e);var p={};t.forEach((function(t){p[t.id]=t}));for(var d=function(){var d,h,y,v=void 0,g=1/0;if(c.forEach((function(t){f[t.id]<g&&(g=f[t.id],v=t)})),v===n){var b=[];return nc(b,p,s,n.id),{v:b}}h=v,(y=(d=c).indexOf(h))>-1&&d.splice(y,1),u.push(v),function(t,e,n,r){var o=[];return t.forEach((function(t){t!==e&&(t.x!==e.x&&t.y!==e.y||oc(t,e,n)||oc(t,e,r)||o.push(t))})),Yu(o)}(t,v,r,o).forEach((function(t){if(-1===u.indexOf(t)){-1===c.indexOf(t)&&c.push(t);var r=f[v.id]+tc(v,t);l[t.id]&&r>=l[t.id]||(s[t.id]=v.id,l[t.id]=r,f[t.id]=l[t.id]+ec(t,n,e,i,a))}}))};c.length;){var h=d();if("object"===Gu(h))return h.v}return[e,n]},ac=function(t){return Da(t)},uc=function(t){for(var e=1;e<t.length-1;){var n=t[e-1],r=t[e],o=t[e+1];n.x===r.x&&r.x===o.x||n.y===r.y&&r.y===o.y?t.splice(e,1):e++}return t},cc=function(t,e,n,r,o){var i,a,u=ac(n),c=ac(r),s=Vu(u,o),l=Vu(c,o),f=Ku(s,u,t),p=Ku(l,c,e);if(i=s,a=l,2*Math.abs(i.centerX-a.centerX)<i.width+a.width&&2*Math.abs(i.centerY-a.centerY)<i.height+a.height){var d=yc(t,e,f,p);return[t,f].concat(Hu(d),[p,e])}var h=$u([f,p]),y=qu(s,h),v=qu(l,h),g=[];g=(g=g.concat(Ju(y))).concat(Ju(v));var b={x:(t.x+e.x)/2,y:(t.y+e.y)/2};[h,y,v].forEach((function(t){g=g.concat(function(t,e){return function(t,e){return e<t.minX||e>t.maxX?[]:[{x:e,y:t.minY},{x:e,y:t.maxY}]}(t,e.x).concat(function(t,e){return e<t.minY||e>t.maxY?[]:[{x:t.minX,y:e},{x:t.maxX,y:e}]}(t,e.y))}(t,b).filter((function(t){return Qu(t,s)&&Qu(t,l)})))})),[{x:f.x,y:p.y},{x:p.x,y:f.y}].forEach((function(t){Qu(t,s)&&Qu(t,l)&&g.push(t)})),g.unshift(f),g.push(p),g=Yu(g);var m=ic(g,f,p,u,c,t,e);return m.unshift(t),m.push(e),m.length>2&&(m=uc(m)),Yu(m)},sc=function(t){var e;if(1===t.length)e=[t[0],t[0]];else if(t.length>=2){for(var n=t[0],r=t[1],o=Aa(n.x,n.y,r.x,r.y),i=1;i<t.length-1;i++){var a=t[i],u=t[i+1],c=Aa(a.x,a.y,u.x,u.y);c>o&&(o=c,n=a,r=u)}e=[n,r]}return e},lc=function(t,e,n){var r=Ta(t,n),o=Ta(e,n);return r&&o},fc=function(t,e,n){var r=Ta(t,n),o=Ta(e,n);return!(r&&o)&&(r||o)},pc=function(t,e,n){for(var r,o,i=Da(n),a=Ju(i),u=0;u<a.length;u++)rc(t,e,a[u],a[(u+1)%a.length])&&(o=[a[u],a[(u+1)%a.length]]);return o&&(r=function(t,e,n,r){var o=(e.y-t.y)*(r.x-n.x)-(t.x-e.x)*(n.y-r.y);if(0===o)return!1;var i=((e.x-t.x)*(r.x-n.x)*(n.y-t.y)+(e.y-t.y)*(r.x-n.x)*t.x-(r.y-n.y)*(e.x-t.x)*n.x)/o,a=-((e.y-t.y)*(r.y-n.y)*(n.x-t.x)+(e.x-t.x)*(r.y-n.y)*t.y-(r.x-n.x)*(e.y-t.y)*n.y)/o;return(i-t.x)*(i-e.x)<=0&&(a-t.y)*(a-e.y)<=0&&(i-n.x)*(i-r.x)<=0&&(a-n.y)*(a-r.y)<=0&&{x:i,y:a}}(t,e,o[0],o[1])),r},dc=function(t,e){var n;return t.x===e.x?n=yo.VERTICAL:t.y===e.y&&(n=yo.HORIZONTAL),n},hc=function(t){var e=t.split(" "),n=[];return e&&e.forEach((function(t){var e=Xu(t.split(","),2),r=e[0],o=e[1];n.push({x:Number(r),y:Number(o)})})),n},yc=function(t,e,n,r){var o=[];if(dc(t,n)===dc(e,r))t.y===n.y?(o.push({x:n.x,y:(n.y+r.y)/2}),o.push({x:r.x,y:(n.y+r.y)/2})):(o.push({x:(n.x+r.x)/2,y:n.y}),o.push({x:(n.x+r.x)/2,y:r.y}));else{var i={x:n.x,y:r.y},a=ea(i,t,n),u=ea(i,e,r);if(a||u)i={x:r.x,y:n.y};else{var c=vc(i,t,n),s=vc(i,e,r);c&&s&&(i={x:r.x,y:n.y})}o.push(i)}return o},vc=function(t,e,n){return t.x===e.x&&t.x===n.x||t.y===e.y&&t.y===n.y},gc=function(t){if(!t)return 0;for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);t.match(/[A-Z]/)?e+=1.5:e+=r>=1&&r<=126||r>=65376&&r<=65439?1:2}return e},bc=function(t){var e=t.start,n=t.end,r=t.sourceNode,o=t.targetNode,i=t.offset,a=Da(r),u=Da(o),c=Vu(a,i),s=Vu(u,i);return{sNext:Ku(c,a,e),ePre:Ku(s,u,n)}},mc=function(t){var e=t.replace(/M/g,"").replace(/C/g,",").split(",");return[_c(e[0]),_c(e[1]),_c(e[2]),_c(e[3])]},_c=function(t){var e=Xu(t.replace(/(^\s*)/g,"").split(" "),2);return{x:+e[0],y:+e[1]}},Oc=function(t,e){var n=Xu(t,4),r=function(t,e,n,r,o){for(var i=function(o){if(o<0||o>1)throw new RangeError('The value range of parameter "t" is [0,1]');return{x:t.x*Math.pow(1-o,3)+3*e.x*o*Math.pow(1-o,2)+3*n.x*Math.pow(o,2)*(1-o)+r.x*Math.pow(o,3),y:t.y*Math.pow(1-o,3)+3*e.y*o*Math.pow(1-o,2)+3*n.y*Math.pow(o,2)*(1-o)+r.y*Math.pow(o,3)}},a=0,u=2,c=r.x,s=r.y,l=r;a<o&&u<50;){var f=l=i(1-u/100),p=f.x,d=f.y;a=Aa(c,s,p,d),u++}return l}(n[0],n[1],n[2],n[3],e);return[r,t[3]]},wc=function(t,e){for(var n,r=t.x,o=t.y,i=hc(e),a=Number.MAX_SAFE_INTEGER,u=[],c=0;c<i.length;c++)u.push({start:i[c],end:i[(c+1)%i.length]});if(u.forEach((function(t){var e=t.start,i=t.end;if(e.x===i.x){var u={x:e.x,y:o};if(ea(u,e,i)){var c=Math.abs(e.x-r);c<a&&(a=c,n=u)}}else if(e.y===i.y){var s={x:r,y:e.y};if(ea(s,e,i)){var l=Math.abs(e.y-o);l<a&&(a=l,n=s)}}})),!n){var s=u[0],l=s.start,f=s.end;n={x:l.x+(f.x-l.x)/2,y:l.y+(f.y-l.y)/2}}return n},xc=function(t){return oo(t,["id","type","sourceNodeId","sourceAnchorId","targetNodeId","targetAnchorId","pointsList","startPoint","endPoint","properties"])},Ec=function(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))};n(204);var jc=function(){};function Sc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Pc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Mc=window.document;function kc(t){var e=t.onDragStart,n=void 0===e?jc:e,r=t.onDragging,o=void 0===r?jc:r,i=t.onDragEnd,a=void 0===i?jc:i,u=t.step,c=void 0===u?1:u,s=t.isStopPropagation,l=void 0===s||s,f=!1,p=!1,d=0,h=0,y=0,v=0;function g(t){if(l&&t.stopPropagation(),p&&(f=!0,y+=t.clientX-d,v+=t.clientY-h,d=t.clientX,h=t.clientY,Math.abs(y)>c||Math.abs(v)>c)){var e=y%c,n=v%c,r=y-e,i=v-n;y=e,v=n,o({deltaX:r,deltaY:i,event:t})}}function b(t){if(l&&t.stopPropagation(),p=!1,Mc.removeEventListener("mousemove",g,!1),Mc.removeEventListener("mouseup",b,!1),f)return f=!1,a({event:t})}return function(t){if(0===t.button)return l&&t.stopPropagation(),p=!0,d=t.clientX,h=t.clientY,Mc.addEventListener("mousemove",g,!1),Mc.addEventListener("mouseup",b,!1),n({event:t})}}var Ac,Tc,Nc,Dc,Cc,Ic,Rc,Lc,Zc,Bc,zc,Fc,Hc,Gc=function(){function t(e){var n=this,r=e.onDragStart,o=void 0===r?jc:r,i=e.onDragging,a=void 0===i?jc:i,u=e.onDragEnd,c=void 0===u?jc:u,s=e.eventType,l=void 0===s?"":s,f=e.eventCenter,p=void 0===f?null:f,d=e.step,h=void 0===d?1:d,y=e.isStopPropagation,v=void 0===y||y,g=e.model,b=void 0===g?null:g,m=e.data,_=void 0===m?null:m;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Pc(this,"onDragStart",void 0),Pc(this,"onDragging",void 0),Pc(this,"onDragEnd",void 0),Pc(this,"step",void 0),Pc(this,"isStopPropagation",void 0),Pc(this,"isDragging",!1),Pc(this,"isStartDragging",!1),Pc(this,"startX",0),Pc(this,"startY",0),Pc(this,"sumDeltaX",0),Pc(this,"sumDeltaY",0),Pc(this,"eventType",void 0),Pc(this,"eventCenter",void 0),Pc(this,"model",void 0),Pc(this,"data",void 0),Pc(this,"startTime",void 0),Pc(this,"handleMouseDown",(function(t){var e,r;if(0===t.button){n.isStopPropagation&&t.stopPropagation(),n.isStartDragging=!0,n.startX=t.clientX,n.startY=t.clientY,Mc.addEventListener("mousemove",n.handleMouseMove,!1),Mc.addEventListener("mouseup",n.handleMouseUp,!1);var o=null===(e=n.model)||void 0===e?void 0:e.getData();null===(r=n.eventCenter)||void 0===r||r.emit(ho["".concat(n.eventType,"_MOUSEDOWN")],{e:t,data:n.data||o}),n.startTime=(new Date).getTime()}})),Pc(this,"handleMouseMove",(function(t){if(n.isStopPropagation&&t.stopPropagation(),n.isStartDragging&&(n.sumDeltaX+=t.clientX-n.startX,n.sumDeltaY+=t.clientY-n.startY,n.startX=t.clientX,n.startY=t.clientY,n.step<=1||Math.abs(n.sumDeltaX)>n.step||Math.abs(n.sumDeltaY)>n.step)){var e,r=n.sumDeltaX%n.step,o=n.sumDeltaY%n.step,i=n.sumDeltaX-r,a=n.sumDeltaY-o;n.sumDeltaX=r,n.sumDeltaY=o;var u,c=null===(e=n.model)||void 0===e?void 0:e.getData();n.isDragging||(null===(u=n.eventCenter)||void 0===u||u.emit(ho["".concat(n.eventType,"_DRAGSTART")],{e:t,data:n.data||c}),n.onDragStart({event:t})),n.isDragging=!0,Promise.resolve().then((function(){var e,r;n.onDragging({deltaX:i,deltaY:a,event:t}),null===(e=n.eventCenter)||void 0===e||e.emit(ho["".concat(n.eventType,"_MOUSEMOVE")],{e:t,data:n.data||c}),null===(r=n.eventCenter)||void 0===r||r.emit(ho["".concat(n.eventType,"_DRAG")],{e:t,data:n.data||c})}))}})),Pc(this,"handleMouseUp",(function(t){n.isStartDragging=!1,n.isStopPropagation&&t.stopPropagation(),Promise.resolve().then((function(){var e,r,o;Mc.removeEventListener("mousemove",n.handleMouseMove,!1),Mc.removeEventListener("mouseup",n.handleMouseUp,!1);var i=null===(e=n.model)||void 0===e?void 0:e.getData();null===(r=n.eventCenter)||void 0===r||r.emit(ho["".concat(n.eventType,"_MOUSEUP")],{e:t,data:n.data||i}),n.isDragging&&(n.isDragging=!1,n.onDragEnd({event:t}),null===(o=n.eventCenter)||void 0===o||o.emit(ho["".concat(n.eventType,"_DROP")],{e:t,data:n.data||i}))}))})),Pc(this,"cancelDrag",(function(){Mc.removeEventListener("mousemove",n.handleMouseMove,!1),Mc.removeEventListener("mouseup",n.handleMouseUp,!1),n.onDragEnd({event:null}),n.isDragging=!1})),this.onDragStart=o,this.onDragging=a,this.onDragEnd=c,this.step=h,this.isStopPropagation=v,this.eventType=l,this.eventCenter=p,this.model=b,this.data=_}var e,n,r;return e=t,(n=[{key:"setStep",value:function(t){this.step=t}}])&&Sc(e.prototype,n),r&&Sc(e,r),t}(),Xc={node:!1,edge:!1},Wc={node:!0,edge:!0};function Uc(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Yc(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Uc(Object(n),!0).forEach((function(e){es(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Uc(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Vc(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||qc(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kc(t){return function(t){if(Array.isArray(t))return $c(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||qc(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qc(t,e){if(t){if("string"==typeof t)return $c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$c(t,e):void 0}}function $c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Jc(t){return Jc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jc(t)}function Qc(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function ts(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function es(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ns(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var rs,os=200,is=(Ac=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),es(this,"rootEl",void 0),Qc(this,"width",Tc,this),Qc(this,"height",Nc,this),es(this,"theme",void 0),es(this,"eventCenter",void 0),es(this,"modelMap",new Map),es(this,"topElement",void 0),es(this,"animation",void 0),es(this,"idGenerator",void 0),es(this,"edgeGenerator",void 0),es(this,"nodeMoveRules",[]),Qc(this,"edgeType",Dc,this),Qc(this,"nodes",Cc,this),Qc(this,"edges",Ic,this),Qc(this,"overlapMode",Rc,this),Qc(this,"background",Lc,this),Qc(this,"transformModel",Zc,this),Qc(this,"editConfigModel",Bc,this),Qc(this,"gridSize",zc,this),Qc(this,"partial",Fc,this),Qc(this,"fakerNode",Hc,this);var n,r,o,i=e.container,a=e.background,u=void 0===a?{}:a,c=e.grid,s=e.idGenerator,l=e.edgeGenerator,f=e.animation;this.background=u,"object"===Jc(c)&&(this.gridSize=c.size),this.rootEl=i,this.editConfigModel=new Po(e),this.eventCenter=new Li,this.transformModel=new Co(this.eventCenter),this.theme=Ii(e.style),this.edgeType=e.edgeType||"polyline",this.width=e.width,this.height=e.height,this.animation=(n=f)&&"boolean"!=typeof n?Di(_i(Xc),n):_i(!0===n?Wc:Xc),this.partial=e.partial,this.overlapMode=e.overlapMode||0,this.idGenerator=s,this.edgeGenerator=(r=this,"function"!=typeof(o=l)?function(t,e,n){return Object.assign({type:r.edgeType},n)}:function(t,e,n){var i=o(t,e,n);return i?"string"==typeof i?Object.assign({},n,{type:i}):Object.assign({type:i},n):{type:r.edgeType}}),this.width=e.width||this.rootEl.getBoundingClientRect().width,this.height=e.height||this.rootEl.getBoundingClientRect().height,this.flowId=Qi()}var e,n,r;return e=t,n=[{key:"nodesMap",get:function(){return this.nodes.reduce((function(t,e,n){return t[e.id]={index:n,model:e},t}),{})}},{key:"edgesMap",get:function(){return this.edges.reduce((function(t,e,n){return t[e.id]={index:n,model:e},t}),{})}},{key:"modelsMap",get:function(){return[].concat(Kc(this.nodes),Kc(this.edges)).reduce((function(t,e){return t[e.id]=e,t}),{})}},{key:"sortElements",get:function(){var t=[];this.nodes.forEach((function(e){return t.push(e)})),this.edges.forEach((function(e){return t.push(e)})),t=t.sort((function(t,e){return t.zIndex-e.zIndex}));for(var e=[],n=[-200,-200],r=[this.width+os,this.height+os],o=0;o<t.length;o++){var i=t[o];i.visible&&(!this.partial||i.isSelected||this.isElementInArea(i,n,r,!1,!1))&&e.push(i)}return e}},{key:"textEditElement",get:function(){var t=this.nodes.find((function(t){return t.state===so.TEXT_EDIT})),e=this.edges.find((function(t){return t.state===so.TEXT_EDIT}));return t||e}},{key:"selectElements",get:function(){var t=new Map;return this.nodes.forEach((function(e){e.isSelected&&t.set(e.id,e)})),this.edges.forEach((function(e){e.isSelected&&t.set(e.id,e)})),t}},{key:"selectNodes",get:function(){var t=[];return this.nodes.forEach((function(e){e.isSelected&&t.push(e)})),t}},{key:"getAreaElement",value:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=[],a=[];this.nodes.forEach((function(t){return a.push(t)})),this.edges.forEach((function(t){return a.push(t)}));for(var u=0;u<a.length;u++){var c=a[u];o&&!c.visible||!this.isElementInArea(c,t,e,n,r)||i.push(c)}return i}},{key:"getModel",value:function(t){return this.modelMap.get(t)}},{key:"getNodeModelById",value:function(t){var e;return this.fakerNode&&t===this.fakerNode.id?this.fakerNode:null===(e=this.nodesMap[t])||void 0===e?void 0:e.model}},{key:"getPointByClient",value:function(t){var e=t.x,n=t.y,r=this.rootEl.getBoundingClientRect(),o={x:e-r.left,y:n-r.top},i=Vc(this.transformModel.HtmlPointToCanvasPoint([o.x,o.y]),2);return{domOverlayPosition:o,canvasOverlayPosition:{x:i[0],y:i[1]}}}},{key:"isElementInArea",value:function(t,e,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(t.BaseType===po.NODE){for(var i=Da(t),a=i.minX,u=i.minY,c=i.maxX,s=i.maxY,l=[{x:a,y:u},{x:c,y:u},{x:c,y:s},{x:a,y:s}],f=o,p=0;p<l.length;p++){var d=l[p],h=d.x,y=d.y,v=this.transformModel.CanvasPointToHtmlPoint([h,y]),g=Vc(v,2);if(h=g[0],y=g[1],Gi([h,y],e,n)!==o){f=!o;break}}return f}if(t.BaseType===po.EDGE){var b=t,m=b.startPoint,_=b.endPoint,O=this.transformModel.CanvasPointToHtmlPoint([m.x,m.y]),w=this.transformModel.CanvasPointToHtmlPoint([_.x,_.y]),x=Gi(O,e,n),E=Gi(w,e,n);return r?x&&E:x||E}return!1}},{key:"graphDataToModel",value:function(t){var e=this;if(this.width&&this.height||this.resize(),!t)return this.nodes=[],void(this.edges=[]);t.nodes?this.nodes=hr(t.nodes,(function(t){var n=e.getModel(t.type);if(!n)throw new Error("找不到".concat(t.type,"对应的节点。"));var r=t.x,o=t.y;return r&&o&&(t.x=Zi(r,e.gridSize),t.y=Zi(o,e.gridSize),"object"===Jc(t.text)&&(t.text.x-=Bi(r,e.gridSize),t.text.y-=Bi(o,e.gridSize))),new n(t,e)})):this.nodes=[],t.edges?this.edges=hr(t.edges,(function(t){var n=e.getModel(t.type);if(!n)throw new Error("找不到".concat(t.type,"对应的边。"));return new n(t,e)})):this.edges=[]}},{key:"modelToGraphData",value:function(){var t=[];this.edges.forEach((function(e){var n=e.getData();n&&!e.virtual&&t.push(n)}));var e=[];return this.nodes.forEach((function(t){var n=t.getData();n&&!t.virtual&&e.push(n)})),{nodes:e,edges:t}}},{key:"modelToHistoryData",value:function(){for(var t=!1,e=[],n=0;n<this.nodes.length;n++){var r=this.nodes[n];if(r.isDragging){t=!0;break}e.push(r.getHistoryData())}if(t)return!1;for(var o=!1,i=[],a=0;a<this.edges.length;a++){var u=this.edges[a];if(u.isDragging){o=!0;break}i.push(u.getHistoryData())}return!o&&{nodes:e,edges:i}}},{key:"getEdgeModelById",value:function(t){var e;return null===(e=this.edgesMap[t])||void 0===e?void 0:e.model}},{key:"getElement",value:function(t){return this.modelsMap[t]}},{key:"getNodeEdges",value:function(t){for(var e=[],n=0;n<this.edges.length;n++){var r=this.edges[n],o=this.edges[n].sourceNodeId===t,i=this.edges[n].targetNodeId===t;(o||i)&&e.push(r)}return e}},{key:"getSelectElements",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=this.selectElements,n={nodes:[],edges:[]};return e.forEach((function(r){if(r.BaseType===po.NODE&&n.nodes.push(r.getData()),r.BaseType===po.EDGE){var o=r.getData(),i=e.get(o.sourceNodeId)&&e.get(o.targetNodeId);(t||i)&&n.edges.push(o)}})),n}},{key:"updateAttributes",value:function(t,e){this.getElement(t).updateAttributes(e)}},{key:"changeNodeId",value:function(t,e){return e||(e=Qi()),this.nodesMap[e]?"":this.nodesMap[t]?(this.edges.forEach((function(n){n.sourceNodeId===t&&(n.sourceNodeId=e),n.targetNodeId===t&&(n.targetNodeId=e)})),this.nodesMap[t].model.id=e,this.nodesMap[e]=this.nodesMap[t],e):""}},{key:"changeEdgeId",value:function(t,e){return e||(e=Qi()),this.edgesMap[e]?"":this.edgesMap[t]?(this.edges.forEach((function(n){n.id===t&&n.changeEdgeId(e)})),e):""}},{key:"setFakerNode",value:function(t){this.fakerNode=t}},{key:"removeFakerNode",value:function(){this.fakerNode=null}},{key:"setModel",value:function(t,e){return this.modelMap.set(t,e)}},{key:"toFront",value:function(t){var e,n,r,o=(null===(e=this.nodesMap[t])||void 0===e?void 0:e.model)||(null===(n=this.edgesMap[t])||void 0===n?void 0:n.model);o&&(this.overlapMode===vo.DEFAULT&&(null===(r=this.topElement)||void 0===r||r.setZIndex(),o.setZIndex(9999),this.topElement=o),this.overlapMode===vo.INCREASE&&this.setElementZIndex(t,"top"))}},{key:"setElementZIndex",value:function(t,e){var n,r,o,i=(null===(n=this.nodesMap[t])||void 0===n?void 0:n.model)||(null===(r=this.edgesMap[t])||void 0===r?void 0:r.model);i&&("number"==typeof e&&(o=e),"top"===e&&(o=Ua()),"bottom"===e&&(o=--Wa),i.setZIndex(o))}},{key:"deleteNode",value:function(t){var e=this.nodesMap[t].model.getData();this.deleteEdgeBySource(t),this.deleteEdgeByTarget(t),this.nodes.splice(this.nodesMap[t].index,1),this.eventCenter.emit(ho.NODE_DELETE,{data:e})}},{key:"addNode",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ho.NODE_ADD,n=arguments.length>2?arguments[2]:void 0,r=Ga(t);r.id&&this.nodesMap[t.id]&&delete r.id;var o=this.getModel(r.type);if(!o)throw new Error("找不到".concat(r.type,"对应的节点，请确认是否已注册此类型节点。"));r.x=Zi(r.x,this.gridSize),r.y=Zi(r.y,this.gridSize);var i=new o(r,this);this.nodes.push(i);var a=i.getData(),u={data:a};return n&&(u.e=n),this.eventCenter.emit(e,u),i}},{key:"cloneNode",value:function(t){var e=this.getNodeModelById(t),n=e.getData();n.x+=30,n.y+=30,delete n.id,n.text&&(n.text.x+=30,n.text.y+=30);var r=this.addNode(n);return r.setSelected(!0),e.setSelected(!1),r.getData()}},{key:"moveNode",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=this.nodesMap[t];if(o){var i=o.model,a=i.getMoveDistance(e,n,r),u=Vc(a,2);e=u[0],n=u[1],this.moveEdge(t,e,n)}}},{key:"moveNode2Coordinate",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=this.nodesMap[t];if(o){var i=o.model,a=i.x,u=i.y,c=e-a,s=n-u;this.moveNode(t,c,s,r)}}},{key:"editText",value:function(t){this.setElementStateById(t,so.TEXT_EDIT)}},{key:"addEdge",value:function(t){var e=Ga(t),n=e.type;n||(n=this.edgeType),e.id&&this.edgesMap[e.id]&&delete e.id;var r=this.getModel(n);if(!r)throw new Error("找不到".concat(n,"对应的边，请确认是否已注册此类型边。"));var o=new r(Yc(Yc({},e),{},{type:n}),this),i=o.getData();return this.edges.push(o),this.eventCenter.emit(ho.EDGE_ADD,{data:i}),o}},{key:"moveEdge",value:function(t,e,n){for(var r=0;r<this.edges.length;r++){var o=this.edges[r],i=o.textPosition,a=i.x,u=i.y,c=this.edges[r].sourceNodeId===t,s=this.edges[r].targetNodeId===t;c&&o.moveStartPoint(e,n),s&&o.moveEndPoint(e,n),(c||s)&&this.handleEdgeTextMove(o,a,u)}}},{key:"handleEdgeTextMove",value:function(t,e,n){var r;if(!0===t.customTextPosition)t.resetTextPosition();else if(t.modelType===fo.POLYLINE_EDGE&&null!==(r=t.text)&&void 0!==r&&r.value){var o=t.text,i=wc(o,t.points);t.moveText(i.x-o.x,i.y-o.y)}else{var a=t.textPosition,u=a.x,c=a.y;t.moveText(u-e,c-n)}}},{key:"deleteEdgeBySourceAndTarget",value:function(t,e){for(var n=0;n<this.edges.length;n++)if(this.edges[n].sourceNodeId===t&&this.edges[n].targetNodeId===e){var r=this.edges[n].getData();this.edges.splice(n,1),n--,this.eventCenter.emit(ho.EDGE_DELETE,{data:r})}}},{key:"deleteEdgeById",value:function(t){if(this.edgesMap[t]){var e=this.edgesMap[t].index,n=this.edgesMap[t].model.getData();this.edges.splice(e,1),this.eventCenter.emit(ho.EDGE_DELETE,{data:n})}}},{key:"deleteEdgeBySource",value:function(t){for(var e=0;e<this.edges.length;e++)if(this.edges[e].sourceNodeId===t){var n=this.edges[e].getData();this.edges.splice(e,1),e--,this.eventCenter.emit(ho.EDGE_DELETE,{data:n})}}},{key:"deleteEdgeByTarget",value:function(t){for(var e=0;e<this.edges.length;e++)if(this.edges[e].targetNodeId===t){var n=this.edges[e].getData();this.edges.splice(e,1),e--,this.eventCenter.emit(ho.EDGE_DELETE,{data:n})}}},{key:"setElementStateById",value:function(t,e,n){this.nodes.forEach((function(r){r.id===t?r.setElementState(e,n):r.setElementState(so.DEFAULT)})),this.edges.forEach((function(r){r.id===t?r.setElementState(e,n):r.setElementState(so.DEFAULT)}))}},{key:"updateText",value:function(t,e){this.nodes.forEach((function(n){n.id===t&&n.updateText(e)})),this.edges.forEach((function(n){n.id===t&&n.updateText(e)}))}},{key:"selectNodeById",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];n||this.clearSelectElements();var r=null===(e=this.nodesMap[t])||void 0===e?void 0:e.model;null==r||r.setSelected(!0)}},{key:"selectEdgeById",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];n||this.clearSelectElements();var r=null===(e=this.edgesMap[t])||void 0===e?void 0:e.model;null==r||r.setSelected(!0)}},{key:"selectElementById",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e||this.clearSelectElements();var n=this.getElement(t);null==n||n.setSelected(!0)}},{key:"clearSelectElements",value:function(){var t;this.selectElements.forEach((function(t){null==t||t.setSelected(!1)})),this.selectElements.clear(),this.overlapMode===vo.DEFAULT&&(null===(t=this.topElement)||void 0===t||t.setZIndex())}},{key:"moveNodes",value:function(t,e,n){for(var r=this,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=t.reduce((function(t,i){var a=r.nodesMap[i].model.getMoveDistance(e,n,o);return t[i]=a,t}),{}),a=0;a<this.edges.length;a++){var u=this.edges[a],c=u.textPosition,s=c.x,l=c.y,f=i[u.sourceNodeId],p=void 0,d=void 0;if(f){var h=Vc(f,2);p=h[0],d=h[1],u.moveStartPoint(p,d)}var y=i[u.targetNodeId];if(y){var v=Vc(y,2);p=v[0],d=v[1],u.moveEndPoint(p,d)}(f||y)&&this.handleEdgeTextMove(u,s,l)}}},{key:"addNodeMoveRules",value:function(t){this.nodeMoveRules.includes(t)||this.nodeMoveRules.push(t)}},{key:"setDefaultEdgeType",value:function(t){this.edgeType=t}},{key:"changeNodeType",value:function(t,e){var n=this.getNodeModelById(t);if(n){var r=n.getData();r.type=e;var o=this.getModel(e);if(!o)throw new Error("找不到".concat(e,"对应的节点，请确认是否已注册此类型节点。"));var i=new o(r,this);this.nodes.splice(this.nodesMap[t].index,1,i),this.getNodeEdges(t).forEach((function(e){if(e.sourceNodeId===t){var n=Ba(i,e.startPoint,i.width,i.height);e.updateStartPoint(n)}if(e.targetNodeId===t){var r=Ba(i,e.endPoint,i.width,i.height);e.updateEndPoint(r)}}))}}},{key:"changeEdgeType",value:function(t,e){var n=this.getEdgeModelById(t);if(n&&n.type!==e){var r=n.getData();r.type=e;var o=this.getModel(e);if(!o)throw new Error("找不到".concat(e,"对应的节点，请确认是否已注册此类型节点。"));delete r.pointsList;var i=new o(r,this);this.edges.splice(this.edgesMap[t].index,1,i)}}},{key:"getNodeIncomingEdge",value:function(t){var e=[];return this.edges.forEach((function(n){n.targetNodeId===t&&e.push(n)})),e}},{key:"getNodeOutgoingEdge",value:function(t){var e=[];return this.edges.forEach((function(n){n.sourceNodeId===t&&e.push(n)})),e}},{key:"getNodeIncomingNode",value:function(t){var e=this,n=[];return this.edges.forEach((function(r){r.targetNodeId===t&&n.push(e.nodesMap[r.sourceNodeId].model)})),n}},{key:"getNodeOutgoingNode",value:function(t){var e=this,n=[];return this.edges.forEach((function(r){r.sourceNodeId===t&&n.push(e.nodesMap[r.targetNodeId].model)})),n}},{key:"setTheme",value:function(t){this.theme=Ii(Yc(Yc({},this.theme),t))}},{key:"resize",value:function(t,e){this.width=t||this.rootEl.getBoundingClientRect().width,this.height=e||this.rootEl.getBoundingClientRect().height,!this.width||this.height}},{key:"clearData",value:function(){this.nodes=[],this.edges=[]}},{key:"getVirtualRectSize",value:function(){var t=this.nodes,e=[],n=[];t.forEach((function(t){var r=t.x,o=t.y,i=t.width,a=t.height,u=t.getNodeStyle().strokeWidth,c=void 0===u?0:u;e=e.concat([r+i/2+c,r-i/2-c]),n=n.concat([o+a/2+c,o-a/2-c])}));var r=Math.min.apply(Math,Kc(e)),o=Math.max.apply(Math,Kc(e)),i=Math.min.apply(Math,Kc(n)),a=o-r||0,u=Math.max.apply(Math,Kc(n))-i||0;return{virtualRectWidth:a,virtualRectHeight:u,virtualRectCenterPositionX:r+a/2,virtualRectCenterPositionY:i+u/2}}},{key:"translateCenter",value:function(){var t=this.nodes,e=this.width,n=this.height,r=this.rootEl,o=this.transformModel;if(t.length){var i=e||r.clientWidth,a=n||r.clientHeight,u=this.getVirtualRectSize(),c=u.virtualRectCenterPositionX,s=u.virtualRectCenterPositionY;o.focusOn(c,s,i,a)}}},{key:"fitView",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,n=this.nodes,r=this.width,o=this.height,i=this.rootEl,a=this.transformModel;if(n.length){var u=r||i.clientWidth,c=o||i.clientHeight,s=this.getVirtualRectSize(),l=s.virtualRectWidth,f=s.virtualRectHeight,p=s.virtualRectCenterPositionX,d=s.virtualRectCenterPositionY,h=(l+e)/u,y=(f+t)/c,v=0;v=1/Math.max(h,y);var g=[u/2,c/2];a.zoom(v,g),a.focusOn(p,d,u,c)}}},{key:"openEdgeAnimation",value:function(t){this.getEdgeModelById(t).openEdgeAnimation()}},{key:"closeEdgeAnimation",value:function(t){this.getEdgeModelById(t).closeEdgeAnimation()}}],n&&ts(e.prototype,n),r&&ts(e,r),t}(),Tc=ns(Ac.prototype,"width",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Nc=ns(Ac.prototype,"height",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Dc=ns(Ac.prototype,"edgeType",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Cc=ns(Ac.prototype,"nodes",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ic=ns(Ac.prototype,"edges",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Rc=ns(Ac.prototype,"overlapMode",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return vo.DEFAULT}}),Lc=ns(Ac.prototype,"background",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zc=ns(Ac.prototype,"transformModel",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bc=ns(Ac.prototype,"editConfigModel",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zc=ns(Ac.prototype,"gridSize",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Fc=ns(Ac.prototype,"partial",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Hc=ns(Ac.prototype,"fakerNode",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ns(Ac.prototype,"nodesMap",[o.m],Object.getOwnPropertyDescriptor(Ac.prototype,"nodesMap"),Ac.prototype),ns(Ac.prototype,"edgesMap",[o.m],Object.getOwnPropertyDescriptor(Ac.prototype,"edgesMap"),Ac.prototype),ns(Ac.prototype,"modelsMap",[o.m],Object.getOwnPropertyDescriptor(Ac.prototype,"modelsMap"),Ac.prototype),ns(Ac.prototype,"sortElements",[o.m],Object.getOwnPropertyDescriptor(Ac.prototype,"sortElements"),Ac.prototype),ns(Ac.prototype,"textEditElement",[o.m],Object.getOwnPropertyDescriptor(Ac.prototype,"textEditElement"),Ac.prototype),ns(Ac.prototype,"selectElements",[o.m],Object.getOwnPropertyDescriptor(Ac.prototype,"selectElements"),Ac.prototype),ns(Ac.prototype,"selectNodes",[o.m],Object.getOwnPropertyDescriptor(Ac.prototype,"selectNodes"),Ac.prototype),ns(Ac.prototype,"setFakerNode",[o.k],Object.getOwnPropertyDescriptor(Ac.prototype,"setFakerNode"),Ac.prototype),ns(Ac.prototype,"removeFakerNode",[o.k],Object.getOwnPropertyDescriptor(Ac.prototype,"removeFakerNode"),Ac.prototype),ns(Ac.prototype,"setModel",[o.k],Object.getOwnPropertyDescriptor(Ac.prototype,"setModel"),Ac.prototype),ns(Ac.prototype,"toFront",[o.k],Object.getOwnPropertyDescriptor(Ac.prototype,"toFront"),Ac.prototype),ns(Ac.prototype,"setElementZIndex",[o.k],Object.getOwnPropertyDescriptor(Ac.prototype,"setElementZIndex"),Ac.prototype),ns(Ac.prototype,"deleteNode",[o.k],Object.getOwnPropertyDescriptor(Ac.prototype,"deleteNode"),Ac.prototype),ns(Ac.prototype,"addNode",[o.k],Object.getOwnPropertyDescriptor(Ac.prototype,"addNode"),Ac.prototype),ns(Ac.prototype,"cloneNode",[o.k],Object.getOwnPropertyDescriptor(Ac.prototype,"cloneNode"),Ac.prototype),ns(Ac.prototype,"moveNode",[o.k],Object.getOwnPropertyDescriptor(Ac.prototype,"moveNode"),Ac.prototype),ns(Ac.prototype,"moveNode2Coordinate",[o.k],Object.getOwnPropertyDescriptor(Ac.prototype,"moveNode2Coordinate"),Ac.prototype),ns(Ac.prototype,"editText",[o.k],Object.getOwnPropertyDescriptor(Ac.prototype,"editText"),Ac.prototype),ns(Ac.prototype,"addEdge",[o.k],Object.getOwnPropertyDescriptor(Ac.prototype,"addEdge"),Ac.prototype),ns(Ac.prototype,"moveEdge",[o.k],Object.getOwnPropertyDescriptor(Ac.prototype,"moveEdge"),Ac.prototype),ns(Ac.prototype,"deleteEdgeBySourceAndTarget",[o.k],Object.getOwnPropertyDescriptor(Ac.prototype,"deleteEdgeBySourceAndTarget"),Ac.prototype),ns(Ac.prototype,"deleteEdgeById",[o.k],Object.getOwnPropertyDescriptor(Ac.prototype,"deleteEdgeById"),Ac.prototype),ns(Ac.prototype,"deleteEdgeBySource",[o.k],Object.getOwnPropertyDescriptor(Ac.prototype,"deleteEdgeBySource"),Ac.prototype),ns(Ac.prototype,"deleteEdgeByTarget",[o.k],Object.getOwnPropertyDescriptor(Ac.prototype,"deleteEdgeByTarget"),Ac.prototype),ns(Ac.prototype,"setElementStateById",[o.k],Object.getOwnPropertyDescriptor(Ac.prototype,"setElementStateById"),Ac.prototype),ns(Ac.prototype,"updateText",[o.k],Object.getOwnPropertyDescriptor(Ac.prototype,"updateText"),Ac.prototype),ns(Ac.prototype,"selectNodeById",[o.k],Object.getOwnPropertyDescriptor(Ac.prototype,"selectNodeById"),Ac.prototype),ns(Ac.prototype,"selectEdgeById",[o.k],Object.getOwnPropertyDescriptor(Ac.prototype,"selectEdgeById"),Ac.prototype),ns(Ac.prototype,"selectElementById",[o.k],Object.getOwnPropertyDescriptor(Ac.prototype,"selectElementById"),Ac.prototype),ns(Ac.prototype,"clearSelectElements",[o.k],Object.getOwnPropertyDescriptor(Ac.prototype,"clearSelectElements"),Ac.prototype),ns(Ac.prototype,"moveNodes",[o.k],Object.getOwnPropertyDescriptor(Ac.prototype,"moveNodes"),Ac.prototype),ns(Ac.prototype,"setDefaultEdgeType",[o.k],Object.getOwnPropertyDescriptor(Ac.prototype,"setDefaultEdgeType"),Ac.prototype),ns(Ac.prototype,"changeNodeType",[o.k],Object.getOwnPropertyDescriptor(Ac.prototype,"changeNodeType"),Ac.prototype),ns(Ac.prototype,"changeEdgeType",[o.k],Object.getOwnPropertyDescriptor(Ac.prototype,"changeEdgeType"),Ac.prototype),ns(Ac.prototype,"getNodeIncomingEdge",[o.k],Object.getOwnPropertyDescriptor(Ac.prototype,"getNodeIncomingEdge"),Ac.prototype),ns(Ac.prototype,"getNodeOutgoingEdge",[o.k],Object.getOwnPropertyDescriptor(Ac.prototype,"getNodeOutgoingEdge"),Ac.prototype),ns(Ac.prototype,"getNodeIncomingNode",[o.k],Object.getOwnPropertyDescriptor(Ac.prototype,"getNodeIncomingNode"),Ac.prototype),ns(Ac.prototype,"getNodeOutgoingNode",[o.k],Object.getOwnPropertyDescriptor(Ac.prototype,"getNodeOutgoingNode"),Ac.prototype),ns(Ac.prototype,"setTheme",[o.k],Object.getOwnPropertyDescriptor(Ac.prototype,"setTheme"),Ac.prototype),ns(Ac.prototype,"resize",[o.k],Object.getOwnPropertyDescriptor(Ac.prototype,"resize"),Ac.prototype),ns(Ac.prototype,"clearData",[o.k],Object.getOwnPropertyDescriptor(Ac.prototype,"clearData"),Ac.prototype),ns(Ac.prototype,"translateCenter",[o.k],Object.getOwnPropertyDescriptor(Ac.prototype,"translateCenter"),Ac.prototype),ns(Ac.prototype,"fitView",[o.k],Object.getOwnPropertyDescriptor(Ac.prototype,"fitView"),Ac.prototype),ns(Ac.prototype,"openEdgeAnimation",[o.k],Object.getOwnPropertyDescriptor(Ac.prototype,"openEdgeAnimation"),Ac.prototype),ns(Ac.prototype,"closeEdgeAnimation",[o.k],Object.getOwnPropertyDescriptor(Ac.prototype,"closeEdgeAnimation"),Ac.prototype),Ac),as=is;function us(t){return us="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},us(t)}function cs(){return cs=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cs.apply(this,arguments)}function ss(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ls(t,e){return ls=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},ls(t,e)}function fs(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=hs(t);if(e){var o=hs(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ps(this,n)}}function ps(t,e){if(e&&("object"===us(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ds(t)}function ds(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hs(t){return hs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},hs(t)}function ys(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var vs,gs=t_(rs=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ls(t,e)}(i,t);var e,n,r,o=fs(i);function i(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),ys(ds(e=o.call(this)),"stepDrag",void 0),ys(ds(e),"stepScrollX",0),ys(ds(e),"stepScrollY",0),ys(ds(e),"onDragging",(function(t){var n=t.deltaX,r=t.deltaY;e.setState({isDragging:!0});var o=e.props.graphModel,i=o.transformModel;o.editConfigModel.stopMoveGraph||i.translate(n,r)})),ys(ds(e),"onDragEnd",(function(){e.setState({isDragging:!1})})),ys(ds(e),"zoomHandler",(function(t){var n=e.props,r=n.graphModel,o=r.editConfigModel,i=r.transformModel,a=r.gridSize,u=n.graphModel,c=t.deltaX,s=t.deltaY;if(o.stopScrollGraph||!0===t.ctrlKey){if(!o.stopZoomGraph){t.preventDefault();var l=u.getPointByClient({x:t.clientX,y:t.clientY}).canvasOverlayPosition,f=l.x,p=l.y;i.zoom(t.deltaY<0,[f,p])}}else{if(t.preventDefault(),e.stepScrollX+=c,e.stepScrollY+=s,Math.abs(e.stepScrollX)>=a){var d=e.stepScrollX%a,h=e.stepScrollX-d;i.translate(-h*i.SCALE_X,0),e.stepScrollX=d}if(Math.abs(e.stepScrollY)>=a){var y=e.stepScrollY%a,v=e.stepScrollY-y;i.translate(0,-v*i.SCALE_Y),e.stepScrollY=y}}})),ys(ds(e),"clickHandler",(function(t){if("canvas-overlay"===t.target.getAttribute("name")){var n=e.props.graphModel;n.selectElements.size>0&&n.clearSelectElements(),n.eventCenter.emit(ho.BLANK_CLICK,{e:t})}})),ys(ds(e),"handleContextMenu",(function(t){if("canvas-overlay"===t.target.getAttribute("name")){t.preventDefault();var n=e.props.graphModel,r=n.getPointByClient({x:t.clientX,y:t.clientY});n.eventCenter.emit(ho.BLANK_CONTEXTMENU,{e:t,position:r})}})),ys(ds(e),"mouseDownHandler",(function(t){var n=e.props.graphModel,r=n.eventCenter,o=n.editConfigModel,i=n.transformModel.SCALE_X,a=n.gridSize,u=t.target,c=!o.adjustEdge&&!o.adjustNodePosition;("canvas-overlay"===u.getAttribute("name")||c)&&(o.stopMoveGraph?r.emit(ho.BLANK_MOUSEDOWN,{e:t}):(e.stepDrag.setStep(a*i),e.stepDrag.handleMouseDown(t)),e.clickHandler(t))}));var n=t.graphModel,r=n.gridSize,a=n.eventCenter;return e.stepDrag=new Gc({onDragging:e.onDragging,onDragEnd:e.onDragEnd,step:r,eventType:"BLANK",isStopPropagation:!1,eventCenter:a,model:null}),e.state={isDragging:!1},e}return e=i,(n=[{key:"render",value:function(){var t=this.props.graphModel.transformModel.getTransformStyle().transform,e=this.props,n=e.children,r=e.dnd,o=this.state.isDragging;return Object(tt.g)("svg",cs({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",name:"canvas-overlay",onWheel:this.zoomHandler,onMouseDown:this.mouseDownHandler,onContextMenu:this.handleContextMenu,className:o?"lf-canvas-overlay lf-dragging":"lf-canvas-overlay lf-drag-able"},r.eventMap()),Object(tt.g)("g",{transform:t},n))}}])&&ss(e.prototype,n),r&&ss(e,r),i}(tt.a))||rs;function bs(t){return bs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bs(t)}function ms(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Os(t,e){return Os=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Os(t,e)}function ws(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Es(t);if(e){var o=Es(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return xs(this,n)}}function xs(t,e){if(e&&("object"===bs(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Es(t){return Es=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Es(t)}var js=t_(vs=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Os(t,e)}(i,t);var e,n,r,o=ws(i);function i(){return ms(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"componentDidMount",value:function(){this.triggerToolRender()}},{key:"componentDidUpdate",value:function(){this.triggerToolRender()}},{key:"getTools",value:function(){var t=this.props,e=t.tool,n=t.graphModel,r=e.getTools().map((function(t){return Object(tt.g)(t,{graphModel:n,logicFlow:e.instance})}));return e.components=r,r}},{key:"triggerToolRender",value:function(){var t=this.props,e=t.tool,n=t.graphModel,r=document.querySelector("#ToolOverlay_".concat(n.flowId)),o=e.getInstance();o.components.forEach((function(t){return t(o,r)})),o.components=[]}},{key:"render",value:function(){var t=this.props.graphModel;return Object(tt.g)("div",{className:"lf-tool-overlay",id:"ToolOverlay_".concat(t.flowId)},this.getTools())}}])&&_s(e.prototype,n),r&&_s(e,r),i}(tt.a))||vs;function Ss(t){return Ss="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ss(t)}function Ps(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ms(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ks(t,e){return ks=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},ks(t,e)}function As(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ns(t);if(e){var o=Ns(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ts(this,n)}}function Ts(t,e){if(e&&("object"===Ss(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Ns(t){return Ns=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ns(t)}var Ds,Cs=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ks(t,e)}(i,t);var e,n,r,o=As(i);function i(){return Ps(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"render",value:function(){var t=this.props.background;return Object(tt.g)("div",{className:"lf-background"},Object(tt.g)("div",{style:t,className:"lf-background-area"}))}}])&&Ms(e.prototype,n),r&&Ms(e,r),i}(tt.a);function Is(t){return Is="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Is(t)}function Rs(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ls(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Zs(t,e){return Zs=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Zs(t,e)}function Bs(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Hs(t);if(e){var o=Hs(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return zs(this,n)}}function zs(t,e){if(e&&("object"===Is(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Fs(t)}function Fs(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Hs(t){return Hs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Hs(t)}function Gs(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Xs=t_(Ds=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Zs(t,e)}(i,t);var e,n,r,o=Bs(i);function i(){var t;Rs(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Gs(Fs(t=o.call.apply(o,[this].concat(n))),"id",Qi()),t}return e=i,(n=[{key:"renderDot",value:function(){var t=this.props,e=t.config,n=e.color,r=e.thickness,o=void 0===r?2:r,i=t.size,a=t.visible,u=Math.min(Math.max(2,o),i/2),c=1;return a||(c=0),Object(tt.g)("rect",{width:u,height:u,rx:u/2,ry:u/2,fill:n,opacity:c})}},{key:"renderMesh",value:function(){var t=this.props,e=t.config,n=e.color,r=e.thickness,o=void 0===r?1:r,i=t.size,a=t.visible,u=Math.min(Math.max(1,o),i/2),c="M ".concat(i," 0 H0 M0 0 V0 ").concat(i),s=1;return a||(s=0),Object(tt.g)("path",{d:c,stroke:n,strokeWidth:u,opacity:s})}},{key:"render",value:function(){var t=this.props,e=t.type,n=t.size,r=t.graphModel.transformModel,o=[r.SCALE_X,r.SKEW_Y,r.SKEW_X,r.SCALE_Y,r.TRANSLATE_X,r.TRANSLATE_Y].join(","),i="matrix(".concat(o,")");return Object(tt.g)("div",{className:"lf-grid"},Object(tt.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},Object(tt.g)("defs",null,Object(tt.g)("pattern",{id:this.id,patternUnits:"userSpaceOnUse",patternTransform:i,x:"0",y:"0",width:n,height:n},"dot"===e&&this.renderDot(),"mesh"===e&&this.renderMesh())),Object(tt.g)("rect",{width:"100%",height:"100%",fill:"url(#".concat(this.id,")")})))}}])&&Ls(e.prototype,n),r&&Ls(e,r),i}(tt.a))||Ds;function Ws(t){return Ws="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ws(t)}function Us(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Ys(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ys(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ys(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Xs.defaultProps={size:20,visible:!0,type:"dot",config:{color:"#ababab",thickness:1}},n(52);var Vs,Ks=function(t){var e={x1:10,y1:10,x2:20,y2:20,stroke:"black"};return Object.entries(t).forEach((function(t){var n=Us(t,2),r=n[0],o=n[1];("style"===r||"object"!==Ws(o))&&(e[r]=o)})),Object(tt.g)("line",e)};function qs(t){return qs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qs(t)}function $s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Js(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?$s(Object(n),!0).forEach((function(e){Qs(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Qs(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function el(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function nl(t,e){return nl=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},nl(t,e)}function rl(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=il(t);if(e){var o=il(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ol(this,n)}}function ol(t,e){if(e&&("object"===qs(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function il(t){return il=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},il(t)}var al,ul=t_(Vs=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nl(t,e)}(i,t);var e,n,r,o=rl(i);function i(){return tl(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"render",value:function(){var t=this.props.snaplineModel,e=t.position,n=t.isShowHorizontal,r=t.isShowVertical,o=t.getStyle(),i=e.x,a=void 0===i?0:i,u=e.y,c=void 0===u?0:u,s=Js(Js({x1:-1e5,y1:c,x2:1e5,y2:c},o),{},{stroke:n?o.stroke:"none"}),l=Js(Js({x1:a,y1:-1e5,x2:a,y2:1e5},o),{},{stroke:r?o.stroke:"none"});return Object(tt.g)("g",{className:"lf-snapline"},Object(tt.g)(Ks,s),Object(tt.g)(Ks,l))}}])&&el(e.prototype,n),r&&el(e,r),i}(tt.a))||Vs;function cl(t){return cl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cl(t)}function sl(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return ll(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ll(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ll(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fl(t){var e=t.x,n=t.y,r=t.width,o=t.height,i=t.className,a=t.radius,u=e-r/2,c=n-o/2,s={};return Object.entries(t).forEach((function(t){var e=sl(t,2),n=e[0],r=e[1];"object"!==cl(r)&&(s[n]=r)})),s.className=i?"lf-basic-shape ".concat(i):"lf-basic-shape",a&&(s.rx=a,s.ry=a),s.x=u,s.y=c,Object(tt.g)("rect",s)}function pl(t){return pl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pl(t)}function dl(){return dl=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dl.apply(this,arguments)}function hl(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function yl(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?hl(Object(n),!0).forEach((function(e){vl(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hl(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function vl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ml(t,e){return ml=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},ml(t,e)}function _l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=wl(t);if(e){var o=wl(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ol(this,n)}}function Ol(t,e){if(e&&("object"===pl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function wl(t){return wl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},wl(t)}fl.defaultProps={className:"",radius:""};var xl,El=t_(al=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ml(t,e)}(i,t);var e,n,r,o=_l(i);function i(){return gl(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getNodesOutline",value:function(){var t=this.props.graphModel,e=t.nodes,n=t.editConfigModel,r=n.hoverOutline,o=n.nodeSelectedOutline,i=[];return e.forEach((function(t){if(t.isHovered||t.isSelected){var e=t.isHovered,n=t.isSelected,a=t.x,u=t.y,c=t.width,s=t.height;if(o&&n||r&&e){var l=t.getOutlineStyle(),f={};if(Object.keys(l).forEach((function(t){"hover"!==t&&(f[t]=l[t])})),e){var p=l.hover;f=yl(yl({},f),p)}i.push(Object(tt.g)(fl,dl({className:"lf-outline-node",x:a,y:u,width:c+10,height:s+10},f)))}}})),i}},{key:"getEdgeOutline",value:function(){for(var t=this.props.graphModel,e=t.edges,n=t.editConfigModel,r=n.edgeSelectedOutline,o=n.hoverOutline,i=[],a=0;a<e.length;a++){var u=e[a];(r&&u.isSelected||o&&u.isHovered)&&(u.modelType===fo.LINE_EDGE?i.push(this.getLineOutline(u)):u.modelType===fo.POLYLINE_EDGE?i.push(this.getPolylineOutline(u)):u.modelType===fo.BEZIER_EDGE&&i.push(this.getBezierOutline(u)))}return i}},{key:"getLineOutline",value:function(t){var e=t.startPoint,n=t.endPoint,r=(e.x+n.x)/2,o=(e.y+n.y)/2,i=Math.abs(e.x-n.x)+10,a=Math.abs(e.y-n.y)+10,u=t.getOutlineStyle();return Object(tt.g)(fl,dl({className:"lf-outline-edge",x:r,y:o,width:i,height:a},u))}},{key:"getPolylineOutline",value:function(t){var e=t.points,n=hc(e),r=$u(n,8),o=r.x,i=r.y,a=r.width,u=r.height,c=t.getOutlineStyle();return Object(tt.g)(fl,dl({className:"lf-outline",x:o,y:i,width:a,height:u},c))}},{key:"getBezierOutline",value:function(t){var e=t.path,n=mc(e),r=$u(n,8),o=r.x,i=r.y,a=r.width,u=r.height,c=t.getOutlineStyle();return Object(tt.g)(fl,dl({className:"lf-outline",x:o,y:i,width:a,height:u},c))}},{key:"render",value:function(){return Object(tt.g)("g",{className:"lf-outline"},this.getNodesOutline(),this.getEdgeOutline())}}])&&bl(e.prototype,n),r&&bl(e,r),i}(tt.a))||al;function jl(t){return jl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jl(t)}function Sl(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Pl(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pl(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pl(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ml(t){var e=t.x,n=void 0===e?0:e,r=t.y,o=void 0===r?0:r,i=t.r,a=void 0===i?4:i,u=t.className,c={cx:n,cy:o,r:a,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(t).forEach((function(t){var e=Sl(t,2),n=e[0],r=e[1];"object"!==jl(r)&&(c[n]=r)})),c.className=u?"lf-basic-shape ".concat(u):"lf-basic-shape",Object(tt.g)("circle",c)}function kl(t){return kl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kl(t)}function Al(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Tl(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Tl(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tl(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Nl(){return Nl=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nl.apply(this,arguments)}function Dl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Il(t,e,n){return e&&Cl(t.prototype,e),n&&Cl(t,n),t}function Rl(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ll(t,e)}function Ll(t,e){return Ll=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Ll(t,e)}function Zl(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Fl(t);if(e){var o=Fl(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Bl(this,n)}}function Bl(t,e){if(e&&("object"===kl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return zl(t)}function zl(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fl(t){return Fl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Fl(t)}function Hl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Gl,Xl=function(t){Rl(n,t);var e=Zl(n);function n(){var t;return Dl(this,n),Hl(zl(t=e.call(this)),"dragHandler",void 0),Hl(zl(t),"onDragging",(function(e){var n=e.event,r=t.props,o=r.graphModel,i=r.bezierModel,a=r.type,u=o.getPointByClient({x:n.clientX,y:n.clientY}).canvasOverlayPosition,c=u.x,s=u.y;i.updateAdjustAnchor({x:c,y:s},a)})),Hl(zl(t),"onDragEnd",(function(){t.props.bezierModel.isDragging=!1})),t.dragHandler=new Gc({onDragging:t.onDragging,onDragEnd:t.onDragEnd}),t}return Il(n,[{key:"render",value:function(){var t=this,e=this.props.position,n=e.x,r=e.y,o=this.props.bezierModel.getEdgeStyle().adjustAnchor;return Object(tt.g)(Ml,Nl({className:"lf-bezier-adjust-anchor",x:n,y:r},o,{onMouseDown:function(e){t.dragHandler.handleMouseDown(e)}}))}}]),n}(tt.a),Wl=t_(xl=function(t){Rl(n,t);var e=Zl(n);function n(){return Dl(this,n),e.apply(this,arguments)}return Il(n,[{key:"getBezierAdjust",value:function(t,e){var n=t.path,r=t.id,o=Al(mc(n),4),i=o[0],a=o[1],u=o[2],c=o[3],s=t.getEdgeStyle().adjustLine,l=[];return l.push(Object(tt.g)(Ks,Nl({x1:i.x,y1:i.y,x2:a.x,y2:a.y},s))),l.push(Object(tt.g)(Xl,{position:a,bezierModel:t,graphModel:e,key:"".concat(r,"_ePre"),type:"sNext"})),l.push(Object(tt.g)(Ks,Nl({x1:c.x,y1:c.y,x2:u.x,y2:u.y},s))),l.push(Object(tt.g)(Xl,{position:u,bezierModel:t,graphModel:e,key:"".concat(r,"_sNext"),type:"ePre"})),l}},{key:"selectedBezierEdge",value:function(){for(var t=this.props.graphModel,e=t.edges,n=[],r=0;r<e.length;r++){var o=e[r];o.isSelected&&o.modelType===fo.BEZIER_EDGE&&o.draggable&&n.push(this.getBezierAdjust(o,t))}return n}},{key:"render",value:function(){return Object(tt.g)("g",{className:"lf-bezier-adjust"},this.selectedBezierEdge())}}]),n}(tt.a))||xl;function Ul(t){return Ul="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ul(t)}function Yl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Kl(t,e){return Kl=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Kl(t,e)}function ql(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Jl(t);if(e){var o=Jl(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $l(this,n)}}function $l(t,e){if(e&&("object"===Ul(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Jl(t){return Jl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Jl(t)}var Ql,tf=t_(Gl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Kl(t,e)}(i,t);var e,n,r,o=ql(i);function i(){return Yl(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"render",value:function(){var t=this.props.graphModel.transformModel.getTransformStyle().transform,e=this.props.children;return Object(tt.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%",className:"modification-overlay"},Object(tt.g)("g",{transform:t},e))}}])&&Vl(e.prototype,n),r&&Vl(e,r),i}(tt.a))||Gl;function ef(t){return ef="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ef(t)}function nf(){return nf=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nf.apply(this,arguments)}function rf(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function of(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function af(t,e){return af=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},af(t,e)}function uf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=sf(t);if(e){var o=sf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return cf(this,n)}}function cf(t,e){if(e&&("object"===ef(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function sf(t){return sf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},sf(t)}var lf=t_(Ql=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&af(t,e)}(i,t);var e,n,r,o=uf(i);function i(){return rf(this,i),o.apply(this,arguments)}return e=i,n=[{key:"getComponent",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"canvas-overlay",r=this.props.getView,o=r(t.type);return Object(tt.g)(o,{key:t.id,model:t,graphModel:e,overlay:n})}},{key:"render",value:function(){var t=this,e=this.props,n=e.graphModel,r=e.tool,o=e.options,i=e.dnd,a=e.snaplineModel,u={};o.width&&(u.width="".concat(n.width,"px")),o.height&&(u.height="".concat(n.height,"px"));var c=o.grid,s=n.fakerNode,l=n.editConfigModel.adjustEdge;return Object(tt.g)("div",{className:"lf-graph","flow-id":n.flowId,style:u},Object(tt.g)(gs,{graphModel:n,dnd:i},Object(tt.g)("g",{className:"lf-base"},hr(n.sortElements,(function(e){return t.getComponent(e,n)}))),s?this.getComponent(s,n):""),Object(tt.g)(tf,{graphModel:n},Object(tt.g)(El,{graphModel:n}),l?Object(tt.g)(Wl,{graphModel:n}):"",!1!==o.snapline?Object(tt.g)(ul,{snaplineModel:a}):""),Object(tt.g)(js,{graphModel:n,tool:r}),o.background&&Object(tt.g)(Cs,{background:o.background}),o.grid&&Object(tt.g)(Xs,nf({},c,{graphModel:n})))}}],n&&of(e.prototype,n),r&&of(e,r),i}(tt.a))||Ql,ff=lf;function pf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function df(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?pf(Object(n),!0).forEach((function(e){yf(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pf(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function hf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function yf(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var vf=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),yf(this,"nodeConfig",void 0),yf(this,"lf",void 0),yf(this,"fakerNode",void 0),yf(this,"stopDrag",(function(){n.nodeConfig=null,window.document.removeEventListener("mouseup",n.stopDrag)})),yf(this,"dragEnter",(function(t){n.nodeConfig&&!n.fakerNode&&(n.fakerNode=n.lf.createFakerNode(df(df({},n.nodeConfig),n.clientToLocalPoint({x:t.clientX,y:t.clientY}))))})),yf(this,"onDragOver",(function(t){if(t.preventDefault(),n.fakerNode){var e=n.clientToLocalPoint({x:t.clientX,y:t.clientY}),r=e.x,o=e.y;n.fakerNode.moveTo(r,o);var i=n.fakerNode.getData();n.lf.setNodeSnapLine(i),n.lf.graphModel.eventCenter.emit(ho.NODE_DND_DRAG,{data:i})}return!1})),yf(this,"onDragLeave",(function(){n.fakerNode&&(n.lf.removeNodeSnapLine(),n.lf.graphModel.removeFakerNode(),n.fakerNode=null)})),yf(this,"onDrop",(function(t){n.lf.graphModel&&t&&n.nodeConfig&&(n.lf.addNode(df(df({},n.nodeConfig),n.clientToLocalPoint({x:t.clientX,y:t.clientY})),ho.NODE_DND_ADD,t),t.preventDefault(),t.stopPropagation(),n.nodeConfig=null,n.lf.removeNodeSnapLine(),n.lf.graphModel.removeFakerNode(),n.fakerNode=null)}));var r=e.lf;this.lf=r}var e,n,r;return e=t,(n=[{key:"clientToLocalPoint",value:function(t){var e=t.x,n=t.y,r=er(this.lf.options,["grid","size"]),o=this.lf.graphModel.getPointByClient({x:e,y:n}).canvasOverlayPosition,i=o.x,a=o.y;return{x:Zi(i,r),y:Zi(a,r)}}},{key:"startDrag",value:function(t){this.nodeConfig=t,window.document.addEventListener("mouseup",this.stopDrag)}},{key:"eventMap",value:function(){return{onMouseEnter:this.dragEnter,onMouseOver:this.dragEnter,onMouseMove:this.onDragOver,onMouseLeave:this.onDragLeave,onMouseUp:this.onDrop}}}])&&hf(e.prototype,n),r&&hf(e,r),t}();function gf(t){var e=t.container,n=t.grid,r=t.width,o=t.height;if(!e)throw new Error("请检查 container 参数是否有效");if("string"==typeof r||"string"==typeof o)throw new Error("width或height不支持传入字符串，请传数字");return n&&(t.grid=qr({size:20,type:"dot",visible:!0,config:{color:"#ababab",thickness:1}},n)),qr({},_f,t)}var bf,mf,_f={background:!1,grid:!1,textEdit:!0,disabledTools:[]};function Of(t){return Of="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Of(t)}function wf(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return xf(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xf(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xf(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ef(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function jf(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ef(Object(n),!0).forEach((function(e){Rf(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ef(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Sf(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Pf(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Mf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function kf(){return kf="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=Af(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},kf.apply(this,arguments)}function Af(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=If(t)););return t}function Tf(t,e){return Tf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Tf(t,e)}function Nf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=If(t);if(e){var o=If(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Df(this,n)}}function Df(t,e){if(e&&("object"===Of(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Cf(t)}function Cf(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function If(t){return If=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},If(t)}function Rf(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lf(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var Zf,Bf,zf,Ff,Hf,Gf,Xf,Wf,Uf,Yf,Vf,Kf,qf,$f,Jf,Qf,tp,ep,np,rp,op=(bf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Tf(t,e)}(i,t);var e,n,r,o=Nf(i);function i(){var t;Pf(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Rf(Cf(t=o.call.apply(o,[this].concat(n))),"modelType",fo.BEZIER_EDGE),Sf(Cf(t),"path",mf,Cf(t)),t}return e=i,(n=[{key:"initEdgeData",value:function(t){this.offset=100,kf(If(i.prototype),"initEdgeData",this).call(this,t)}},{key:"getEdgeStyle",value:function(){var t=this.graphModel.theme.bezier;return jf(jf({},kf(If(i.prototype),"getEdgeStyle",this).call(this)),_i(t))}},{key:"getTextPosition",value:function(){if(this.pointsList&&this.pointsList.length>0){var t=0,e=0;return this.pointsList.forEach((function(n){var r=n.x,o=n.y;t+=r,e+=o})),{x:t/this.pointsList.length,y:e/this.pointsList.length}}return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}},{key:"getData",value:function(){var t=kf(If(i.prototype),"getData",this).call(this),e=this.pointsList.map((function(t){return{x:t.x,y:t.y}}));return jf(jf({},t),{},{pointsList:e})}},{key:"getControls",value:function(){var t=this.startPoint,e=this.endPoint;return bc({start:t,end:e,sourceNode:this.sourceNode,targetNode:this.targetNode,offset:this.offset})}},{key:"getPath",value:function(t){var e=wf(t,4),n=e[0],r=e[1],o=e[2],i=e[3];return"M ".concat(n.x," ").concat(n.y,"\n    C ").concat(r.x," ").concat(r.y,",\n    ").concat(o.x," ").concat(o.y,",\n    ").concat(i.x," ").concat(i.y)}},{key:"initPoints",value:function(){this.pointsList.length>0?this.path=this.getPath(this.pointsList):this.updatePoints()}},{key:"updatePoints",value:function(){var t=this.getControls(),e=t.sNext,n=t.ePre;this.updatePath(e,n)}},{key:"updatePath",value:function(t,e){t=_i(t),e=_i(e);var n={x:this.startPoint.x,y:this.startPoint.y},r={x:this.endPoint.x,y:this.endPoint.y};if(!t||!e){var o=this.getControls();t=o.sNext,e=o.ePre}this.pointsList=[n,t,e,r],this.path=this.getPath(this.pointsList)}},{key:"updateStartPoint",value:function(t){this.startPoint=t,this.updatePoints()}},{key:"updateEndPoint",value:function(t){this.endPoint=t,this.updatePoints()}},{key:"moveStartPoint",value:function(t,e){this.startPoint.x+=t,this.startPoint.y+=e;var n=wf(this.pointsList,3),r=n[1],o=n[2];r.x+=t,r.y+=e,this.updatePath(r,o)}},{key:"moveEndPoint",value:function(t,e){this.endPoint.x+=t,this.endPoint.y+=e;var n=wf(this.pointsList,3),r=n[1],o=n[2];o.x+=t,o.y+=e,this.updatePath(r,o)}},{key:"updateAdjustAnchor",value:function(t,e){"sNext"===e?this.pointsList[1]=t:"ePre"===e&&(this.pointsList[2]=t),this.path=this.getPath(this.pointsList),this.setText(Object.assign({},this.text,this.textPosition))}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var t=this.pointsList;return t[t.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(t){var e=t.startPoint,n=t.endPoint,r=t.sourceNode,o=t.targetNode,i=bc({start:e,end:n,sourceNode:r,targetNode:o,offset:this.offset}),a=i.sNext,u=i.ePre;this.pointsList=[e,a,u,n],this.initPoints()}}])&&Mf(e.prototype,n),r&&Mf(e,r),i}(tu),mf=Lf(bf.prototype,"path",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Lf(bf.prototype,"initPoints",[o.k],Object.getOwnPropertyDescriptor(bf.prototype,"initPoints"),bf.prototype),Lf(bf.prototype,"updatePoints",[o.k],Object.getOwnPropertyDescriptor(bf.prototype,"updatePoints"),bf.prototype),Lf(bf.prototype,"updateStartPoint",[o.k],Object.getOwnPropertyDescriptor(bf.prototype,"updateStartPoint"),bf.prototype),Lf(bf.prototype,"updateEndPoint",[o.k],Object.getOwnPropertyDescriptor(bf.prototype,"updateEndPoint"),bf.prototype),Lf(bf.prototype,"moveStartPoint",[o.k],Object.getOwnPropertyDescriptor(bf.prototype,"moveStartPoint"),bf.prototype),Lf(bf.prototype,"moveEndPoint",[o.k],Object.getOwnPropertyDescriptor(bf.prototype,"moveEndPoint"),bf.prototype),Lf(bf.prototype,"updateAdjustAnchor",[o.k],Object.getOwnPropertyDescriptor(bf.prototype,"updateAdjustAnchor"),bf.prototype),Lf(bf.prototype,"getAdjustStart",[o.k],Object.getOwnPropertyDescriptor(bf.prototype,"getAdjustStart"),bf.prototype),Lf(bf.prototype,"getAdjustEnd",[o.k],Object.getOwnPropertyDescriptor(bf.prototype,"getAdjustEnd"),bf.prototype),Lf(bf.prototype,"updateAfterAdjustStartAndEnd",[o.k],Object.getOwnPropertyDescriptor(bf.prototype,"updateAfterAdjustStartAndEnd"),bf.prototype),bf),ip=function(t){return null==t};function ap(t){return ap="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ap(t)}function up(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return cp(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cp(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function cp(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sp(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function lp(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?sp(Object(n),!0).forEach((function(e){dp(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sp(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function fp(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function pp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function dp(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hp(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var yp,vp,gp=(Zf=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),dp(this,"id",""),fp(this,"type",Bf,this),fp(this,"x",zf,this),fp(this,"y",Ff,this),fp(this,"text",Hf,this),fp(this,"properties",Gf,this),fp(this,"_width",Xf,this),fp(this,"_height",Wf,this),fp(this,"anchorsOffset",Uf,this),fp(this,"isSelected",Yf,this),fp(this,"isHovered",Vf,this),fp(this,"isShowAnchor",Kf,this),fp(this,"isDragging",qf,this),fp(this,"isHitable",$f,this),fp(this,"draggable",Jf,this),fp(this,"visible",Qf,this),dp(this,"virtual",!1),dp(this,"graphModel",void 0),fp(this,"zIndex",tp,this),fp(this,"state",ep,this),fp(this,"autoToFront",np,this),fp(this,"style",rp,this),dp(this,"BaseType",po.NODE),dp(this,"modelType",fo.NODE),dp(this,"additionStateData",void 0),dp(this,"targetRules",[]),dp(this,"sourceRules",[]),dp(this,"moveRules",[]),dp(this,"hasSetTargetRules",!1),dp(this,"hasSetSourceRules",!1),this.graphModel=n,this.initNodeData(e),this.setAttributes()}var e,n,r;return e=t,n=[{key:"width",get:function(){return this._width},set:function(t){this._width=t}},{key:"height",get:function(){return this._height},set:function(t){this._height=t}},{key:"incoming",get:function(){return{nodes:this.graphModel.getNodeIncomingNode(this.id),edges:this.graphModel.getNodeIncomingEdge(this.id)}}},{key:"outgoing",get:function(){return{nodes:this.graphModel.getNodeOutgoingNode(this.id),edges:this.graphModel.getNodeOutgoingEdge(this.id)}}},{key:"initNodeData",value:function(t){if(t.properties||(t.properties={}),!t.id){var e=this.graphModel.idGenerator,n=e&&e(t.type),r=this.createId();t.id=r||n||Qi()}this.formatText(t),qr(this,function(t){return oo(t,["id","type","x","y","text","properties","virtual"])}(t)),this.graphModel.overlapMode===vo.INCREASE&&(this.zIndex=t.zIndex||Ua())}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"formatText",value:function(t){t.text||(t.text={value:"",x:t.x,y:t.y,draggable:!1,editable:!0}),t.text&&"string"==typeof t.text?t.text={value:t.text,x:t.x,y:t.y,draggable:!1,editable:!0}:t.text&&void 0===t.text.editable&&(t.text.editable=!0)}},{key:"getData",value:function(){var t=this.text,e=t.x,n=t.y,r=t.value,i=this.properties;Object(o.x)(i)&&(i=Object(o.I)(i));var a={id:this.id,type:this.type,x:this.x,y:this.y,properties:i};return this.graphModel.overlapMode===vo.INCREASE&&(a.zIndex=this.zIndex),r&&(a.text={x:e,y:n,value:r}),a}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"getProperties",value:function(){return Object(o.I)(this.properties)}},{key:"getNodeStyle",value:function(){return lp(lp({},this.graphModel.theme.baseNode),this.style)}},{key:"getTextStyle",value:function(){var t=this.graphModel.theme.nodeText;return _i(t)}},{key:"getAnchorStyle",value:function(t){var e=this.graphModel.theme.anchor;return _i(e)}},{key:"getAnchorLineStyle",value:function(t){var e=this.graphModel.theme.anchorLine;return _i(e)}},{key:"getOutlineStyle",value:function(){var t=this.graphModel.theme.outline;return _i(t)}},{key:"isAllowConnectedAsSource",value:function(t,e,n,r){var o=this.hasSetSourceRules?this.sourceRules:this.getConnectedSourceRules();this.hasSetSourceRules=!0;for(var i,a=!0,u=0;u<o.length;u++){var c=o[u];if(!c.validate.call(this,this,t,e,n,r)){a=!1,i=c.message;break}}return{isAllPass:a,msg:i}}},{key:"getConnectedSourceRules",value:function(){return this.sourceRules}},{key:"isAllowConnectedAsTarget",value:function(t,e,n,r){var o=this.hasSetTargetRules?this.targetRules:this.getConnectedTargetRules();this.hasSetTargetRules=!0;for(var i,a=!0,u=0;u<o.length;u++){var c=o[u];if(!c.validate.call(this,t,this,e,n,r)){a=!1,i=c.message;break}}return{isAllPass:a,msg:i}}},{key:"isAllowMoveNode",value:function(t,e){var n,r=!0,o=!0,i=up(this.moveRules.concat(this.graphModel.nodeMoveRules));try{for(i.s();!(n=i.n()).done;){var a=(0,n.value)(this,t,e);if(!a)return!1;if("object"===ap(a)){var u=a;if(!1===u.x&&!1===u.y)return!1;r=r&&u.x,o=o&&u.y}}}catch(t){i.e(t)}finally{i.f()}return{x:r,y:o}}},{key:"getConnectedTargetRules",value:function(){return this.targetRules}},{key:"getAnchorsByOffset",value:function(){var t=this.anchorsOffset,e=this.id,n=this.x,r=this.y;return t&&t.length>0?t.map((function(t,o){return t.length?{id:"".concat(e,"_").concat(o),x:n+t[0],y:r+t[1]}:lp(lp({},t),{},{x:n+t.x,y:r+t.y,id:t.id||"".concat(e,"_").concat(o)})})):this.getDefaultAnchor()}},{key:"getDefaultAnchor",value:function(){return[]}},{key:"getTargetAnchor",value:function(t){return function(t,e){for(var n,r=Pa(e),o=Number.MAX_SAFE_INTEGER,i=0;i<r.length;i++){var a=Aa(t.x,t.y,r[i].x,r[i].y);a<o&&(o=a,n={index:i,anchor:oa(oa({},r[i]),{},{x:r[i].x,y:r[i].y,id:r[i].id})})}return n}(t,this)}},{key:"getBounds",value:function(){return{x1:this.x-this.width/2,y1:this.y-this.height/2,x2:this.x+this.width/2,y2:this.y+this.height/2}}},{key:"anchors",get:function(){return this.getAnchorsByOffset()}},{key:"getAnchorInfo",value:function(t){if(!ip(t))for(var e=0;e<this.anchors.length;e++){var n=this.anchors[e];if(n.id===t)return n}}},{key:"addNodeMoveRules",value:function(t){this.moveRules.includes(t)||this.moveRules.push(t)}},{key:"move",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=!1,o=!1;if(n)r=!0,o=!0;else{var i=this.isAllowMoveNode(t,e);"boolean"==typeof i?(r=i,o=i):(r=i.x,o=i.y)}if(r){var a=this.x+t;this.x=a,this.text&&this.moveText(t,0)}if(o){var u=this.y+e;this.y=u,this.text&&this.moveText(0,e)}return r||o}},{key:"getMoveDistance",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=!1,o=!1,i=0,a=0;if(n)r=!0,o=!0;else{var u=this.isAllowMoveNode(t,e);"boolean"==typeof u?(r=u,o=u):(r=u.x,o=u.y)}if(r&&t){var c=this.x+t;this.x=c,this.text&&this.moveText(t,0),i=t}if(o&&e){var s=this.y+e;this.y=s,this.text&&this.moveText(0,e),a=e}return[i,a]}},{key:"moveTo",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=t-this.x,o=e-this.y;return!(!n&&!this.isAllowMoveNode(r,o)||(this.text&&this.text&&this.moveText(r,o),this.x=t,this.y=e,0))}},{key:"moveText",value:function(t,e){var n=this.text,r=n.x,o=n.y,i=n.value,a=n.draggable,u=n.editable;this.text={value:i,editable:u,draggable:a,x:r+t,y:o+e}}},{key:"updateText",value:function(t){this.text=lp(lp({},Object(o.I)(this.text)),{},{value:t})}},{key:"setSelected",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isSelected=t}},{key:"setHovered",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isHovered=t,this.setIsShowAnchor(t)}},{key:"setIsShowAnchor",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isShowAnchor=t}},{key:"setHitable",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isHitable=t}},{key:"setElementState",value:function(t,e){this.state=t,this.additionStateData=e}},{key:"setProperty",value:function(t,e){this.properties=lp(lp({},Object(o.I)(this.properties)),{},dp({},t,Ga(e))),this.setAttributes()}},{key:"setProperties",value:function(t){this.properties=lp(lp({},Object(o.I)(this.properties)),Ga(t)),this.setAttributes()}},{key:"deleteProperty",value:function(t){delete this.properties[t],this.setAttributes()}},{key:"setStyle",value:function(t,e){this.style=lp(lp({},this.style),{},dp({},t,Ga(e)))}},{key:"setStyles",value:function(t){this.style=lp(lp({},this.style),Ga(t))}},{key:"updateStyles",value:function(t){this.style=lp({},Ga(t))}},{key:"setZIndex",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.zIndex=t}},{key:"updateAttributes",value:function(t){qr(this,t)}}],n&&pp(e.prototype,n),r&&pp(e,r),t}(),Bf=hp(Zf.prototype,"type",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),zf=hp(Zf.prototype,"x",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ff=hp(Zf.prototype,"y",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Hf=hp(Zf.prototype,"text",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),Gf=hp(Zf.prototype,"properties",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Xf=hp(Zf.prototype,"_width",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),Wf=hp(Zf.prototype,"_height",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 80}}),Uf=hp(Zf.prototype,"anchorsOffset",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Yf=hp(Zf.prototype,"isSelected",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Vf=hp(Zf.prototype,"isHovered",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Kf=hp(Zf.prototype,"isShowAnchor",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),qf=hp(Zf.prototype,"isDragging",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),$f=hp(Zf.prototype,"isHitable",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Jf=hp(Zf.prototype,"draggable",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Qf=hp(Zf.prototype,"visible",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),tp=hp(Zf.prototype,"zIndex",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),ep=hp(Zf.prototype,"state",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),np=hp(Zf.prototype,"autoToFront",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),rp=hp(Zf.prototype,"style",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),hp(Zf.prototype,"incoming",[o.m],Object.getOwnPropertyDescriptor(Zf.prototype,"incoming"),Zf.prototype),hp(Zf.prototype,"outgoing",[o.m],Object.getOwnPropertyDescriptor(Zf.prototype,"outgoing"),Zf.prototype),hp(Zf.prototype,"addNodeMoveRules",[o.k],Object.getOwnPropertyDescriptor(Zf.prototype,"addNodeMoveRules"),Zf.prototype),hp(Zf.prototype,"move",[o.k],Object.getOwnPropertyDescriptor(Zf.prototype,"move"),Zf.prototype),hp(Zf.prototype,"getMoveDistance",[o.k],Object.getOwnPropertyDescriptor(Zf.prototype,"getMoveDistance"),Zf.prototype),hp(Zf.prototype,"moveTo",[o.k],Object.getOwnPropertyDescriptor(Zf.prototype,"moveTo"),Zf.prototype),hp(Zf.prototype,"moveText",[o.k],Object.getOwnPropertyDescriptor(Zf.prototype,"moveText"),Zf.prototype),hp(Zf.prototype,"updateText",[o.k],Object.getOwnPropertyDescriptor(Zf.prototype,"updateText"),Zf.prototype),hp(Zf.prototype,"setSelected",[o.k],Object.getOwnPropertyDescriptor(Zf.prototype,"setSelected"),Zf.prototype),hp(Zf.prototype,"setHovered",[o.k],Object.getOwnPropertyDescriptor(Zf.prototype,"setHovered"),Zf.prototype),hp(Zf.prototype,"setIsShowAnchor",[o.k],Object.getOwnPropertyDescriptor(Zf.prototype,"setIsShowAnchor"),Zf.prototype),hp(Zf.prototype,"setHitable",[o.k],Object.getOwnPropertyDescriptor(Zf.prototype,"setHitable"),Zf.prototype),hp(Zf.prototype,"setElementState",[o.k],Object.getOwnPropertyDescriptor(Zf.prototype,"setElementState"),Zf.prototype),hp(Zf.prototype,"setProperty",[o.k],Object.getOwnPropertyDescriptor(Zf.prototype,"setProperty"),Zf.prototype),hp(Zf.prototype,"setProperties",[o.k],Object.getOwnPropertyDescriptor(Zf.prototype,"setProperties"),Zf.prototype),hp(Zf.prototype,"deleteProperty",[o.k],Object.getOwnPropertyDescriptor(Zf.prototype,"deleteProperty"),Zf.prototype),hp(Zf.prototype,"setStyle",[o.k],Object.getOwnPropertyDescriptor(Zf.prototype,"setStyle"),Zf.prototype),hp(Zf.prototype,"setStyles",[o.k],Object.getOwnPropertyDescriptor(Zf.prototype,"setStyles"),Zf.prototype),hp(Zf.prototype,"updateStyles",[o.k],Object.getOwnPropertyDescriptor(Zf.prototype,"updateStyles"),Zf.prototype),hp(Zf.prototype,"setZIndex",[o.k],Object.getOwnPropertyDescriptor(Zf.prototype,"setZIndex"),Zf.prototype),hp(Zf.prototype,"updateAttributes",[o.k],Object.getOwnPropertyDescriptor(Zf.prototype,"updateAttributes"),Zf.prototype),Zf);function bp(t){return bp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bp(t)}function mp(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function _p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?mp(Object(n),!0).forEach((function(e){Tp(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mp(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Op(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function wp(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ep(){return Ep="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=jp(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},Ep.apply(this,arguments)}function jp(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ap(t)););return t}function Sp(t,e){return Sp=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Sp(t,e)}function Pp(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ap(t);if(e){var o=Ap(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Mp(this,n)}}function Mp(t,e){if(e&&("object"===bp(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return kp(t)}function kp(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ap(t){return Ap=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ap(t)}function Tp(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Np(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var Dp,Cp,Ip,Rp=(yp=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Sp(t,e)}(i,t);var e,n,r,o=Pp(i);function i(){var t;wp(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Tp(kp(t=o.call.apply(o,[this].concat(n))),"modelType",fo.CIRCLE_NODE),Op(kp(t),"r",vp,kp(t)),t}return e=i,(n=[{key:"width",get:function(){return 2*this.r}},{key:"height",get:function(){return 2*this.r}},{key:"getNodeStyle",value:function(){var t=Ep(Ap(i.prototype),"getNodeStyle",this).call(this),e=this.graphModel.theme.circle;return _p(_p({},t),_i(e))}},{key:"getDefaultAnchor",value:function(){var t=this.x,e=this.y,n=this.r;return[{x:t,y:e-n,id:"".concat(this.id,"_0")},{x:t+n,y:e,id:"".concat(this.id,"_1")},{x:t,y:e+n,id:"".concat(this.id,"_2")},{x:t-n,y:e,id:"".concat(this.id,"_3")}]}}])&&xp(e.prototype,n),r&&xp(e,r),i}(gp),vp=Np(yp.prototype,"r",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),Np(yp.prototype,"width",[o.m],Object.getOwnPropertyDescriptor(yp.prototype,"width"),yp.prototype),Np(yp.prototype,"height",[o.m],Object.getOwnPropertyDescriptor(yp.prototype,"height"),yp.prototype),yp);function Lp(t){return Lp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lp(t)}function Zp(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Bp(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Bp(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bp(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zp(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Fp(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?zp(Object(n),!0).forEach((function(e){Jp(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zp(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Hp(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Gp(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Wp(){return Wp="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=Up(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},Wp.apply(this,arguments)}function Up(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=$p(t)););return t}function Yp(t,e){return Yp=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Yp(t,e)}function Vp(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=$p(t);if(e){var o=$p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Kp(this,n)}}function Kp(t,e){if(e&&("object"===Lp(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return qp(t)}function qp(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $p(t){return $p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},$p(t)}function Jp(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qp(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}n(127);var td,ed,nd,rd=(Dp=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Yp(t,e)}(i,t);var e,n,r,o=Vp(i);function i(){var t;Gp(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Jp(qp(t=o.call.apply(o,[this].concat(n))),"modelType",fo.DIAMOND_NODE),Hp(qp(t),"rx",Cp,qp(t)),Hp(qp(t),"ry",Ip,qp(t)),t}return e=i,(n=[{key:"getNodeStyle",value:function(){var t=Wp($p(i.prototype),"getNodeStyle",this).call(this),e=this.graphModel.theme.diamond;return Fp(Fp({},t),_i(e))}},{key:"points",get:function(){var t=this.x,e=this.y,n=this.rx,r=this.ry;return[[t,e-r],[t+n,e],[t,e+r],[t-n,e]]}},{key:"pointsPosition",get:function(){return this.points.map((function(t){return{x:t[0],y:t[1]}}))}},{key:"width",get:function(){var t=Number.MAX_SAFE_INTEGER,e=Number.MIN_SAFE_INTEGER;return this.points.forEach((function(n){var r=Zp(n,1)[0];r<t&&(t=r),r>e&&(e=r)})),e-t}},{key:"height",get:function(){var t=Number.MAX_SAFE_INTEGER,e=Number.MIN_SAFE_INTEGER;return this.points.forEach((function(n){var r=Zp(n,2)[1];r<t&&(t=r),r>e&&(e=r)})),e-t}},{key:"getDefaultAnchor",value:function(){var t=this;return this.points.map((function(e,n){var r=Zp(e,2);return{x:r[0],y:r[1],id:"".concat(t.id,"_").concat(n)}}))}}])&&Xp(e.prototype,n),r&&Xp(e,r),i}(gp),Cp=Qp(Dp.prototype,"rx",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),Ip=Qp(Dp.prototype,"ry",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),Qp(Dp.prototype,"points",[o.m],Object.getOwnPropertyDescriptor(Dp.prototype,"points"),Dp.prototype),Qp(Dp.prototype,"pointsPosition",[o.m],Object.getOwnPropertyDescriptor(Dp.prototype,"pointsPosition"),Dp.prototype),Qp(Dp.prototype,"width",[o.m],Object.getOwnPropertyDescriptor(Dp.prototype,"width"),Dp.prototype),Qp(Dp.prototype,"height",[o.m],Object.getOwnPropertyDescriptor(Dp.prototype,"height"),Dp.prototype),Dp);function od(t){return od="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},od(t)}function id(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ad(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?id(Object(n),!0).forEach((function(e){gd(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):id(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ud(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function cd(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ld(){return ld="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=fd(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},ld.apply(this,arguments)}function fd(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=vd(t)););return t}function pd(t,e){return pd=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},pd(t,e)}function dd(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vd(t);if(e){var o=vd(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return hd(this,n)}}function hd(t,e){if(e&&("object"===od(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return yd(t)}function yd(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vd(t){return vd=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},vd(t)}function gd(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bd(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var md,_d,Od=(td=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&pd(t,e)}(i,t);var e,n,r,o=dd(i);function i(){var t;cd(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return gd(yd(t=o.call.apply(o,[this].concat(n))),"modelType",fo.ELLIPSE_NODE),ud(yd(t),"rx",ed,yd(t)),ud(yd(t),"ry",nd,yd(t)),t}return e=i,(n=[{key:"getNodeStyle",value:function(){var t=ld(vd(i.prototype),"getNodeStyle",this).call(this),e=this.graphModel.theme.ellipse;return ad(ad({},t),_i(e))}},{key:"width",get:function(){return 2*this.rx}},{key:"height",get:function(){return 2*this.ry}},{key:"getDefaultAnchor",value:function(){var t=this.x,e=this.y,n=this.rx,r=this.ry;return[{x:t,y:e-r,id:"".concat(this.id,"_0")},{x:t+n,y:e,id:"".concat(this.id,"_1")},{x:t,y:e+r,id:"".concat(this.id,"_2")},{x:t-n,y:e,id:"".concat(this.id,"_3")}]}}])&&sd(e.prototype,n),r&&sd(e,r),i}(gp),ed=bd(td.prototype,"rx",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),nd=bd(td.prototype,"ry",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 45}}),bd(td.prototype,"width",[o.m],Object.getOwnPropertyDescriptor(td.prototype,"width"),td.prototype),bd(td.prototype,"height",[o.m],Object.getOwnPropertyDescriptor(td.prototype,"height"),td.prototype),td);function wd(t){return wd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wd(t)}function xd(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Ed(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ed(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ed(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Sd(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?jd(Object(n),!0).forEach((function(e){Ld(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jd(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Pd(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Md(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ad(){return Ad="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=Td(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},Ad.apply(this,arguments)}function Td(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Rd(t)););return t}function Nd(t,e){return Nd=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Nd(t,e)}function Dd(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Rd(t);if(e){var o=Rd(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Cd(this,n)}}function Cd(t,e){if(e&&("object"===wd(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Id(t)}function Id(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Rd(t){return Rd=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Rd(t)}function Ld(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zd(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var Bd,zd,Fd=(md=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Nd(t,e)}(i,t);var e,n,r,o=Dd(i);function i(){var t;Md(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Ld(Id(t=o.call.apply(o,[this].concat(n))),"modelType",fo.POLYGON_NODE),Pd(Id(t),"points",_d,Id(t)),t}return e=i,(n=[{key:"getNodeStyle",value:function(){var t=Ad(Rd(i.prototype),"getNodeStyle",this).call(this),e=this.graphModel.theme.polygon;return Sd(Sd({},t),_i(e))}},{key:"pointsPosition",get:function(){var t=this.x,e=this.y,n=this.width,r=this.height;return this.points.map((function(o){return{x:o[0]+t-n/2,y:o[1]+e-r/2}}))}},{key:"width",get:function(){var t=Number.MAX_SAFE_INTEGER,e=Number.MIN_SAFE_INTEGER;return this.points.forEach((function(n){var r=xd(n,1)[0];r<t&&(t=r),r>e&&(e=r)})),e-t}},{key:"height",get:function(){var t=Number.MAX_SAFE_INTEGER,e=Number.MIN_SAFE_INTEGER;return this.points.forEach((function(n){var r=xd(n,2)[1];r<t&&(t=r),r>e&&(e=r)})),e-t}},{key:"getDefaultAnchor",value:function(){var t=this,e=this.x,n=this.y,r=this.width,o=this.height;return this.points.map((function(i,a){var u=xd(i,2),c=u[0],s=u[1];return{x:e+c-r/2,y:n+s-o/2,id:"".concat(t.id,"_").concat(a)}}))}}])&&kd(e.prototype,n),r&&kd(e,r),i}(gp),_d=Zd(md.prototype,"points",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[[50,0],[100,50],[50,100],[0,50]]}}),Zd(md.prototype,"pointsPosition",[o.m],Object.getOwnPropertyDescriptor(md.prototype,"pointsPosition"),md.prototype),Zd(md.prototype,"width",[o.m],Object.getOwnPropertyDescriptor(md.prototype,"width"),md.prototype),Zd(md.prototype,"height",[o.m],Object.getOwnPropertyDescriptor(md.prototype,"height"),md.prototype),md);function Hd(t){return Hd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hd(t)}function Gd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Xd(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Gd(Object(n),!0).forEach((function(e){eh(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gd(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Wd(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Ud(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Vd(){return Vd="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=Kd(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},Vd.apply(this,arguments)}function Kd(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=th(t)););return t}function qd(t,e){return qd=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},qd(t,e)}function $d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=th(t);if(e){var o=th(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jd(this,n)}}function Jd(t,e){if(e&&("object"===Hd(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Qd(t)}function Qd(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function th(t){return th=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},th(t)}function eh(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var nh,rh=(Bd=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qd(t,e)}(i,t);var e,n,r,o=$d(i);function i(){var t;Ud(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return eh(Qd(t=o.call.apply(o,[this].concat(n))),"modelType",fo.RECT_NODE),Wd(Qd(t),"radius",zd,Qd(t)),t}return e=i,(n=[{key:"getDefaultAnchor",value:function(){var t=this.x,e=this.y,n=this.width,r=this.height;return[{x:t,y:e-r/2,id:"".concat(this.id,"_0")},{x:t+n/2,y:e,id:"".concat(this.id,"_1")},{x:t,y:e+r/2,id:"".concat(this.id,"_2")},{x:t-n/2,y:e,id:"".concat(this.id,"_3")}]}},{key:"getNodeStyle",value:function(){var t=Vd(th(i.prototype),"getNodeStyle",this).call(this),e=this.graphModel.theme.rect;return Xd(Xd({},t),_i(e))}}])&&Yd(e.prototype,n),r&&Yd(e,r),i}(gp),zd=function(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}(Bd.prototype,"radius",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Bd);function oh(t){return oh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oh(t)}function ih(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ah(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ih(Object(n),!0).forEach((function(e){vh(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ih(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function uh(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ch(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function sh(){return sh="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=lh(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},sh.apply(this,arguments)}function lh(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=yh(t)););return t}function fh(t,e){return fh=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},fh(t,e)}function ph(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=yh(t);if(e){var o=yh(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return dh(this,n)}}function dh(t,e){if(e&&("object"===oh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return hh(t)}function hh(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yh(t){return yh=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},yh(t)}function vh(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gh(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var bh=(nh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fh(t,e)}(i,t);var e,n,r,o=ph(i);function i(){var t;uh(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return vh(hh(t=o.call.apply(o,[this].concat(n))),"modelType",fo.TEXT_NODE),t}return e=i,(n=[{key:"getTextStyle",value:function(){var t=sh(yh(i.prototype),"getTextStyle",this).call(this),e=this.graphModel.theme.text;return ah(ah({},t),_i(e))}},{key:"width",get:function(){var t=String(this.text.value).split(/[\r\n]/g),e=this.getTextStyle().fontSize;return Fa({rows:t,fontSize:e,rowsLength:t.length}).width}},{key:"height",get:function(){var t=String(this.text.value).split(/[\r\n]/g),e=this.getTextStyle().fontSize;return Fa({rows:t,fontSize:e,rowsLength:t.length}).height}}])&&ch(e.prototype,n),r&&ch(e,r),i}(gp),gh(nh.prototype,"width",[o.m],Object.getOwnPropertyDescriptor(nh.prototype,"width"),nh.prototype),gh(nh.prototype,"height",[o.m],Object.getOwnPropertyDescriptor(nh.prototype,"height"),nh.prototype),nh);function mh(t){return mh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mh(t)}function _h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Oh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function wh(t,e){return wh=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},wh(t,e)}function xh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Sh(t);if(e){var o=Sh(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Eh(this,n)}}function Eh(t,e){if(e&&("object"===mh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return jh(t)}function jh(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Sh(t){return Sh=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Sh(t)}function Ph(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Mh,kh,Ah,Th,Nh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wh(t,e)}(i,t);var e,n,r,o=xh(i);function i(){var t;_h(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Ph(jh(t=o.call.apply(o,[this].concat(n))),"modelType",fo.HTML_NODE),t}return e=i,(n=[{key:"getDefaultAnchor",value:function(){var t=this.x,e=this.y,n=this.width,r=this.height;return[{x:t,y:e-r/2,id:"".concat(this.id,"_0")},{x:t+n/2,y:e,id:"".concat(this.id,"_1")},{x:t,y:e+r/2,id:"".concat(this.id,"_2")},{x:t-n/2,y:e,id:"".concat(this.id,"_3")}]}}])&&Oh(e.prototype,n),r&&Oh(e,r),i}(gp);function Dh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ch(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Ih(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Rh(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lh(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var Zh=(Mh=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Rh(this,"graphModel",void 0),Ch(this,"isShowHorizontal",kh,this),Ch(this,"isShowVertical",Ah,this),Ch(this,"position",Th,this),this.isShowHorizontal=!1,this.isShowVertical=!1,this.position={x:0,y:0},this.graphModel=e}var e,n,r;return e=t,n=[{key:"getStyle",value:function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Dh(Object(n),!0).forEach((function(e){Rh(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dh(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},this.graphModel.theme.snapline)}},{key:"getCenterSnapLine",value:function(t,e){for(var n=t.x,r=t.y,o=!1,i=!1,a=0;a<e.length;a++){var u=e[a];if(u.id!==t.id&&(n===u.x&&(o=!0),r===u.y&&(i=!0),o&&i))break}return{isShowVertical:o,isShowHorizontal:i,position:{x:n,y:r}}}},{key:"getHorizontalSnapline",value:function(t,e){var n,r,o=!1,i=t.id;if(i){var a=this.graphModel.fakerNode;if(a&&a.id===i)r=Da(a);else{var u=this.graphModel.getNodeModelById(i);r=Da(u)}}for(var c=0;c<e.length;c++){var s=e[c];if(s.id!==t.id){var l=Da(s);if(l.minY===r.minY||l.maxY===r.minY){o=!0,n=r.minY;break}if(l.minY===r.maxY||l.maxY===r.maxY){o=!0,n=r.maxY;break}}}return qr({isShowHorizontal:o,position:{y:n}})}},{key:"getVerticalSnapline",value:function(t,e){var n,r,o=!1,i=t.id;if(i){var a=this.graphModel.fakerNode;if(a&&a.id===i)r=Da(a);else{var u=this.graphModel.getNodeModelById(i);r=Da(u)}}for(var c=0;c<e.length;c++){var s=e[c];if(s.id!==t.id){var l=Da(s);if(l.minX===r.minX||l.maxX===r.minX){o=!0,n=r.minX;break}if(l.minX===r.maxX||l.maxX===r.maxX){o=!0,n=r.maxX;break}}}return qr({isShowVertical:o,position:{x:n}})}},{key:"getSnapLinePosition",value:function(t,e){var n=this.getCenterSnapLine(t,e),r=n.isShowHorizontal,o=n.isShowVertical;if(!r){var i=this.getHorizontalSnapline(t,e);i.isShowHorizontal&&(n.isShowHorizontal=i.isShowHorizontal,n.position.y=i.position.y)}if(!o){var a=this.getVerticalSnapline(t,e);a.isShowVertical&&(n.isShowVertical=a.isShowVertical,n.position.x=a.position.x)}return n}},{key:"setSnaplineInfo",value:function(t){var e=t.isShowHorizontal,n=t.isShowVertical,r=t.position;this.position=r,this.isShowHorizontal=e,this.isShowVertical=n}},{key:"clearSnapline",value:function(){this.position={x:0,y:0},this.isShowHorizontal=!1,this.isShowVertical=!1}},{key:"setNodeSnapLine",value:function(t){var e=this.graphModel.nodes,n=this.getSnapLinePosition(t,e);this.setSnaplineInfo(n)}}],n&&Ih(e.prototype,n),r&&Ih(e,r),t}(),kh=Lh(Mh.prototype,"isShowHorizontal",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ah=Lh(Mh.prototype,"isShowVertical",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Th=Lh(Mh.prototype,"position",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Lh(Mh.prototype,"clearSnapline",[o.k],Object.getOwnPropertyDescriptor(Mh.prototype,"clearSnapline"),Mh.prototype),Lh(Mh.prototype,"setNodeSnapLine",[o.k],Object.getOwnPropertyDescriptor(Mh.prototype,"setNodeSnapLine"),Mh.prototype),Mh),Bh=new Map,zh=function(t){var e=Qi(),n=window.requestAnimationFrame((function n(){if(t(),Bh.get(e)){var r=window.requestAnimationFrame(n);Bh.set(e,r)}}));return Bh.set(e,n),e},Fh=function(t){var e=Bh.get(t);e&&(window.cancelAnimationFrame(e),Bh.delete(t))};function Hh(t){return Hh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hh(t)}function Gh(){return Gh=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gh.apply(this,arguments)}function Xh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Wh(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Xh(Object(n),!0).forEach((function(e){ty(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xh(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Uh(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Yh(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yh(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yh(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Vh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Kh(t,e){return Kh=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Kh(t,e)}function qh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Qh(t);if(e){var o=Qh(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $h(this,n)}}function $h(t,e){if(e&&("object"===Hh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Jh(t)}function Jh(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qh(t){return Qh=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Qh(t)}function ty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ey=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Kh(t,e)}(i,t);var e,n,r,o=qh(i);function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),ty(Jh(t=o.call(this)),"preTargetNode",void 0),ty(Jh(t),"sourceRuleResults",void 0),ty(Jh(t),"targetRuleResults",void 0),ty(Jh(t),"dragHandler",void 0),ty(Jh(t),"t",void 0),ty(Jh(t),"onDragStart",(function(e){var n=e.event,r=t.props,o=r.anchorData,i=r.nodeModel,a=r.graphModel,u=a.overlapMode;a.selectNodeById(i.id),u!==vo.INCREASE&&i.autoToFront&&a.toFront(i.id),a.eventCenter.emit(ho.ANCHOR_DRAGSTART,{data:o,e:n,nodeModel:i}),t.setState({startX:o.x,startY:o.y,endX:o.x,endY:o.y})})),ty(Jh(t),"onDragging",(function(e){var n=e.event,r=t.props,o=r.graphModel,i=r.nodeModel,a=r.anchorData,u=o.transformModel,c=o.eventCenter,s=o.width,l=o.height,f=o.editConfigModel,p=f.autoExpand,d=f.stopMoveGraph,h=n.clientX,y=n.clientY,v=o.getPointByClient({x:h,y:y}),g=v.domOverlayPosition,b=g.x,m=g.y,_=v.canvasOverlayPosition,O=_.x,w=_.y;t.t&&Fh(t.t);var x=[];b<10?x=[10,0]:b+10>s?x=[-10,0]:m<10?x=[0,10]:m+10>l&&(x=[0,-10]),t.setState({endX:O,endY:w,dragging:!0}),t.moveAnchorEnd(O,w),x.length>0&&!d&&p&&(t.t=zh((function(){var e=Uh(x,2),n=e[0],r=e[1];u.translate(n,r);var o=t.state,i=o.endX,a=o.endY;t.setState({endX:i-n,endY:a-r}),t.moveAnchorEnd(i-n,a-r)}))),c.emit(ho.ANCHOR_DRAG,{data:a,e:n,nodeModel:i})})),ty(Jh(t),"onDragEnd",(function(e){var n=e.event;t.t&&Fh(t.t),t.checkEnd(n),t.setState({startX:0,startY:0,endX:0,endY:0,dragging:!1}),t.sourceRuleResults.clear(),t.targetRuleResults.clear();var r=t.props,o=r.graphModel,i=r.nodeModel,a=r.anchorData;o.eventCenter.emit(ho.ANCHOR_DRAGEND,{data:a,e:n,nodeModel:i})})),ty(Jh(t),"checkEnd",(function(e){var n=t.props,r=n.graphModel,o=n.nodeModel,i=n.anchorData,a=i.x,u=i.y,c=i.id,s=(r.edgeType,t.state),l=s.endX,f=s.endY,p=s.dragging,d=Ma({x:l,y:f},r);if(t.preTargetNode&&t.preTargetNode.state!==so.DEFAULT&&t.preTargetNode.setElementState(so.DEFAULT),p&&d&&d.node){var h=d.node,y=d.anchor.id,v="".concat(o.id,"_").concat(h.id,"_").concat(y,"_").concat(c),g=t.sourceRuleResults.get(v)||{},b=g.isAllPass,m=g.msg,_=t.targetRuleResults.get(v)||{},O=_.isAllPass,w=_.msg;if(b&&O){h.setElementState(so.DEFAULT);var x=r.edgeGenerator(o.getData(),r.getNodeModelById(d.node.id).getData()),E=r.addEdge(Wh(Wh({},x),{},{sourceNodeId:o.id,sourceAnchorId:c,startPoint:{x:a,y:u},targetNodeId:d.node.id,targetAnchorId:d.anchor.id,endPoint:{x:d.anchor.x,y:d.anchor.y}})),j=t.props.anchorData;r.eventCenter.emit(ho.ANCHOR_DROP,{data:j,e:e,nodeModel:o,edgeModel:E})}else{var S=h.getData();r.eventCenter.emit(ho.CONNECTION_NOT_ALLOWED,{data:S,msg:w||m})}}})),t.sourceRuleResults=new Map,t.targetRuleResults=new Map,t.state={startX:0,startY:0,endX:0,endY:0,dragging:!1},t.dragHandler=new Gc({onDragStart:t.onDragStart,onDragging:t.onDragging,onDragEnd:t.onDragEnd}),t}return e=i,(n=[{key:"getAnchorShape",value:function(){var t=this.props,e=t.anchorData,n=t.style,r=t.node.getAnchorShape(e);if(r)return r;var o=e.x,i=e.y,a=Wh(Wh({},n),n.hover);return Object(tt.g)("g",null,Object(tt.g)(Ml,Gh({className:"lf-node-anchor-hover"},a,{x:o,y:i})),Object(tt.g)(Ml,Gh({className:"lf-node-anchor"},n,{x:o,y:i})))}},{key:"moveAnchorEnd",value:function(t,e){var n=this.props,r=n.graphModel,o=n.nodeModel,i=n.anchorData,a=Ma({x:t,y:e},r);if(a){var u=a.node,c=a.anchor.id;if(this.preTargetNode&&this.preTargetNode!==a.node&&this.preTargetNode.setElementState(so.DEFAULT),i.id===c)return;this.preTargetNode=u;var s="".concat(o.id,"_").concat(u.id,"_").concat(c,"_").concat(i.id);if(!this.targetRuleResults.has(s)){var l=a.anchor,f=o.isAllowConnectedAsSource(u,i,l),p=u.isAllowConnectedAsTarget(o,i,l);this.sourceRuleResults.set(s,Ha(f)),this.targetRuleResults.set(s,Ha(p))}var d=this.sourceRuleResults.get(s).isAllPass,h=this.targetRuleResults.get(s).isAllPass;d&&h?u.setElementState(so.ALLOW_CONNECT):u.setElementState(so.NOT_ALLOW_CONNECT)}else this.preTargetNode&&this.preTargetNode.state!==so.DEFAULT&&this.preTargetNode.setElementState(so.DEFAULT)}},{key:"isShowLine",value:function(){var t=this.state,e=t.startX,n=t.startY,r=t.endX,o=t.endY;return Aa(e,n,r,o)>10}},{key:"render",value:function(){var t=this,e=this.state,n=e.startX,r=e.startY,o=e.endX,i=e.endY,a=this.props,u=a.anchorData.edgeAddable,c=a.edgeStyle;return Object(tt.g)("g",{className:"lf-anchor"},Object(tt.g)("g",{onMouseDown:function(e){!1!==u&&t.dragHandler.handleMouseDown(e)}},this.getAnchorShape()),this.isShowLine()&&Object(tt.g)(Ks,Gh({x1:n,y1:r,x2:o,y2:i},c,{"pointer-events":"none"})))}}])&&Vh(e.prototype,n),r&&Vh(e,r),i}(tt.a);function ny(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ry(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ny(Object(n),!0).forEach((function(e){oy(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ny(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function oy(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iy(t){return iy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iy(t)}function ay(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return uy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?uy(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function uy(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cy(t){var e=t.x,n=void 0===e?0:e,r=t.y,o=void 0===r?0:r,i=t.value,a=t.fontSize,u=t.fill,c=void 0===u?"currentColor":u,s=t.overflowMode,l=void 0===s?"default":s,f=t.textWidth,p=void 0===f?"":f,d=t.model,h={textAnchor:"middle","dominant-baseline":"middle",x:n,y:o,fill:c};if(Object.entries(t).forEach((function(t){var e=ay(t,2),n=e[0],r=e[1];"object"!==iy(r)&&(h[n]=r)})),i){var y=String(i).split(/[\r\n]/g),v=y.length;if("default"!==l){var g=d.BaseType,b=d.modelType;if(g===po.NODE&&b!==fo.TEXT_NODE||g===po.EDGE&&p)return function(t){var e=t.value,n=t.fontSize,r=t.model,o=t.fontFamily,i=void 0===o?"":o,a=t.lineHeight,u=t.wrapPadding,c=void 0===u?"0, 0":u,s=t.overflowMode,l=t.x,f=t.y,p=r.width,d=r.textHeight,h=t.textWidth||p,y=String(e).split(/[\r\n]/g),v=y.length,g=za({rows:y,style:{fontSize:"".concat(n,"px"),width:"".concat(h,"px"),fontFamily:i,lineHeight:a,padding:c},rowsLength:v,className:"lf-get-text-height"}),b=r.height>g?r.height:g;d&&(b=d);var m="ellipsis"===s;return m&&(b=n+2),Object(tt.g)("g",null,Object(tt.g)("foreignObject",{width:h,height:b,x:l-h/2,y:f-b/2},Object(tt.g)("div",{className:"lf-node-text-auto-wrap",style:{minHeight:b,width:h,padding:c}},Object(tt.g)("div",{className:m?"lf-node-text-ellipsis-content":"lf-node-text-auto-wrap-content",title:m?y.join(""):"",style:ry({},t)},y.map((function(t){return Object(tt.g)("div",{className:"lf-node-text--auto-wrap-inner"},t)}))))))}(t)}if(v>1){var m=y.map((function(t,e){var r=(e-(v-1)/2)*(a+2);return Object(tt.g)("tspan",{className:"lf-text-tspan",x:n,y:o+r},t)}));return Object(tt.g)("text",h,m)}return Object(tt.g)("text",h,i)}}function sy(t){return sy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sy(t)}function ly(){return ly=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ly.apply(this,arguments)}function fy(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return py(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?py(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function py(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function hy(t,e){return hy=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},hy(t,e)}function yy(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=by(t);if(e){var o=by(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return vy(this,n)}}function vy(t,e){if(e&&("object"===sy(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return gy(t)}function gy(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function by(t){return by=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},by(t)}function my(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n(80);var _y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&hy(t,e)}(i,t);var e,n,r,o=yy(i);function i(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),my(gy(e=o.call(this)),"dragHandler",void 0),my(gy(e),"sumDeltaX",0),my(gy(e),"sumDeltaY",0),my(gy(e),"stepDrag",void 0),my(gy(e),"onDragging",(function(t){var n=t.deltaX,r=t.deltaY,o=e.props,i=o.model,a=fy(o.graphModel.transformModel.fixDeltaXY(n,r),2),u=a[0],c=a[1];i.moveText(u,c)})),my(gy(e),"dblClickHandler",(function(){e.props.editable&&e.props.model.setElementState(so.TEXT_EDIT)})),my(gy(e),"mouseDownHandle",(function(t){var n=e.props,r=n.draggable,o=n.model,i=n.graphModel.editConfigModel.nodeTextDraggable;(r||i)&&(e.stepDrag.model=o,e.stepDrag.handleMouseDown(t))})),t.model;var n=t.draggable;return e.stepDrag=new Gc({onDragging:e.onDragging,step:1,isStopPropagation:n}),e}return e=i,(n=[{key:"getShape",value:function(){var t=this.props,e=t.model,n=t.graphModel,r=e.text,o=n.editConfigModel,i=r.value,a=r.x,u=r.y,c=r.editable,s=r.draggable,l={x:a,y:u,className:"",value:i};c?l.className="lf-element-text":s||o.nodeTextDraggable?l.className="lf-text-draggable":l.className="lf-text-disabled";var f=e.getTextStyle();return Object(tt.g)(cy,ly({},l,f,{model:e}))}},{key:"render",value:function(){if(this.props.model.text)return Object(tt.g)("g",{onMouseDown:this.mouseDownHandle,onDblClick:this.dblClickHandler},this.getShape())}}])&&dy(e.prototype,n),r&&dy(e,r),i}(tt.a),Oy=null!==window.navigator.userAgent.match(/MSIE|Trident/);function wy(t){return wy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wy(t)}function xy(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Ey(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ey(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ey(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Sy(t,e){return Sy=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Sy(t,e)}function Py(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ay(t);if(e){var o=Ay(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return My(this,n)}}function My(t,e){if(e&&("object"===wy(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ky(t)}function ky(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ay(t){return Ay=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ay(t)}function Ty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ny=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Sy(t,e)}(i,t);var e,n,r,o=Py(i);function i(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),Ty(ky(e=o.call(this)),"t",void 0),Ty(ky(e),"moveOffset",void 0),Ty(ky(e),"stepDrag",void 0),Ty(ky(e),"contextMenuTime",void 0),Ty(ky(e),"startTime",void 0),Ty(ky(e),"clickTimer",void 0),Ty(ky(e),"onDragStart",(function(t){var n=t.event,r=n.clientX,o=n.clientY,i=e.props,a=i.model,u=i.graphModel.getPointByClient({x:r,y:o}).canvasOverlayPosition,c=u.x,s=u.y;e.moveOffset={x:a.x-c,y:a.y-s}})),Ty(ky(e),"onDragging",(function(t){var n=t.event,r=e.props,o=r.model,i=r.graphModel,a=i.editConfigModel,u=a.stopMoveGraph,c=a.autoExpand,s=i.transformModel,l=i.selectNodes,f=i.width,p=i.height,d=i.gridSize;o.isDragging=!0;var h=n.clientX,y=n.clientY,v=i.getPointByClient({x:h,y:y}).canvasOverlayPosition,g=v.x,b=v.y,m=xy(s.CanvasPointToHtmlPoint([g,b]),2),_=m[0],O=m[1];if(g+=e.moveOffset.x,b+=e.moveOffset.y,g=Zi(g,d),b=Zi(b,d),f&&p){if(!c||u||!(_<0||O<0||_>f||O>p)){var w=xy(s.CanvasPointToHtmlPoint([g-o.width/2,b-o.height/2]),2),x=w[0],E=w[1],j=xy(s.CanvasPointToHtmlPoint([g+o.width/2,b+o.height/2]),2),S=j[0],P=j[1],M=Math.max(d,20),k=[];x<0?k=[M,0]:S>i.width?k=[-M,0]:E<0?k=[0,M]:P>i.height&&(k=[0,-M]),e.t&&Fh(e.t);var A=l.map((function(t){return t.id}));-1===A.indexOf(o.id)&&(A=[o.id]),k.length>0&&!u&&c?e.t=zh((function(){var t=xy(k,2),e=t[0],n=t[1];s.translate(e,n);var r=-e/s.SCALE_X,o=-n/s.SCALE_X;i.moveNodes(A,r,o)})):i.moveNodes(A,g-o.x,b-o.y)}}else i.moveNode2Coordinate(o.id,g,b)})),Ty(ky(e),"onDragEnd",(function(){e.t&&Fh(e.t),e.props.model.isDragging=!1})),Ty(ky(e),"handleClick",(function(t){if(e.startTime&&!((new Date).getTime()-e.startTime>200)){var n=e.props,r=n.model,o=n.graphModel,i={data:r.getData(),e:t,position:o.getPointByClient({x:t.clientX,y:t.clientY}),isSelected:!1,isMultiple:!1},a=2===t.button,u=2===t.detail;if(!a){var c=o.editConfigModel,s=Xi(t,c);i.isMultiple=s,r.isSelected&&!u&&s?(i.isSelected=!1,r.setSelected(!1)):(o.selectNodeById(r.id,s),i.isSelected=!0,e.toFront()),u?(c.nodeTextEdit&&r.text.editable&&(r.setSelected(!1),o.setElementStateById(r.id,so.TEXT_EDIT)),o.eventCenter.emit(ho.NODE_DBCLICK,i)):(o.eventCenter.emit(ho.ELEMENT_CLICK,i),o.eventCenter.emit(ho.NODE_CLICK,i))}}})),Ty(ky(e),"handleContextMenu",(function(t){t.preventDefault();var n=e.props,r=n.model,o=n.graphModel,i=r.getData(),a=o.getPointByClient({x:t.clientX,y:t.clientY});o.setElementStateById(r.id,so.SHOW_MENU,a.domOverlayPosition),r.isSelected||o.selectNodeById(r.id),o.eventCenter.emit(ho.NODE_CONTEXTMENU,{data:i,e:t,position:a}),e.toFront()})),Ty(ky(e),"handleMouseDown",(function(t){var n=e.props,r=n.model,o=n.graphModel;e.startTime=(new Date).getTime(),o.editConfigModel.adjustNodePosition&&r.draggable&&e.stepDrag&&e.stepDrag.handleMouseDown(t)})),Ty(ky(e),"setHoverON",(function(t){var n=e.props,r=n.model,o=n.graphModel;if(!r.isHovered){var i=r.getData();r.setHovered(!0),o.eventCenter.emit(ho.NODE_MOUSEENTER,{data:i,e:t})}})),Ty(ky(e),"setHoverOFF",(function(t){var n=e.props,r=n.model,o=n.graphModel,i=r.getData();r.isHovered&&(r.setHovered(!1),o.eventCenter.emit(ho.NODE_MOUSELEAVE,{data:i,e:t}))})),Ty(ky(e),"onMouseOut",(function(t){Oy&&e.setHoverOFF(t)}));var n=t.graphModel,r=n.gridSize,a=n.eventCenter,u=t.model;return e.stepDrag=new Gc({onDragStart:e.onDragStart,onDragging:e.onDragging,onDragEnd:e.onDragEnd,step:r,eventType:"NODE",isStopPropagation:!1,eventCenter:a,model:u}),e}return e=i,r=[{key:"getModel",value:function(t){return t}}],(n=[{key:"getAnchorShape",value:function(t){return null}},{key:"getAnchors",value:function(){var t=this,e=this.props,n=e.model,r=e.graphModel,o=n.isSelected,i=n.isHitable,a=n.isDragging,u=n.isShowAnchor;return i&&(o||u)&&!a?hr(n.anchors,(function(e,o){var i=n.getAnchorLineStyle(e),a=n.getAnchorStyle(e);return Object(tt.g)(ey,{anchorData:e,node:t,style:a,edgeStyle:i,anchorIndex:o,nodeModel:n,graphModel:r,setHoverOFF:t.setHoverOFF})})):[]}},{key:"getText",value:function(){var t=this.props,e=t.model,n=t.graphModel;if(e.state===so.TEXT_EDIT)return"";if(e.text){var r=n.editConfigModel,o=!1;return(e.text.draggable||r.nodeTextDraggable)&&(o=!0),Object(tt.g)(_y,{editable:r.nodeTextEdit&&e.text.editable,model:e,graphModel:n,draggable:o})}}},{key:"getStateClassName",value:function(){var t=this.props.model,e=t.state,n=t.isDragging,r=t.isSelected,o="lf-node";switch(e){case so.ALLOW_CONNECT:o+=" lf-node-allow";break;case so.NOT_ALLOW_CONNECT:o+=" lf-node-not-allow";break;default:o+=" lf-node-default"}return n&&(o+=" lf-isDragging"),r&&(o+=" lf-node-selected"),o}},{key:"toFront",value:function(){var t=this.props,e=t.model,n=t.graphModel;n.overlapMode!==vo.INCREASE&&e.autoToFront&&n.toFront(e.id)}},{key:"render",value:function(){var t,e=this.props,n=e.model,r=e.graphModel,o=r.editConfigModel,i=o.hideAnchors,a=o.adjustNodePosition,u=r.gridSize,c=r.transformModel.SCALE_X,s=n.isHitable,l=n.draggable,f=Object(tt.g)("g",{className:"lf-node-content"},this.getShape(),this.getText(),i?null:this.getAnchors());return s?(a&&l&&this.stepDrag.setStep(u*c),t=Object(tt.g)("g",{className:this.getStateClassName(),onMouseDown:this.handleMouseDown,onClick:this.handleClick,onMouseEnter:this.setHoverON,onMouseOver:this.setHoverON,onMouseLeave:this.setHoverOFF,onMouseOut:this.onMouseOut,onContextMenu:this.handleContextMenu},f)):t=Object(tt.g)("g",{className:this.getStateClassName()},f),t}}])&&jy(e.prototype,n),r&&jy(e,r),i}(tt.a);function Dy(t){return Dy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dy(t)}function Cy(){return Cy=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cy.apply(this,arguments)}function Iy(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ry(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ly(t,e){return Ly=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Ly(t,e)}function Zy(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=zy(t);if(e){var o=zy(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return By(this,n)}}function By(t,e){if(e&&("object"===Dy(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function zy(t){return zy=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},zy(t)}var Fy=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ly(t,e)}(i,t);var e,n,r,o=Zy(i);function i(){return Iy(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getShape",value:function(){var t=this.props.model,e=t.getNodeStyle();return Object(tt.g)(fl,Cy({},e,{x:t.x,y:t.y,width:t.width,height:t.height,radius:t.radius}))}}])&&Ry(e.prototype,n),r&&Ry(e,r),i}(Ny);function Hy(t){return Hy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hy(t)}function Gy(){return Gy=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gy.apply(this,arguments)}function Xy(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Uy(t,e){return Uy=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Uy(t,e)}function Yy(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ky(t);if(e){var o=Ky(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Vy(this,n)}}function Vy(t,e){if(e&&("object"===Hy(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Ky(t){return Ky=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ky(t)}var qy=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Uy(t,e)}(i,t);var e,n,r,o=Yy(i);function i(){return Xy(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getShape",value:function(){var t=this.props.model,e=t.x,n=t.y,r=t.r,o=t.getNodeStyle();return Object(tt.g)(Ml,Gy({},o,{x:e,y:n,r:r}))}}])&&Wy(e.prototype,n),r&&Wy(e,r),i}(Ny);function $y(t){return $y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$y(t)}function Jy(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Qy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qy(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qy(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tv(t){var e=t.points,n=t.className,r={fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1,points:""};return Object.entries(t).forEach((function(t){var e=Jy(t,2),n=e[0],o=e[1];"object"!==$y(o)&&(r[n]=o)})),r.className=n?"lf-basic-shape ".concat(n):"lf-basic-shape",r.points=e.map((function(t){return t.join(",")})).join(" "),Object(tt.g)("polygon",r)}function ev(t){return ev="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ev(t)}function nv(){return nv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nv.apply(this,arguments)}function rv(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ov(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function iv(t,e){return iv=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},iv(t,e)}function av(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=cv(t);if(e){var o=cv(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return uv(this,n)}}function uv(t,e){if(e&&("object"===ev(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function cv(t){return cv=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},cv(t)}var sv=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&iv(t,e)}(i,t);var e,n,r,o=av(i);function i(){return rv(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getShape",value:function(){var t=this.props.model,e=t.x,n=t.y,r=t.width,o=t.height,i=t.points,a=t.getNodeStyle(),u={transform:"matrix(1 0 0 1 ".concat(e-r/2," ").concat(n-o/2,")")};return Object(tt.g)("g",u,Object(tt.g)(tv,nv({},a,{points:i,x:e,y:n})))}}])&&ov(e.prototype,n),r&&ov(e,r),i}(Ny);function lv(t){return lv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lv(t)}function fv(){return fv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fv.apply(this,arguments)}function pv(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function hv(t,e){return hv=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},hv(t,e)}function yv(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gv(t);if(e){var o=gv(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return vv(this,n)}}function vv(t,e){if(e&&("object"===lv(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function gv(t){return gv=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},gv(t)}var bv=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&hv(t,e)}(i,t);var e,n,r,o=yv(i);function i(){return pv(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getShape",value:function(){var t=this.props.model,e=t.getNodeStyle();return Object(tt.g)("g",null,Object(tt.g)(tv,fv({},e,{points:t.points,x:t.x,y:t.y})))}}])&&dv(e.prototype,n),r&&dv(e,r),i}(Ny);function mv(t){return mv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mv(t)}function _v(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Ov(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ov(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ov(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wv(t){var e=t.x,n=void 0===e?0:e,r=t.y,o=void 0===r?0:r,i=t.rx,a=void 0===i?4:i,u=t.ry,c=void 0===u?4:u,s=t.className,l={cx:n,cy:o,rx:a,ry:c,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(t).forEach((function(t){var e=_v(t,2),n=e[0],r=e[1];"object"!==mv(r)&&(l[n]=r)})),l.className=s?"lf-basic-shape ".concat(s):"lf-basic-shape",Object(tt.g)("ellipse",l)}function xv(t){return xv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xv(t)}function Ev(){return Ev=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ev.apply(this,arguments)}function jv(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Pv(t,e){return Pv=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Pv(t,e)}function Mv(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Av(t);if(e){var o=Av(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return kv(this,n)}}function kv(t,e){if(e&&("object"===xv(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Av(t){return Av=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Av(t)}var Tv=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Pv(t,e)}(i,t);var e,n,r,o=Mv(i);function i(){return jv(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getShape",value:function(){var t=this.props.model,e=t.getNodeStyle();return Object(tt.g)(wv,Ev({},e,{x:t.x,y:t.y,rx:t.rx,ry:t.ry}))}}])&&Sv(e.prototype,n),r&&Sv(e,r),i}(Ny);function Nv(t){return Nv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nv(t)}function Dv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Cv(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Dv(Object(n),!0).forEach((function(e){Iv(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dv(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Iv(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rv(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Zv(t,e){return Zv=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Zv(t,e)}function Bv(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Fv(t);if(e){var o=Fv(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return zv(this,n)}}function zv(t,e){if(e&&("object"===Nv(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Fv(t){return Fv=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Fv(t)}var Hv=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Zv(t,e)}(i,t);var e,n,r,o=Bv(i);function i(){return Rv(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getBackground",value:function(){var t=this.props.model,e=t.getTextStyle(),n=t.width,r=t.height,o=t.x,i=t.y,a=Cv(Cv({},e.background),{},{x:o,y:i-1,width:n,height:r});return Object(tt.g)(fl,a)}},{key:"getShape",value:function(){return Object(tt.g)("g",null,this.getBackground())}}])&&Lv(e.prototype,n),r&&Lv(e,r),i}(Ny);function Gv(t){return Gv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gv(t)}function Xv(){return Xv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xv.apply(this,arguments)}function Wv(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Uv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Yv(t,e){return Yv=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Yv(t,e)}function Vv(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=$v(t);if(e){var o=$v(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Kv(this,n)}}function Kv(t,e){if(e&&("object"===Gv(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return qv(t)}function qv(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $v(t){return $v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},$v(t)}function Jv(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Qv=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Yv(t,e)}(i,t);var e,n,r,o=Vv(i);function i(){var t;Wv(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Jv(qv(t=o.call.apply(o,[this].concat(n))),"ref",void 0),Jv(qv(t),"currentProperties",void 0),Jv(qv(t),"preProperties",void 0),Jv(qv(t),"setRef",(function(e){t.ref=e})),t}return e=i,(n=[{key:"rootEl",get:function(){return this.ref}},{key:"setHtml",value:function(t){t.appendChild(document.createElement("div"))}},{key:"shouldUpdate",value:function(){if(!this.preProperties||this.preProperties!==this.currentProperties)return this.preProperties=this.currentProperties,!0}},{key:"componentDidMount",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"componentDidUpdate",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"getShape",value:function(){var t=this.props.model,e=t.x,n=t.y,r=t.height,o=t.width,i=t.getNodeStyle();return this.currentProperties=JSON.stringify(t.properties),Object(tt.g)("foreignObject",Xv({},i,{x:e-o/2,y:n-r/2,width:o,height:r,ref:this.setRef}))}}])&&Uv(e.prototype,n),r&&Uv(e,r),i}(Ny);function tg(t){return tg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tg(t)}function eg(){return eg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eg.apply(this,arguments)}function ng(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function rg(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ng(Object(n),!0).forEach((function(e){lg(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ng(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function og(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ig(t,e){return ig=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},ig(t,e)}function ag(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=sg(t);if(e){var o=sg(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ug(this,n)}}function ug(t,e){if(e&&("object"===tg(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return cg(t)}function cg(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sg(t){return sg=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},sg(t)}function lg(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var fg,pg=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ig(t,e)}(i,t);var e,n,r,o=ag(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),lg(cg(e=o.call(this,t)),"setHoverON",(function(){e.setState({isHovered:!0})})),lg(cg(e),"setHoverOFF",(function(){e.setState({isHovered:!1})})),e.state={isHovered:!1},e}return e=i,(n=[{key:"getBackground",value:function(){var t=this.props.model,e=t.getTextStyle(),n=t.text,r=t.width,o=e.background||{};if(this.state.isHovered&&e.hover&&e.hover.background&&(o=rg(rg({},o),e.hover.background)),n&&n.value&&"transparent"!==o.fill){var i,a=e.fontSize,u=e.overflowMode,c=e.lineHeight,s=e.wrapPadding,l=e.textWidth,f=n.value,p=n.x,d=n.y,h=String(f).split(/[\r\n]/g),y=h.length;if("autoWrap"===u&&l){var v=za({rows:h,style:{fontSize:"".concat(a,"px"),width:"".concat(l,"px"),lineHeight:c,padding:s},rowsLength:y,className:"lf-get-text-height"});i=rg(rg({},o),{},{x:p-1,y:d-1,width:l,height:v})}else{var g=0;h&&h.forEach((function(t){var e=gc(t);g=e>g?e:g}));var b=Fa({rows:h,fontSize:a,rowsLength:y}),m=b.width,_=b.height;if("ellipsis"===u&&(m=l||r,_=a+2),"string"==typeof o.wrapPadding){var O=o.wrapPadding.split(",").filter((function(t){return t.trim()})).map((function(t){return parseFloat(t.trim())}));O.length>0&&O.length<=4&&(1===O.length?O=[O[0],O[0],O[0],O[0]]:2===O.length?O=[O[0],O[1],O[0],O[1]]:3===O.length&&(O=[O[0],O[1],O[2],O[1]]),m+=O[1]+O[3],_+=O[0]+O[2],p+=(O[1]-O[3])/2,d+=(O[2]-O[0])/2)}i=rg(rg({},o),{},{x:p-1,y:d-1,width:m,height:_})}return Object(tt.g)(fl,i)}}},{key:"getShape",value:function(){var t=this.props.model,e=t.text,n=e.value,r=e.x,o=e.y;if(n){var i=rg({x:r,y:o,className:"lf-element-text",value:n},t.getTextStyle());return Object(tt.g)("g",{className:"lf-line-text",onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getBackground(),Object(tt.g)(cy,eg({},i,{model:t})))}}}])&&og(e.prototype,n),r&&og(e,r),i}(_y);function dg(t){return dg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dg(t)}function hg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function yg(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?hg(Object(n),!0).forEach((function(e){Eg(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hg(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function vg(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return gg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gg(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gg(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function mg(t,e){return mg=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},mg(t,e)}function _g(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=xg(t);if(e){var o=xg(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Og(this,n)}}function Og(t,e){if(e&&("object"===dg(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return wg(t)}function wg(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xg(t){return xg=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},xg(t)}function Eg(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}!function(t){t.SOURCE="SOURCE",t.TARGET="TARGET"}(fg||(fg={}));var jg=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&mg(t,e)}(i,t);var e,n,r,o=_g(i);function i(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),Eg(wg(e=o.call(this)),"stepDragData",void 0),Eg(wg(e),"stepDrag",void 0),Eg(wg(e),"oldEdge",void 0),Eg(wg(e),"preTargetNode",void 0),Eg(wg(e),"targetRuleResults",void 0),Eg(wg(e),"sourceRuleResults",void 0),Eg(wg(e),"handleMouseDown",(function(t){e.stepDrag&&e.stepDrag.handleMouseDown(t)})),Eg(wg(e),"onDragStart",(function(){var t=e.props,n=t.x,r=t.y,o=t.edgeModel,i=o.startPoint,a=o.endPoint,u=o.pointsList;e.oldEdge={startPoint:i,endPoint:a,pointsList:u},e.setState({endX:n,endY:r,dragging:!0})})),Eg(wg(e),"onDragging",(function(t){var n=t.deltaX,r=t.deltaY,o=e.state,i=o.endX,a=o.endY,u=e.props,c=u.graphModel,s=u.type,l=c.transformModel,f=c.editConfigModel,p=vg(l.moveCanvasPointByHtml([i,a],n,r),2),d=p[0],h=p[1];e.setState({endX:d,endY:h,dragging:!0});var y=e.props.edgeModel,v=Ma({x:i,y:a},c);if(v&&v.node&&e.isAllowAdjust(v).pass){var g,b=y.startPoint,m=y.endPoint,_=y.sourceNode,O=y.targetNode;s===fg.SOURCE?g={startPoint:{x:v.anchor.x,y:v.anchor.y},endPoint:{x:m.x,y:m.y},sourceNode:v.node,targetNode:O}:s===fg.TARGET&&(g={startPoint:{x:b.x,y:b.y},endPoint:{x:v.anchor.x,y:v.anchor.y},sourceNode:_,targetNode:v.node}),y.updateAfterAdjustStartAndEnd(g)}else s===fg.SOURCE?y.updateStartPoint({x:d,y:h}):s===fg.TARGET&&y.updateEndPoint({x:d,y:h});y.text.value&&f.adjustEdge&&y.setText(Object.assign({},y.text,y.textPosition))})),Eg(wg(e),"onDragEnd",(function(t){var n=t.event;try{var r;e.setState({dragging:!1});var o=e.props,i=o.graphModel,a=o.edgeModel,u=o.type,c=e.state,s=c.endX,l=c.endY,f=c.dragging,p=Ma({x:s,y:l},i);if(!f)return;var d,h=!1;if(p&&p.node){var y=e.isAllowAdjust(p),v=y.pass,g=y.msg,b=y.newTargetNode;if(v){var m,_=a.getData();d=yg(yg({},_),{},{sourceAnchorId:"",targetAnchorId:"",text:(null==_||null===(m=_.text)||void 0===m?void 0:m.value)||""}),u===fg.SOURCE?(d=yg(yg({},i.edgeGenerator(i.getNodeModelById(p.node.id).getData(),i.getNodeModelById(a.targetNodeId).getData(),d)),{},{sourceNodeId:p.node.id,sourceAnchorId:p.anchor.id,startPoint:{x:p.anchor.x,y:p.anchor.y},targetNodeId:a.targetNodeId,endPoint:yg({},a.endPoint)}),a.sourceNodeId===p.node.id&&a.sourceAnchorId===p.anchor.id&&(h=!0)):u===fg.TARGET&&(d=yg(yg({},i.edgeGenerator(i.getNodeModelById(a.sourceNodeId).getData(),i.getNodeModelById(p.node.id).getData(),d)),{},{sourceNodeId:a.sourceNodeId,startPoint:yg({},a.startPoint),targetNodeId:p.node.id,targetAnchorId:p.anchor.id,endPoint:{x:p.anchor.x,y:p.anchor.y}}),a.targetNodeId===p.node.id&&a.targetAnchorId===p.anchor.id&&(h=!0))}else{h=!0;var O=b.getData();i.eventCenter.emit(ho.CONNECTION_NOT_ALLOWED,{data:O,msg:g})}}else h=!0;if(h)e.recoveryEdge();else{var w=a.getData();i.deleteEdgeById(a.id);var x=i.addEdge(yg({},d));i.eventCenter.emit(ho.EDGE_EXCHANGE_NODE,{data:{newEdge:x.getData(),oldEdge:w}})}null===(r=e.preTargetNode)||void 0===r||r.setElementState(so.DEFAULT)}finally{e.props.graphModel.eventCenter.emit(ho.ADJUST_POINT_DRAGEND,{e:n,data:e.stepDragData})}})),Eg(wg(e),"recoveryEdge",(function(){var t=e.props.edgeModel,n=e.oldEdge,r=n.startPoint,o=n.endPoint,i=n.pointsList;t.updateStartPoint(r),t.updateEndPoint(o),t.modelType!==fo.LINE_EDGE&&(t.pointsList=i,t.initPoints())})),Eg(wg(e),"getAdjustPointStyle",(function(){var t=e.props,n=t.graphModel.theme;return t.edgeModel,n.edgeAdjust})),e.state={dragging:!1,endX:0,endY:0},e.targetRuleResults=new Map,e.sourceRuleResults=new Map;var n=t.type,r=t.edgeModel,a=t.graphModel.eventCenter;return e.stepDragData={type:n,edgeData:r.getData()},e.stepDrag=new Gc({onDragStart:e.onDragStart,onDragging:e.onDragging,onDragEnd:e.onDragEnd,eventType:"ADJUST_POINT",isStopPropagation:!1,eventCenter:a,data:e.stepDragData}),e}return e=i,(n=[{key:"isAllowAdjust",value:function(t){var e=this.props,n=e.edgeModel,r=n.id,o=n.sourceNode,i=n.targetNode,a=n.sourceAnchorId,u=n.targetAnchorId,c=e.type,s=null,l=null,f=null,p=null;if(c===fg.SOURCE?(s=t.node,l=i,f=t.anchor,p=i.getAnchorInfo(u)):(s=o,l=t.node,p=t.anchor,f=o.getAnchorInfo(a)),this.preTargetNode&&this.preTargetNode!==t.node&&this.preTargetNode.setElementState(so.DEFAULT),this.preTargetNode=t.node,p.id===f.id)return{pass:!1,msg:"",newTargetNode:l};var d="".concat(s.id,"_").concat(l.id,"_").concat(f.id,"_").concat(p.id);if(!this.targetRuleResults.has(d)){var h=s.isAllowConnectedAsSource(l,f,p,r),y=l.isAllowConnectedAsTarget(s,f,p,r);this.sourceRuleResults.set(d,Ha(h)),this.targetRuleResults.set(d,Ha(y))}var v=this.sourceRuleResults.get(d),g=v.isAllPass,b=v.msg,m=this.targetRuleResults.get(d),_=m.isAllPass,O=m.msg,w=g&&_?so.ALLOW_CONNECT:so.NOT_ALLOW_CONNECT;return c===fg.SOURCE?s.setElementState(w):l.setElementState(w),{pass:g&&_,msg:O||b,newTargetNode:l}}},{key:"render",value:function(){var t=this.props,e=t.x,n=t.y,r=t.getAdjustPointShape,o=t.edgeModel,i=this.state.dragging;return Object(tt.g)("g",{pointerEvents:i?"none":"",onMouseDown:this.handleMouseDown},i?"":r(e,n,o))}}])&&bg(e.prototype,n),r&&bg(e,r),i}(tt.a);function Sg(t){return Sg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sg(t)}function Pg(){return Pg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pg.apply(this,arguments)}function Mg(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return kg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kg(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kg(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ag(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ng(t,e){return Ng=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Ng(t,e)}function Dg(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Rg(t);if(e){var o=Rg(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Cg(this,n)}}function Cg(t,e){if(e&&("object"===Sg(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Ig(t)}function Ig(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Rg(t){return Rg=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Rg(t)}function Lg(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Zg=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ng(t,e)}(i,t);var e,n,r,o=Dg(i);function i(){var t;Ag(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Lg(Ig(t=o.call.apply(o,[this].concat(n))),"startTime",void 0),Lg(Ig(t),"contextMenuTime",void 0),Lg(Ig(t),"clickTimer",void 0),Lg(Ig(t),"textRef",Object(tt.f)()),Lg(Ig(t),"handleHover",(function(e,n){var r=t.props,o=r.model,i=r.graphModel.eventCenter;o.setHovered(e);var a=e?ho.EDGE_MOUSEENTER:ho.EDGE_MOUSELEAVE,u=o.getData();i.emit(a,{data:u,e:n})})),Lg(Ig(t),"setHoverON",(function(e){t.props.model.isHovered||(t.textRef&&t.textRef.current&&t.textRef.current.setHoverON(),t.handleHover(!0,e))})),Lg(Ig(t),"setHoverOFF",(function(e){t.props.model.isHovered&&(t.textRef&&t.textRef.current&&t.textRef.current.setHoverOFF(),t.handleHover(!1,e))})),Lg(Ig(t),"handleContextMenu",(function(e){e.preventDefault(),t.contextMenuTime=(new Date).getTime(),t.clickTimer&&clearTimeout(t.clickTimer);var n=t.props,r=n.model,o=n.graphModel,i=o.getPointByClient({x:e.clientX,y:e.clientY});o.setElementStateById(r.id,so.SHOW_MENU,i.domOverlayPosition),t.toFront(),r.isSelected||o.selectEdgeById(r.id);var a=null==r?void 0:r.getData();o.eventCenter.emit(ho.EDGE_CONTEXTMENU,{data:a,e:e,position:i})})),Lg(Ig(t),"handleMouseDown",(function(e){e.stopPropagation(),t.startTime=(new Date).getTime()})),Lg(Ig(t),"handleMouseUp",(function(e){if(t.startTime&&!((new Date).getTime()-t.startTime>200||2===e.button)){var n=2===e.detail,r=t.props,o=r.model,i=r.graphModel,a=null==o?void 0:o.getData(),u=i.getPointByClient({x:e.clientX,y:e.clientY});if(n){var c=i.editConfigModel,s=i.textEditElement;if(s&&s.id===o.id&&i.setElementStateById(o.id,so.DEFAULT),c.edgeTextEdit&&o.text.editable&&i.setElementStateById(o.id,so.TEXT_EDIT),o.modelType===fo.POLYLINE_EDGE){var l=o,f=i.getPointByClient({x:e.x,y:e.y}).canvasOverlayPosition,p=f.x,d=f.y,h=wc({x:p,y:d},l.points);l.dbClickPosition=h}i.eventCenter.emit(ho.EDGE_DBCLICK,{data:a,e:e,position:u})}else i.eventCenter.emit(ho.ELEMENT_CLICK,{data:a,e:e,position:u}),i.eventCenter.emit(ho.EDGE_CLICK,{data:a,e:e,position:u});var y=i.editConfigModel;i.selectEdgeById(o.id,Xi(e,y)),t.toFront()}})),t}return e=i,(n=[{key:"getShape",value:function(){return Object(tt.g)("g",null,this.getEdge())}},{key:"getTextStyle",value:function(){}},{key:"getText",value:function(){var t=this.props,e=t.model,n=t.graphModel;if(e.state===so.TEXT_EDIT)return null;var r=!1,o=n.editConfigModel;return(e.text.draggable||o.edgeTextDraggable)&&(r=!0),Object(tt.g)(pg,{ref:this.textRef,editable:o.edgeTextEdit&&e.text.editable,model:e,graphModel:n,draggable:r})}},{key:"getArrowInfo",value:function(){var t=this.props.model,e=t.startPoint,n=t.endPoint,r=t.isSelected;return{start:e,end:n,hover:this.state.hover,isSelected:r}}},{key:"getLastTwoPoints",value:function(){var t=this.props.model;return[t.startPoint,t.endPoint]}},{key:"getArrowStyle",value:function(){return null}},{key:"getArrow",value:function(){var t=this.props.model,e=t.id,n=t.getArrowStyle(),r=n.refY,o=void 0===r?0:r,i=n.refX,a=void 0===i?2:i,u=Mg(this.getLastTwoPoints(),2),c=u[0],s=u[1],l="auto";return null!==c&&null!==s&&(l=Zu({x:s.x-c.x,y:s.y-c.y,z:0})*(180/Math.PI)),Object(tt.g)("g",null,Object(tt.g)("defs",null,Object(tt.g)("marker",{id:"marker-start-".concat(e),refX:-a,refY:o,overflow:"visible",orient:"auto",markerUnits:"userSpaceOnUse"},this.getStartArrow()),Object(tt.g)("marker",{id:"marker-end-".concat(e),refX:a,refY:o,overflow:"visible",orient:l,markerUnits:"userSpaceOnUse"},this.getEndArrow())))}},{key:"getStartArrow",value:function(){var t=this.props.model.getArrowStyle();return t.stroke,t.strokeWidth,t.offset,t.verticalLength,Object(tt.g)("path",null)}},{key:"getEndArrow",value:function(){var t=this.props.model.getArrowStyle(),e=t.stroke,n=t.strokeWidth,r=t.offset,o=t.verticalLength;return Object(tt.g)("path",{stroke:e,fill:e,strokeWidth:n,transform:"rotate(180)",d:"M 0 0 L ".concat(r," -").concat(o," L ").concat(r," ").concat(o," Z")})}},{key:"getAdjustPointShape",value:function(t,e,n){var r=n.getAdjustPointStyle();return Object(tt.g)(Ml,Pg({className:"lf-edge-adjust-point"},r,{x:t,y:e}))}},{key:"getAdjustPoints",value:function(){var t=this.props,e=t.model,n=t.graphModel,r=e.getAdjustStart(),o=e.getAdjustEnd();return Object(tt.g)("g",null,Object(tt.g)(jg,Pg({type:"SOURCE"},r,{getAdjustPointShape:this.getAdjustPointShape,edgeModel:e,graphModel:n})),Object(tt.g)(jg,Pg({type:"TARGET"},o,{getAdjustPointShape:this.getAdjustPointShape,edgeModel:e,graphModel:n})))}},{key:"getAnimation",value:function(){}},{key:"getAppendWidth",value:function(){return Object(tt.g)("g",null)}},{key:"getAppend",value:function(){return Object(tt.g)("g",{className:"lf-edge-append"},this.getAppendWidth())}},{key:"getEdge",value:function(){return null}},{key:"toFront",value:function(){var t=this.props,e=t.graphModel,n=t.model;e.overlapMode!==vo.INCREASE&&e.toFront(n.id)}},{key:"render",value:function(){var t=this.props,e=t.model,n=e.isSelected,r=e.isHitable,o=e.isShowAdjustPoint;return t.graphModel.animation,Object(tt.g)("g",null,Object(tt.g)("g",{className:["lf-edge",!r&&"pointer-none",n&&"lf-edge-selected"].filter(Boolean).join(" "),onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onContextMenu:this.handleContextMenu,onMouseOver:this.setHoverON,onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getShape(),this.getAppend(),this.getText(),this.getArrow()),o&&n?this.getAdjustPoints():"")}}])&&Tg(e.prototype,n),r&&Tg(e,r),i}(tt.a);function Bg(t){return Bg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bg(t)}function zg(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Fg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fg(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fg(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Hg=function(t){var e={d:""};return Object.entries(t).forEach((function(t){var n=zg(t,2),r=n[0],o=n[1],i=Bg(o);"style"!==r&&"object"===i||(e[r]=o)})),Object(tt.g)("path",e)};function Gg(t){return Gg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gg(t)}function Xg(){return Xg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xg.apply(this,arguments)}function Wg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ug(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Yg(t,e){return Yg=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Yg(t,e)}function Vg(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=qg(t);if(e){var o=qg(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Kg(this,n)}}function Kg(t,e){if(e&&("object"===Gg(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function qg(t){return qg=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},qg(t)}var $g=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Yg(t,e)}(i,t);var e,n,r,o=Vg(i);function i(){return Wg(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getEdge",value:function(){var t=this.props.model,e=t.startPoint,n=t.endPoint,r=t.isAnimation,o=t.arrowConfig,i=t.getEdgeStyle(),a=t.getEdgeAnimationStyle(),u=a.strokeDasharray,c=a.stroke,s=a.strokeDashoffset,l=a.animationName,f=a.animationDuration,p=a.animationIterationCount,d=a.animationTimingFunction,h=a.animationDirection;return Object(tt.g)(Ks,Xg({},i,{x1:e.x,y1:e.y,x2:n.x,y2:n.y},o,r?{strokeDasharray:u,stroke:c,style:{strokeDashoffset:s,animationName:l,animationDuration:f,animationIterationCount:p,animationTimingFunction:d,animationDirection:h}}:{}))}},{key:"getAppendWidth",value:function(){var t=this.props.model,e=function(t){var e,n=t.start,r=t.end;if(n.x===r.x&&n.y===r.y)e="";else{var o={start:n,end:r,offset:10,verticalLength:5},i=Iu(zu(zu({},o),{},{type:"start"})),a=Iu(zu(zu({},o),{},{type:"end"}));e="M".concat(i.leftX," ").concat(i.leftY," \n    L").concat(i.rightX," ").concat(i.rightY," \n    L").concat(a.rightX," ").concat(a.rightY,"\n    L").concat(a.leftX," ").concat(a.leftY," z")}return{d:e,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}({start:t.startPoint,end:t.endPoint}),n=e.d,r=e.strokeWidth,o=e.fill,i=e.strokeDasharray,a=e.stroke;return Object(tt.g)(Hg,{d:n,fill:o,strokeWidth:r,stroke:a,strokeDasharray:i})}}])&&Ug(e.prototype,n),r&&Ug(e,r),i}(Zg);function Jg(t){return Jg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jg(t)}function Qg(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return tb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tb(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tb(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var eb=function(t){var e={points:"",fill:"none"};return Object.entries(t).forEach((function(t){var n=Qg(t,2),r=n[0],o=n[1];("style"===r||"object"!==Jg(o))&&(e[r]=o)})),Object(tt.g)("polyline",e)};function nb(t){return nb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nb(t)}function rb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ob(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?rb(Object(n),!0).forEach((function(e){hb(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rb(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ib(){return ib=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ib.apply(this,arguments)}function ab(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return ub(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ub(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ub(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function sb(t,e){return sb=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},sb(t,e)}function lb(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=db(t);if(e){var o=db(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return fb(this,n)}}function fb(t,e){if(e&&("object"===nb(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return pb(t)}function pb(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function db(t){return db=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},db(t)}function hb(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var yb=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&sb(t,e)}(i,t);var e,n,r,o=lb(i);function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),hb(pb(t=o.call(this)),"drag",void 0),hb(pb(t),"isDragging",void 0),hb(pb(t),"isShowAdjustPointTemp",void 0),hb(pb(t),"appendInfo",void 0),hb(pb(t),"onDragStart",(function(){var e=t.props.model;e.dragAppendStart(),t.isShowAdjustPointTemp=e.isShowAdjustPoint,e.isShowAdjustPoint=!1})),hb(pb(t),"onDragging",(function(e){var n=e.deltaX,r=e.deltaY,o=t.props,i=o.model,a=o.graphModel;t.isDragging=!0;var u=a.transformModel,c=a.editConfigModel,s=ab(u.fixDeltaXY(n,r),2),l=s[0],f=s[1],p=i,d=c.adjustEdgeMiddle;t.appendInfo=d?p.dragAppendSimple(t.appendInfo,{x:l,y:f}):p.dragAppend(t.appendInfo,{x:l,y:f})})),hb(pb(t),"onDragEnd",(function(){var e=t.props,n=e.model,r=e.graphModel.eventCenter,o=n;o.dragAppendEnd(),t.isDragging=!1,o.isShowAdjustPoint=t.isShowAdjustPointTemp,t.appendInfo=void 0,r.emit(ho.EDGE_ADJUST,{data:o.getData()})})),hb(pb(t),"beforeDragStart",(function(e,n){n.dragAble&&t.drag.handleMouseDown(e),t.appendInfo=n})),t.drag=new Gc({onDragStart:t.onDragStart,onDragging:t.onDragging,onDragEnd:t.onDragEnd,isStopPropagation:!1}),t}return e=i,(n=[{key:"getEdge",value:function(){var t=this.props.model,e=t.points,n=t.isAnimation,r=t.arrowConfig,o=t.getEdgeStyle(),i=t.getEdgeAnimationStyle(),a=i.strokeDasharray,u=i.stroke,c=i.strokeDashoffset,s=i.animationName,l=i.animationDuration,f=i.animationIterationCount,p=i.animationTimingFunction,d=i.animationDirection;return Object(tt.g)(eb,ib({points:e},o,r,n?{strokeDasharray:a,stroke:u,style:{strokeDashoffset:c,animationName:s,animationDuration:l,animationIterationCount:f,animationTimingFunction:p,animationDirection:d}}:{}))}},{key:"getArrowInfo",value:function(){var t=this.props.model,e=t.points,n=t.isSelected,r={start:null,end:null,hover:this.state.hover,isSelected:n},o=hc(e);return o.length>=2&&(r.start=o[o.length-2],r.end=o[o.length-1]),r}},{key:"getLastTwoPoints",value:function(){var t=this.props.model.points,e=hc(t);return e.length>=2?[e[e.length-2],e[e.length-1]]:[null,null]}},{key:"getAppendAttributes",value:function(t){var e,n=t.start,r=t.end;if(n.x===r.x&&n.y===r.y)e="";else{var o={start:n,end:r,offset:10,verticalLength:5},i=Iu(ob(ob({},o),{},{type:"start"})),a=Iu(ob(ob({},o),{},{type:"end"}));e="M".concat(i.leftX," ").concat(i.leftY," \n      L").concat(i.rightX," ").concat(i.rightY," \n      L").concat(a.rightX," ").concat(a.rightY,"\n      L").concat(a.leftX," ").concat(a.leftY," z")}return{d:e,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}},{key:"getAppendShape",value:function(t){var e=this.getAppendAttributes(t),n=e.d,r=e.strokeWidth,o=e.fill,i=e.strokeDasharray,a=e.stroke;return Object(tt.g)(Hg,{d:n,fill:o,strokeWidth:r,stroke:a,strokeDasharray:i})}},{key:"getAppendWidth",value:function(){for(var t=this,e=this.props,n=e.model,r=e.graphModel,o=n.pointsList,i=n.draggable,a=[],u=o.length,c=function(e){var n="lf-polyline-append",c={start:{x:o[e].x,y:o[e].y},end:{x:o[e+1].x,y:o[e+1].y},startIndex:e,endIndex:e+1,direction:"",dragAble:!0},s=Object(tt.g)("g",{className:n},t.getAppendShape(c)),l=r.editConfigModel,f=l.adjustEdge,p=l.adjustEdgeMiddle;if(f&&i){var d=c.startIndex,h=c.endIndex,y=p&&(0===d||h===u-1);c.dragAble=!y,c.start.x===c.end.x?(c.dragAble&&(n+="-ew-resize"),c.direction=yo.VERTICAL):c.start.y===c.end.y&&(c.dragAble&&(n+="-ns-resize"),c.direction=yo.HORIZONTAL),s=Object(tt.g)("g",{className:t.isDragging?"lf-dragging":"lf-drag-able",onMouseDown:function(e){return t.beforeDragStart(e,c)}},Object(tt.g)("g",{className:n},t.getAppendShape(c)))}a.push(s)},s=0;s<u-1;s++)c(s);return Object(tt.g)("g",null,a)}}])&&cb(e.prototype,n),r&&cb(e,r),i}(Zg);function vb(t){return vb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vb(t)}function gb(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return bb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bb(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bb(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mb(){return mb=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mb.apply(this,arguments)}function _b(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ob(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function wb(t,e){return wb=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},wb(t,e)}function xb(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=jb(t);if(e){var o=jb(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Eb(this,n)}}function Eb(t,e){if(e&&("object"===vb(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function jb(t){return jb=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},jb(t)}var Sb=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wb(t,e)}(i,t);var e,n,r,o=xb(i);function i(){return _b(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getEdge",value:function(){var t=this.props.model,e=t.getEdgeStyle(),n=t.path,r=t.isAnimation,o=t.arrowConfig,i=t.getEdgeAnimationStyle(),a=i.strokeDasharray,u=i.stroke,c=i.strokeDashoffset,s=i.animationName,l=i.animationDuration,f=i.animationIterationCount,p=i.animationTimingFunction,d=i.animationDirection;return Object(tt.g)(Hg,mb({d:n},e,o,r?{strokeDasharray:a,stroke:u,style:{strokeDashoffset:c,animationName:s,animationDuration:l,animationIterationCount:f,animationTimingFunction:p,animationDirection:d}}:{}))}},{key:"getAppendWidth",value:function(){var t=this.props.model.path;return Object(tt.g)(Hg,{d:t,strokeWidth:10,stroke:"transparent",fill:"none"})}},{key:"getArrowInfo",value:function(){var t=this.props.model,e=this.state.hover,n=t.isSelected,r=t.getArrowStyle().offset,o=t.pointsList.map((function(t){return{x:t.x,y:t.y}})),i=gb(Oc(o,r),2);return{start:i[0],end:i[1],hover:e,isSelected:n}}},{key:"getLastTwoPoints",value:function(){var t=this.props.model,e=t.getArrowStyle().offset,n=t.pointsList.map((function(t){return{x:t.x,y:t.y}}));return Oc(n,e)}}])&&Ob(e.prototype,n),r&&Ob(e,r),i}(Zg);function Pb(t){return Pb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pb(t)}function Mb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function kb(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ab(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Nb(t,e){return Nb=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Nb(t,e)}function Db(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ib(t);if(e){var o=Ib(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Cb(this,n)}}function Cb(t,e){if(e&&("object"===Pb(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Ib(t){return Ib=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ib(t)}var Rb=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Nb(t,e)}(i,t);var e,n,r,o=Db(i);function i(){return Ab(this,i),o.apply(this,arguments)}return e=i,n=[{key:"getArrowAttributes",value:function(){var t=this.props,e=t.arrowInfo,n=t.style,r=e.start,o=e.end,i={start:r,end:o,offset:n.offset,verticalLength:n.verticalLength,type:"end"},a=Iu(i),u=a.leftX,c=a.leftY,s=a.rightX,l=a.rightY;return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Mb(Object(n),!0).forEach((function(e){kb(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mb(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({d:"M".concat(u," ").concat(c," L").concat(o.x," ").concat(o.y," L").concat(s," ").concat(l," z")},n)}},{key:"getShape",value:function(){var t=this.getArrowAttributes(),e=t.d,n=t.strokeWidth,r=t.stroke,o=t.fill;return Object(tt.g)(Hg,{d:e,fill:o,strokeWidth:n,stroke:r})}},{key:"render",value:function(){return Object(tt.g)("g",{className:"lf-arrow"},this.getShape())}}],n&&Tb(e.prototype,n),r&&Tb(e,r),i}(tt.a),Lb=function(t,e){return Dn(t,e)},Zb=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0},Bb=function(){return gt.a.Date.now()},zb=/\s/,Fb=function(t){for(var e=t.length;e--&&zb.test(t.charAt(e)););return e},Hb=/^\s+/,Gb=function(t){return t?t.slice(0,Fb(t)+1).replace(Hb,""):t},Xb=/^[-+]0x[0-9a-f]+$/i,Wb=/^0b[01]+$/i,Ub=/^0o[0-7]+$/i,Yb=parseInt,Vb=function(t){if("number"==typeof t)return t;if(Bn(t))return NaN;if(Mt(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Mt(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=Gb(t);var n=Wb.test(t);return n||Ub.test(t)?Yb(t.slice(2),n?2:8):Xb.test(t)?NaN:+t},Kb=Math.max,qb=Math.min,$b=function(t,e,n){var r,o,i,a,u,c,s=0,l=!1,f=!1,p=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function d(e){var n=r,i=o;return r=o=void 0,s=e,a=t.apply(i,n)}function h(t){return s=t,u=setTimeout(v,e),l?d(t):a}function y(t){var n=t-c;return void 0===c||n>=e||n<0||f&&t-s>=i}function v(){var t=Bb();if(y(t))return g(t);u=setTimeout(v,function(t){var n=e-(t-c);return f?qb(n,i-(t-s)):n}(t))}function g(t){return u=void 0,p&&r?d(t):(r=o=void 0,a)}function b(){var t=Bb(),n=y(t);if(r=arguments,o=this,c=t,n){if(void 0===u)return h(c);if(f)return clearTimeout(u),u=setTimeout(v,e),d(c)}return void 0===u&&(u=setTimeout(v,e)),a}return e=Vb(e)||0,Mt(n)&&(l=!!n.leading,i=(f="maxWait"in n)?Kb(Vb(n.maxWait)||0,e):i,p="trailing"in n?!!n.trailing:p),b.cancel=function(){void 0!==u&&clearTimeout(u),s=0,r=c=o=u=void 0},b.flush=function(){return void 0===u?a:g(Bb())},b},Jb=n(167);function Qb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function tm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var em,nm,rm,om=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),tm(this,"undos",[]),tm(this,"redos",[]),tm(this,"callbacks",[]),tm(this,"stopWatch",null),tm(this,"curData",null),tm(this,"maxSize",50),tm(this,"waitTime",100),tm(this,"eventCenter",void 0),this.eventCenter=e}var e,n,r;return e=t,(n=[{key:"add",value:function(t){Lb(Zb(this.undos),t)||(this.undos.push(t),Lb(this.curData,t)||(this.redos=[]),this.eventCenter.emit(ho.HISTORY_CHANGE,{data:{undos:this.undos,redos:this.redos,undoAble:this.undos.length>1,redoAble:this.redos.length>0}}),this.undos.length>this.maxSize&&this.undos.shift())}},{key:"undoAble",value:function(){return this.undos.length>1}},{key:"undo",value:function(){if(this.undoAble()){var t=this.undos.pop();this.redos.push(t);var e=this.undos.pop();return this.curData=_i(e),e}}},{key:"redoAble",value:function(){return this.redos.length>0}},{key:"redo",value:function(){if(this.redoAble()){var t=this.redos.pop();return this.curData=_i(t),t}}},{key:"watch",value:function(t){var e=this;this.stopWatch&&this.stopWatch(),this.undos.push(t.modelToGraphData()),this.stopWatch=Object(Jb.a)(t,$b((function(){var n=t.modelToHistoryData();n&&e.add(n)}),this.waitTime))}}])&&Qb(e.prototype,n),r&&Qb(e,r),t}();function im(t){return im="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},im(t)}function am(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return um(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?um(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function um(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function sm(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?cm(Object(n),!0).forEach((function(e){vm(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cm(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function lm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fm(t,e){return fm=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},fm(t,e)}function pm(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ym(t);if(e){var o=ym(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return dm(this,n)}}function dm(t,e){if(e&&("object"===im(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return hm(t)}function hm(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ym(t){return ym=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ym(t)}function vm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var gm,bm,mm,_m=t_((rm=nm=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fm(t,e)}(i,t);var e,n,r,o=pm(i);function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),vm(hm(t=o.call(this)),"ref",Object(tt.f)()),vm(hm(t),"__prevText",{type:"",text:"",id:""}),vm(hm(t),"keyupHandler",(function(e){var n=t.props.graphModel.textEditElement;"Enter"===e.key&&e.altKey&&n.setElementState(0)})),vm(hm(t),"inputHandler",(function(e){var n=e.target.innerText,r=t.props.graphModel.textEditElement;t.__prevText={type:r.type,text:n.replace(/(\r\n)+$|(\n)+$/,""),id:r.id}})),vm(hm(t),"keydownHandler",(function(t){t.stopPropagation()})),t.state={style:{left:0,top:0}},t}return e=i,r=[{key:"getDerivedStateFromProps",value:function(t){var e,n=t.graphModel,r=n.transformModel,o=n.theme,i=n.textEditElement;if(i){var a;if((null===(a=i.text)||void 0===a||!a.value)&&i.BaseType===po.EDGE){var u=i.text,c=i.textPosition,s=c.x,l=c.y;u.x=s,u.y=l,i.setText(u)}var f={resize:"auto",whiteSpace:"normal",wordBreak:"break-all"};if(i.BaseType===po.EDGE){var p=o.edgeText,d=p.overflowMode,h=p.lineHeight,y=p.wrapPadding,v=p.textWidth;v&&"autoWrap"===d&&(e=sm(sm({},f),{},{width:v,minWidth:v,lineHeight:h,padding:y}))}else if(i.BaseType===po.NODE){var g=o.nodeText,b=g.overflowMode,m=g.lineHeight,_=g.wrapPadding,O=g.textWidth,w=i,x=w.width,E=w.modelType;(E!==fo.TEXT_NODE&&"autoWrap"===b||E===fo.TEXT_NODE&&O)&&(e=sm(sm({},f),{},{width:O||x,minWidth:O||x,lineHeight:m,padding:_}))}var j=i.text,S=j.x,P=j.y,M=am(r.CanvasPointToHtmlPoint([S,P]),2);return{style:sm({left:M[0],top:M[1]},e)}}}}],(n=[{key:"componentDidUpdate",value:function(){var t=this.props.graphModel;if(this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current)),""!==this.__prevText.id){var e=this.__prevText,n=e.text,r=e.id;t.updateText(r,n),t.eventCenter.emit(ho.TEXT_UPDATE,sm({},this.__prevText)),this.__prevText.id="",this.__prevText.text="",this.__prevText.type=""}}},{key:"placeCaretAtEnd",value:function(t){if(void 0!==window.getSelection&&void 0!==document.createRange){var e=document.createRange();e.selectNodeContents(t),e.collapse(!1);var n=window.getSelection();n.removeAllRanges(),n.addRange(e)}}},{key:"render",value:function(){var t,e=this.props.graphModel.textEditElement,n=this.state.style;return e?Object(tt.g)("div",{contentEditable:!0,className:"lf-text-input",style:n,ref:this.ref,key:e.id,onKeyUp:this.keyupHandler,onKeyDown:this.keydownHandler,onKeyPress:this.keydownHandler,onInput:this.inputHandler},null===(t=e.text)||void 0===t?void 0:t.value):null}}])&&lm(e.prototype,n),r&&lm(e,r),i}(tt.a),vm(nm,"toolName","textEdit"),em=rm))||em,Om=function(t){return t.modelType===fo.LINE_EDGE?function(t){var e=t.startPoint,n=t.endPoint,r=(e.x+n.x)/2,o=(e.y+n.y)/2,i=Math.abs(e.x-n.x)+10,a=Math.abs(e.y-n.y)+10;return{x:r-i/2,y:o-a/2,x1:r+i/2,y1:o+a/2}}(t):t.modelType===fo.POLYLINE_EDGE?function(t){var e=t.points,n=hc(e),r=$u(n,8),o=r.x,i=r.y,a=r.width,u=r.height;return{x:o-a/2,y:i-u/2,x1:o+a/2,y1:i+u/2}}(t):t.modelType===fo.BEZIER_EDGE?function(t){var e=t.path,n=mc(e),r=$u(n,8),o=r.x,i=r.y,a=r.width,u=r.height;return{x:o-a/2,y:i-u/2,x1:o+a/2,y1:i+u/2}}(t):void 0};function wm(t){return wm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wm(t)}function xm(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||jm(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Em(t){return function(t){if(Array.isArray(t))return Sm(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||jm(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jm(t,e){if(t){if("string"==typeof t)return Sm(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Sm(t,e):void 0}}function Sm(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Pm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Mm(t,e){return Mm=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Mm(t,e)}function km(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Nm(t);if(e){var o=Nm(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Am(this,n)}}function Am(t,e){if(e&&("object"===wm(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Tm(t)}function Tm(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Nm(t){return Nm=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Nm(t)}function Dm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Cm=t_((mm=bm=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Mm(t,e)}(i,t);var e,n,r,o=km(i);function i(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),Dm(Tm(e=o.call(this)),"stepDrag",void 0),Dm(Tm(e),"handleMouseDown",(function(t){e.stepDrag.handleMouseDown(t)})),Dm(Tm(e),"onDragging",(function(t){var n=t.deltaX,r=t.deltaY,o=e.props.graphModel,i=o.getSelectElements(!0);o.moveNodes(i.nodes.map((function(t){return t.id})),n,r)})),Dm(Tm(e),"handleContextMenu",(function(t){t.preventDefault();var n=e.props,r=n.graphModel,o=n.graphModel,i=o.eventCenter,a=o.selectElements,u=r.getPointByClient({x:t.clientX,y:t.clientY}),c={nodes:[],edges:[]};Em(a.values()).forEach((function(t){t.BaseType===po.NODE&&c.nodes.push(t.getData()),t.BaseType===po.EDGE&&c.edges.push(t.getData())})),i.emit(ho.SELECTION_CONTEXTMENU,{data:c,e:t,position:u})}));var n=t.graphModel,r=n.gridSize,a=n.eventCenter;return e.stepDrag=new Gc({onDragging:e.onDragging,step:r,eventType:"SELECTION",eventCenter:a}),e}return e=i,(n=[{key:"render",value:function(){var t=this.props.graphModel,e=t.selectElements,n=t.transformModel;if(!(e.size<=1)){var r=Number.MAX_SAFE_INTEGER,o=Number.MAX_SAFE_INTEGER,i=Number.MIN_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;e.forEach((function(t){var e={x:0,y:0,x1:0,y1:0};t.BaseType===po.NODE&&(e=function(t){var e=t.x,n=t.y,r=t.width,o=t.height;return{x:e-r/2,y:n-o/2,x1:e+r/2,y1:n+o/2}}(t)),t.BaseType===po.EDGE&&(e=Om(t)),r=Math.min(r,e.x),o=Math.min(o,e.y),i=Math.max(i,e.x1),a=Math.max(a,e.y1)}));var u=xm(n.CanvasPointToHtmlPoint([r,o]),2);r=u[0],o=u[1];var c=xm(n.CanvasPointToHtmlPoint([i,a]),2);i=c[0],a=c[1];var s={left:"".concat(r-10,"px"),top:"".concat(o-10,"px"),width:"".concat(i-r+20,"px"),height:"".concat(a-o+20,"px")};return Object(tt.g)("div",{className:"lf-multiple-select",style:s,onMouseDown:this.handleMouseDown,onContextMenu:this.handleContextMenu})}}}])&&Pm(e.prototype,n),r&&Pm(e,r),i}(tt.a),Dm(bm,"toolName","multipleSelect"),gm=mm))||gm;function Im(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Rm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Lm=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Rm(this,"tools",void 0),Rm(this,"components",void 0),Rm(this,"toolMap",new Map),Rm(this,"instance",void 0),this.instance=e,this.isDisabledTool(_m.toolName)||this.registerTool(_m.toolName,_m),this.isDisabledTool(Cm.toolName)||this.registerTool(Cm.toolName,Cm);var n=e.graphModel;n.eventCenter.on("".concat(ho.GRAPH_TRANSFORM,",").concat(ho.NODE_CLICK,",").concat(ho.BLANK_CLICK," "),(function(){var t=n.textEditElement,e=n.editConfigModel,r=e.edgeTextEdit,o=e.nodeTextEdit;(r||o)&&t&&n.textEditElement.setElementState(so.DEFAULT)}))}var e,n,r;return e=t,(n=[{key:"isDisabledTool",value:function(t){return-1!==this.instance.options.disabledTools.indexOf(t)}},{key:"registerTool",value:function(t,e){this.toolMap.set(t,e)}},{key:"getTools",value:function(){return Array.from(this.toolMap.values())}},{key:"getInstance",value:function(){return this.instance}}])&&Im(e.prototype,n),r&&Im(e,r),t}(),Zm=n(168),Bm=n.n(Zm);function zm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Fm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Hm=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Fm(this,"mousetrap",void 0),Fm(this,"options",void 0),Fm(this,"target",void 0),e.keyboard||(e.keyboard={enabled:!1}),this.options=e;var n=e.lf;this.target=n.container,this.mousetrap=new Bm.a(this.target),e.keyboard.enabled&&this.enable(!0)}var e,n,r;return e=t,(n=[{key:"initShortcuts",value:function(){var t=this,e=this.options.keyboard.shortcuts;if(e)if(Pe(e))e.forEach((function(e){var n=e.keys,r=e.callback,o=e.action;return t.on(n,r,o)}));else{var n=e.keys,r=e.callback,o=e.action;this.on(n,r,o)}}},{key:"on",value:function(t,e,n){this.mousetrap.bind(this.getKeys(t),e,n)}},{key:"disabled",get:function(){return!0!==this.options.keyboard.enabled}},{key:"off",value:function(t,e){this.mousetrap.unbind(this.getKeys(t),e)}},{key:"enable",value:function(t){(this.disabled||t)&&(this.options.keyboard.enabled=!0,this.target instanceof HTMLElement&&(this.target.setAttribute("tabindex","-1"),this.target.style.outline="none"))}},{key:"disable",value:function(){this.disabled||(this.options.keyboard.enabled=!1,this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))}},{key:"getKeys",value:function(t){var e=this;return(Array.isArray(t)?t:[t]).map((function(t){return e.formatKey(t)}))}},{key:"formatKey",value:function(t){return t.toLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command")}}])&&zm(e.prototype,n),r&&zm(e,r),t}(),Gm=Hm,Xm=null;function Wm(t,e){return t.x+=e,t.y+=e,t.text&&(t.text.x+=e,t.text.y+=e),t}function Um(t,e){return t.startPoint&&(t.startPoint.x+=e,t.startPoint.y+=e),t.endPoint&&(t.endPoint.x+=e,t.endPoint.y+=e),t.pointsList&&t.pointsList.length>0&&t.pointsList.forEach((function(t){t.x+=e,t.y+=e})),t.text&&(t.text.x+=e,t.text.y+=e),t}function Ym(t){return Ym="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ym(t)}function Vm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Km(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Vm(Object(n),!0).forEach((function(e){$m(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vm(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function qm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $m(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Jm=Symbol("plugin register by Logicflow.use"),Qm=function(){function t(e){var n,r,o=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),$m(this,"container",void 0),$m(this,"width",void 0),$m(this,"height",void 0),$m(this,"graphModel",void 0),$m(this,"history",void 0),$m(this,"viewMap",new Map),$m(this,"tool",void 0),$m(this,"keyboard",void 0),$m(this,"dnd",void 0),$m(this,"options",void 0),$m(this,"snaplineModel",void 0),$m(this,"components",[]),$m(this,"plugins",void 0),$m(this,"extension",{}),$m(this,"adapterIn",void 0),$m(this,"adapterOut",void 0),$m(this,"getView",(function(t){return o.viewMap.get(t)})),e=gf(e),this.options=e,this.container=this.initContainer(e.container),this.plugins=e.plugins,this.graphModel=new as(Km({},e)),this.tool=new Lm(this),this.history=new om(this.graphModel.eventCenter),this.dnd=new vf({lf:this}),this.keyboard=new Gm({lf:this,keyboard:e.keyboard}),!1!==e.snapline&&(this.snaplineModel=new Zh(this.graphModel),n=this.graphModel.eventCenter,r=this.snaplineModel,n.on("node:mousemove",(function(t){var e=t.data;r.setNodeSnapLine(e)})),n.on("node:mouseup",(function(){r.clearSnapline()}))),function(t,e){var n=t.keyboard,r=n.options.keyboard;n.on(["cmd + c","ctrl + c"],(function(){if(!r.enabled)return!0;if(e.textEditElement)return!0;var n=t.options.guards,o=e.getSelectElements(!1);return n&&n.beforeClone&&!n.beforeClone(o)||0===o.nodes.length&&0===o.edges.length?(Xm=null,!0):((Xm=o).nodes.forEach((function(t){return Wm(t,40)})),Xm.edges.forEach((function(t){return Um(t,40)})),!1)})),n.on(["cmd + v","ctrl + v"],(function(){if(!r.enabled)return!0;if(e.textEditElement)return!0;if(Xm&&(Xm.nodes||Xm.edges)){t.clearSelectElements();var n=t.addElements(Xm);if(!n)return!0;n.nodes.forEach((function(e){return t.selectElementById(e.id,!0)})),n.edges.forEach((function(e){return t.selectElementById(e.id,!0)})),Xm.nodes.forEach((function(t){return Wm(t,40)})),Xm.edges.forEach((function(t){return Um(t,40)}))}return!1})),n.on(["cmd + z","ctrl + z"],(function(){return!r.enabled||!!e.textEditElement||(t.undo(),!1)})),n.on(["cmd + y","ctrl + y"],(function(){return!r.enabled||!!e.textEditElement||(t.redo(),!1)})),n.on(["backspace"],(function(){if(!r.enabled)return!0;if(e.textEditElement)return!0;var n=e.getSelectElements(!0);return t.clearSelectElements(),n.edges.forEach((function(e){return t.deleteEdge(e.id)})),n.nodes.forEach((function(e){return t.deleteNode(e.id)})),!1}))}(this,this.graphModel),this.keyboard.initShortcuts(),this.defaultRegister(),this.installPlugins(e.disabledPlugins)}var e,n,r;return e=t,n=[{key:"register",value:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if("string"==typeof t){var r={BaseEdge:Zg,BaseEdgeModel:Qa,BaseNode:Ny,BaseNodeModel:gp,RectNode:Fy,RectNodeModel:rh,CircleNode:qy,CircleNodeModel:Rp,PolygonNode:sv,PolygonNodeModel:Fd,TextNode:Hv,TextNodeModel:bh,LineEdge:$g,LineEdgeModel:vu,DiamondNode:bv,DiamondNodeModel:rd,PolylineEdge:yb,PolylineEdgeModel:Cu,BezierEdge:Sb,BezierEdgeModel:op,EllipseNode:Tv,EllipseNodeModel:Od,HtmlNode:Qv,HtmlNodeModel:Nh,h:tt.g,type:t};this.viewMap.forEach((function(t){var e=t.extendKey;e&&(r[e]=t)})),this.graphModel.modelMap.forEach((function(t){var e=t.extendKey;e&&(r[e]=t)}));var o=e(r),i=o.view,a=o.model,u=i;n&&!u.isObervered&&(u.isObervered=!0,u=Q(u)),this.setView(t,u),this.graphModel.setModel(t,a)}else this.registerElement(t)}},{key:"registerElement",value:function(t){var e=t.view;!1===t.isObserverView||e.isObervered||(e.isObervered=!0,e=Q(e)),this.setView(t.type,e),this.graphModel.setModel(t.type,t.model)}},{key:"batchRegister",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.forEach((function(e){t.registerElement(e)}))}},{key:"defaultRegister",value:function(){this.registerElement({view:Fy,model:rh,type:"rect"}),this.registerElement({type:"circle",view:qy,model:Rp}),this.registerElement({type:"polygon",view:sv,model:Fd}),this.registerElement({type:"line",view:$g,model:vu}),this.registerElement({type:"polyline",view:yb,model:Cu}),this.registerElement({type:"bezier",view:Sb,model:op}),this.registerElement({type:"text",view:Hv,model:bh}),this.registerElement({type:"ellipse",view:Tv,model:Od}),this.registerElement({type:"diamond",view:bv,model:rd}),this.registerElement({type:"html",view:Qv,model:Nh})}},{key:"selectElementById",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.graphModel.selectElementById(t,e),!e&&n&&this.graphModel.toFront(t)}},{key:"focusOn",value:function(t){var e=this.graphModel.transformModel,n=t.coordinate,r=t.id;if(!n){var o=this.getNodeModelById(r);o&&(n=o.getData());var i=this.getEdgeModelById(r);i&&(n=i.textPosition)}var a=n,u=a.x,c=a.y;e.focusOn(u,c,this.graphModel.width,this.graphModel.height)}},{key:"setTheme",value:function(t){this.graphModel.setTheme(t)}},{key:"resize",value:function(t,e){this.graphModel.resize(t,e),this.options.width=this.graphModel.width,this.options.height=this.graphModel.height}},{key:"setDefaultEdgeType",value:function(t){this.graphModel.setDefaultEdgeType(t)}},{key:"updateText",value:function(t,e){this.graphModel.updateText(t,e)}},{key:"deleteElement",value:function(t){var e,n,r,o=this.getModelById(t);return!!o&&null!==(n=null===(r=($m(e={},po.NODE,this.deleteNode),$m(e,po.EDGE,this.deleteEdge),e)[o.BaseType])||void 0===r?void 0:r.call(this,t))&&void 0!==n&&n}},{key:"getModelById",value:function(t){return this.graphModel.getElement(t)}},{key:"getDataById",value:function(t){var e;return null===(e=this.graphModel.getElement(t))||void 0===e?void 0:e.getData()}},{key:"changeNodeType",value:function(t,e){this.graphModel.changeNodeType(t,e)}},{key:"changeEdgeType",value:function(t,e){this.graphModel.changeEdgeType(t,e)}},{key:"getNodeEdges",value:function(t){return this.graphModel.getNodeEdges(t)}},{key:"addNode",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ho.NODE_ADD,n=arguments.length>2?arguments[2]:void 0;return this.graphModel.addNode(t,e,n)}},{key:"deleteNode",value:function(t){var e=this.graphModel.getNodeModelById(t);if(!e)return!1;var n=e.getData(),r=this.options.guards,o=!r||!r.beforeDelete||r.beforeDelete(n);return o&&this.graphModel.deleteNode(t),o}},{key:"cloneNode",value:function(t){var e=this.graphModel.getNodeModelById(t).getData(),n=this.options.guards;if(!n||!n.beforeClone||n.beforeClone(e))return this.graphModel.cloneNode(t)}},{key:"changeNodeId",value:function(t,e){return this.graphModel.changeNodeId(t,e)}},{key:"getNodeModelById",value:function(t){return this.graphModel.getNodeModelById(t)}},{key:"getNodeDataById",value:function(t){var e;return null===(e=this.graphModel.getNodeModelById(t))||void 0===e?void 0:e.getData()}},{key:"addEdge",value:function(t){return this.graphModel.addEdge(t)}},{key:"deleteEdge",value:function(t){var e=this.options.guards,n=this.graphModel.edgesMap[t];if(!n)return!1;var r=n.model.getData(),o=!e||!e.beforeDelete||e.beforeDelete(r);return o&&this.graphModel.deleteEdgeById(t),o}},{key:"deleteEdgeByNodeId",value:function(t){var e=t.sourceNodeId,n=t.targetNodeId;e&&n?this.graphModel.deleteEdgeBySourceAndTarget(e,n):e?this.graphModel.deleteEdgeBySource(e):n&&this.graphModel.deleteEdgeByTarget(n)}},{key:"changeEdgeId",value:function(t,e){return this.graphModel.changeEdgeId(t,e)}},{key:"getEdgeModelById",value:function(t){var e;return null===(e=this.graphModel.edgesMap[t])||void 0===e?void 0:e.model}},{key:"getEdgeModels",value:function(t){var e=this.graphModel.edges,n=t.sourceNodeId,r=t.targetNodeId;if(n&&r){var o=[];return e.forEach((function(t){t.sourceNodeId===n&&t.targetNodeId===r&&o.push(t)})),o}if(n){var i=[];return e.forEach((function(t){t.sourceNodeId===n&&i.push(t)})),i}if(r){var a=[];return e.forEach((function(t){t.targetNodeId===r&&a.push(t)})),a}return[]}},{key:"getEdgeDataById",value:function(t){var e;return null===(e=this.getEdgeModelById(t))||void 0===e?void 0:e.getData()}},{key:"getNodeIncomingEdge",value:function(t){return this.graphModel.getNodeIncomingEdge(t)}},{key:"getNodeOutgoingEdge",value:function(t){return this.graphModel.getNodeOutgoingEdge(t)}},{key:"getNodeIncomingNode",value:function(t){return this.graphModel.getNodeIncomingNode(t)}},{key:"getNodeOutgoingNode",value:function(t){return this.graphModel.getNodeOutgoingNode(t)}},{key:"editText",value:function(t){this.graphModel.editText(t)}},{key:"setProperties",value:function(t,e){var n;null===(n=this.graphModel.getElement(t))||void 0===n||n.setProperties(Ga(e))}},{key:"deleteProperty",value:function(t,e){var n;null===(n=this.graphModel.getElement(t))||void 0===n||n.deleteProperty(e)}},{key:"getProperties",value:function(t){var e;return null===(e=this.graphModel.getElement(t))||void 0===e?void 0:e.getProperties()}},{key:"toFront",value:function(t){this.graphModel.toFront(t)}},{key:"setElementZIndex",value:function(t,e){return this.graphModel.setElementZIndex(t,e)}},{key:"addElements",value:function(t){for(var e=this,n=t.nodes,r=t.edges,o={},i={nodes:[],edges:[]},a=0;a<n.length;a++){var u=n[a],c=u.id,s=this.addNode(u);if(!s)return;c&&(o[c]=s.id),i.nodes.push(s)}return r.forEach((function(t){var n=t.sourceNodeId,r=t.targetNodeId;o[n]&&(n=o[n]),o[r]&&(r=o[r]);var a=e.graphModel.addEdge(Km(Km({},t),{},{sourceNodeId:n,targetNodeId:r}));i.edges.push(a)})),i}},{key:"getAreaElement",value:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return this.graphModel.getAreaElement(t,e,n,r,o).map((function(t){return t.getData()}))}},{key:"getSelectElements",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.graphModel.getSelectElements(t)}},{key:"clearSelectElements",value:function(){this.graphModel.clearSelectElements()}},{key:"getGraphData",value:function(){var t=this.graphModel.modelToGraphData();if(this.adapterOut){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.adapterOut.apply(this,[t].concat(n))}return t}},{key:"getGraphRawData",value:function(){return this.graphModel.modelToGraphData()}},{key:"clearData",value:function(){this.graphModel.clearData()}},{key:"updateEditConfig",value:function(t){this.graphModel.editConfigModel.updateEditConfig(t)}},{key:"getEditConfig",value:function(){return this.graphModel.editConfigModel.getConfig()}},{key:"getPointByClient",value:function(t,e){return this.graphModel.getPointByClient({x:t,y:e})}},{key:"undo",value:function(){if(this.history.undoAble()){var t=Ga(this.history.undo());this.clearSelectElements(),this.graphModel.graphDataToModel(t)}}},{key:"redo",value:function(){if(this.history.redoAble()){var t=Ga(this.history.redo());this.clearSelectElements(),this.graphModel.graphDataToModel(t)}}},{key:"zoom",value:function(t,e){return this.graphModel.transformModel.zoom(t,e)}},{key:"resetZoom",value:function(){this.graphModel.transformModel.resetZoom()}},{key:"setZoomMiniSize",value:function(t){this.graphModel.transformModel.setZoomMiniSize(t)}},{key:"setZoomMaxSize",value:function(t){this.graphModel.transformModel.setZoomMaxSize(t)}},{key:"getTransform",value:function(){var t=this.graphModel.transformModel;return{SCALE_X:t.SCALE_X,SCALE_Y:t.SCALE_Y,TRANSLATE_X:t.TRANSLATE_X,TRANSLATE_Y:t.TRANSLATE_Y}}},{key:"translate",value:function(t,e){this.graphModel.transformModel.translate(t,e)}},{key:"resetTranslate",value:function(){var t=this.graphModel.transformModel,e=t.TRANSLATE_X,n=t.TRANSLATE_Y;this.translate(-e,-n)}},{key:"translateCenter",value:function(){this.graphModel.translateCenter()}},{key:"fitView",value:function(t,e){void 0===e&&(e=t),this.graphModel.fitView(t,e)}},{key:"openEdgeAnimation",value:function(t){this.graphModel.openEdgeAnimation(t)}},{key:"closeEdgeAnimation",value:function(t){this.graphModel.closeEdgeAnimation(t)}},{key:"on",value:function(t,e){this.graphModel.eventCenter.on(t,e)}},{key:"off",value:function(t,e){this.graphModel.eventCenter.off(t,e)}},{key:"once",value:function(t,e){this.graphModel.eventCenter.once(t,e)}},{key:"emit",value:function(t,e){this.graphModel.eventCenter.emit(t,e)}},{key:"initContainer",value:function(t){var e=document.createElement("div");return e.style.position="relative",e.style.width="100%",e.style.height="100%",t.innerHTML="",t.appendChild(e),e}},{key:"installPlugins",value:function(){var e,n=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=null!==(e=this.plugins)&&void 0!==e?e:t.extensions;o.forEach((function(t){var e=null,o=null;t[Jm]?(e=t.extension,o=t.props):e=t;var i=e.pluginName||e.name;-1===r.indexOf(i)&&n.installPlugin(e,o)}))}},{key:"installPlugin",value:function(e,n){if("object"===Ym(e)){var r=e.install,o=e.render;return r&&r.call(e,this,t),o&&this.components.push(o.bind(e)),void(this.extension[e.pluginName]=e)}var i=e,a=new i({lf:this,LogicFlow:t,options:this.options.pluginsOptions,props:n});a.render&&this.components.push(a.render.bind(a)),this.extension[i.pluginName]=a}},{key:"updateAttributes",value:function(t,e){this.graphModel.updateAttributes(t,e)}},{key:"createFakerNode",value:function(t){var e=this.graphModel.modelMap.get(t.type);if(e){var n=new e(Km(Km({},t),{},{virtual:!0}),this.graphModel);return this.graphModel.setFakerNode(n),n}}},{key:"removeFakerNode",value:function(){this.graphModel.removeFakerNode()}},{key:"setNodeSnapLine",value:function(t){this.snaplineModel&&this.snaplineModel.setNodeSnapLine(t)}},{key:"removeNodeSnapLine",value:function(){this.snaplineModel&&this.snaplineModel.clearSnapline()}},{key:"setView",value:function(t,e){this.viewMap.set(t,e)}},{key:"renderRawData",value:function(t){this.graphModel.graphDataToModel(Ga(t)),!1!==this.options.history&&this.history.watch(this.graphModel),Object(tt.j)(Object(tt.g)(ff,{getView:this.getView,tool:this.tool,options:this.options,dnd:this.dnd,snaplineModel:this.snaplineModel,graphModel:this.graphModel}),this.container),this.emit(ho.GRAPH_RENDERED,this.graphModel.modelToGraphData())}},{key:"render",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.adapterIn&&(t=this.adapterIn(t)),this.renderRawData(t)}}],r=[{key:"use",value:function(t,e){var n,r,o=t.pluginName;o||(o=t.name);var i=null===(n=this.extensions.get(o))||void 0===n?void 0:n.extension;i&&i.destroy&&i.destroy(),this.extensions.set(o,($m(r={},Jm,Jm),$m(r,"extension",t),$m(r,"props",e),r))}}],n&&qm(e.prototype,n),r&&qm(e,r),t}();function t_(t){return Q(t)}$m(Qm,"extensions",new Map),e.default=Qm}])}))},97959:function(t,e,n){"use strict";n.d(e,{v2:function(){return LP},aC:function(){return iP}});var r=n(59782),o=function(){function t(){globalThis._ids=this,this._ids=new Set}return t.prototype.generateId=function(){var t="xxxxxxx".replace(/[x]/g,(function(t){var e=16*Math.random()|0,n="x"===t?e:3&e|8;return n.toString(16)}));return t},t.prototype.next=function(){var t=this.generateId();while(this._ids.has(t))t=this.generateId();return this._ids.add(t),t},t}(),i=(null===globalThis||void 0===globalThis?void 0:globalThis._ids)||new o;function a(){return i.next()}var u=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),c=function(t){function e(e,n){var r=this;return e.id||(e.id="Event_"+a()),e.text||(e.text=""),e.text&&"string"===typeof e.text&&(e.text={value:e.text,x:e.x,y:e.y+40}),r=t.call(this,e,n)||this,r}return u(e,t),e.prototype.setAttributes=function(){this.r=18},e.prototype.getConnectedTargetRules=function(){var e=t.prototype.getConnectedTargetRules.call(this),n={message:"起始节点不能作为边的终点",validate:function(){return!1}};return e.push(n),e},e.extendKey="StartEventModel",e}(r.CircleNodeModel),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return u(e,t),e.extendKey="StartEventNode",e}(r.CircleNode),l={type:"bpmn:startEvent",view:s,model:c},f=l,p=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),d=function(){return d=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},d.apply(this,arguments)},h=function(t){function e(e,n){var r=this;return e.id||(e.id="Event_"+a()),e.text||(e.text=""),e.text&&"string"===typeof e.text&&(e.text={value:e.text,x:e.x,y:e.y+40}),r=t.call(this,e,n)||this,r}return p(e,t),e.prototype.setAttributes=function(){this.r=18},e.prototype.getConnectedSourceRules=function(){var e=t.prototype.getConnectedSourceRules.call(this),n={message:"结束节点不能作为边的起点",validate:function(){return!1}};return e.push(n),e},e.extendKey="EndEventModel",e}(r.CircleNodeModel),y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),e.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},e.prototype.getShape=function(){var e=this.props.model,n=e.getNodeStyle(),o=e.x,i=e.y,a=e.r,u=t.prototype.getShape.call(this);return(0,r.h)("g",{},u,(0,r.h)("circle",d(d({},n),{cx:o,cy:i,r:a-5})))},e.extendKey="EndEventView",e}(r.CircleNode),v={type:"bpmn:endEvent",view:y,model:h},g=v,b=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),m=function(){return m=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},m.apply(this,arguments)},_=function(t){function e(e,n){var r=this;return e.id||(e.id="Gateway_"+a()),e.text||(e.text=""),e.text&&"string"===typeof e.text&&(e.text={value:e.text,x:e.x,y:e.y+40}),r=t.call(this,e,n)||this,r.points=[[25,0],[50,25],[25,50],[0,25]],r}return b(e,t),e.extendKey="ExclusiveGatewayModel",e}(r.PolygonNodeModel),O=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return b(e,t),e.prototype.getShape=function(){var t=this.props.model,e=t.x,n=t.y,o=t.width,i=t.height,a=t.points,u=t.getNodeStyle();return(0,r.h)("g",{transform:"matrix(1 0 0 1 "+(e-o/2)+" "+(n-i/2)+")"},(0,r.h)("polygon",m(m({},u),{x:e,y:n,points:a})),(0,r.h)("path",m({d:"m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z"},u)))},e.extendKey="ExclusiveGatewayNode",e}(r.PolygonNode),w={type:"bpmn:exclusiveGateway",view:O,model:_},x=w,E=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),j=function(){return j=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},j.apply(this,arguments)},S=function(t){function e(e,n){var r=this;return e.id||(e.id="Activity_"+a()),r=t.call(this,e,n)||this,r}return E(e,t),e.extendKey="UserTaskModel",e}(r.RectNodeModel),P=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return E(e,t),e.prototype.getLabelShape=function(){var t=this.props.model,e=t.x,n=t.y,o=t.width,i=t.height,a=t.getNodeStyle();return(0,r.h)("svg",{x:e-o/2+5,y:n-i/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},(0,r.h)("path",{fill:a.stroke,d:"M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z"}))},e.prototype.getShape=function(){var t=this.props.model,e=t.x,n=t.y,o=t.width,i=t.height,a=t.radius,u=t.getNodeStyle();return(0,r.h)("g",{},[(0,r.h)("rect",j(j({},u),{x:e-o/2,y:n-i/2,rx:a,ry:a,width:o,height:i})),this.getLabelShape()])},e.extendKey="UserTaskNode",e}(r.RectNode),M={type:"bpmn:userTask",view:P,model:S},k=M,A=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),T=function(){return T=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},T.apply(this,arguments)},N=function(t){function e(e,n){var r=this;return e.id||(e.id="Activity_"+a()),r=t.call(this,e,n)||this,r}return A(e,t),e.extendKey="ServiceTaskModel",e}(r.RectNodeModel),D=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return A(e,t),e.prototype.getLabelShape=function(){var t=this.props.model,e=t.x,n=t.y,o=t.width,i=t.height,a=t.getNodeStyle();return(0,r.h)("svg",{x:e-o/2+5,y:n-i/2+5,width:30,height:30,viewBox:"0 0 1274 1024"},(0,r.h)("path",{fill:a.stroke,d:"M882.527918 434.149934c-2.234901-5.303796-7.311523-8.853645-13.059434-9.138124l-61.390185-3.009544c-6.635117-20.973684-15.521508-41.175795-26.513864-60.282968l42.051745-47.743374c4.308119-4.889357 4.955872-12.004405 1.602498-17.59268-46.384423-77.30362-103.969956-101.422947-106.400309-102.410438-5.332449-2.170432-11.432377-1.090844-15.693424 2.77009L654.674467 240.664222c-17.004279-8.654101-35.092239-15.756869-53.995775-21.210068l-3.26537-66.490344c-0.280386-5.747911-3.833305-10.824533-9.134031-13.059434-1.683339-0.709151-30.193673-12.391215-76.866668-12.051477-46.672996-0.339738-75.18333 11.342326-76.866668 12.051477-5.300726 2.234901-8.853645 7.311523-9.134031 13.059434l-3.26537 66.490344c-18.903535 5.453199-36.991496 12.555967-53.995775 21.210068l-48.450479-43.922349c-4.261047-3.860934-10.360975-4.940522-15.693424-2.77009-2.430352 0.98749-60.015885 25.106818-106.400309 102.410438-3.353374 5.588275-2.705622 12.703323 1.602498 17.59268l42.051745 47.743374c-10.992355 19.107173-19.878746 39.309284-26.513864 60.282968l-61.390185 3.009544c-5.747911 0.284479-10.824533 3.834328-13.059434 9.138124-1.01512 2.415003-24.687262 60.190871-2.822278 147.651828 1.583055 6.324032 7.072069 10.893094 13.57518 11.308557 5.892197 0.37146 11.751648 0.523933 17.419741 0.667196 14.498202 0.372483 28.193109 0.723477 40.908712 4.63353 4.212952 1.294482 6.435573 8.270361 9.349949 18.763342 1.287319 4.640694 2.617617 9.43693 4.484128 14.010085 1.794879 4.393054 3.75758 8.570189 5.66093 12.607132 1.302669 2.765997 2.529613 5.380544 3.689019 8.018627 2.986007 6.803963 2.682086 9.773598 2.578732 10.349719-3.061732 3.672646-6.391571 7.238868-9.91379 11.015891-1.810229 1.943258-3.680832 3.949962-5.523807 5.980201l-22.560832 24.8909c-3.865028 4.261047-4.940522 10.365068-2.774183 15.693424 0.991584 2.426259 25.102724 60.011792 102.414531 106.400309 5.588275 3.353374 12.703323 2.701528 17.591657-1.603521l23.476691-20.682042c2.346441-2.061962 4.64888-4.336772 6.875594-6.534833 9.05319-8.93858 14.018272-12.95608 17.73185-11.576663 3.305279 1.222851 6.907317 3.166109 10.720156 5.228071 3.325745 1.794879 6.764054 3.650133 10.465352 5.288446 6.016017 2.662643 12.120039 4.688789 18.019399 6.65149 6.827499 2.266623 13.279445 4.409426 18.819624 7.275707 1.518586 0.782829 1.926886 0.994654 2.358721 7.830339 0.726547 11.496845 1.25048 23.276123 1.753947 34.672684 0.264013 5.900384 0.528026 11.803837 0.815575 17.700127 0.284479 5.743818 3.833305 10.82044 9.138124 13.05534 1.654686 0.698918 29.371958 12.063757 74.869175 12.063757 0.328481 0 3.65832 0 3.986801 0 45.497217 0 73.214489-11.364839 74.869175-12.063757 5.304819-2.234901 8.853645-7.311523 9.138124-13.05534 0.287549-5.89629 0.551562-11.799744 0.815575-17.700127 0.503467-11.396561 1.027399-23.175839 1.753947-34.672684 0.431835-6.835685 0.840134-7.04751 2.358721-7.830339 5.54018-2.866281 11.992125-5.009084 18.819624-7.275707 5.89936-1.962701 12.003382-3.988848 18.019399-6.65149 3.701299-1.638313 7.139607-3.493567 10.465352-5.288446 3.812839-2.061962 7.414877-4.00522 10.720156-5.228071 3.713578-1.379417 8.67866 2.638083 17.73185 11.576663 2.226714 2.198062 4.529153 4.472871 6.875594 6.534833l23.476691 20.682042c4.888334 4.305049 12.003382 4.956895 17.591657 1.603521 77.311807-46.388517 101.422947-103.97405 102.414531-106.400309 2.166339-5.328355 1.090844-11.432377-2.774183-15.693424l-22.560832-24.8909c-1.842974-2.030239-3.713578-4.036943-5.523807-5.980201-3.52222-3.777023-6.852058-7.343245-9.91379-11.015891-0.103354-0.576121-0.407276-3.545756 2.578732-10.349719 1.159406-2.638083 2.38635-5.252631 3.689019-8.018627 1.90335-4.036943 3.866051-8.214079 5.66093-12.607132 1.866511-4.573155 3.196809-9.369392 4.484128-14.010085 2.914376-10.492982 5.136997-17.46886 9.349949-18.763342 12.715603-3.910053 26.41051-4.261047 40.908712-4.63353 5.668093-0.143263 11.527544-0.295735 17.419741-0.667196 6.503111-0.415462 11.992125-4.984524 13.57518-11.308557C907.21518 494.340805 883.543038 436.564937 882.527918 434.149934zM643.49894 643.761929c-35.280528 35.280528-82.191954 54.711066-132.086317 54.711066s-96.806813-19.430538-132.086317-54.711066c-35.280528-35.279504-54.711066-82.191954-54.711066-132.086317 0-49.894364 19.430538-96.80272 54.711066-132.082224 35.283598-35.284621 82.191954-54.711066 132.086317-54.711066s96.80579 19.426445 132.086317 54.711066c35.279504 35.279504 54.711066 82.187861 54.711066 132.082224C698.210006 561.569976 678.782537 608.482425 643.49894 643.761929z"}))},e.prototype.getShape=function(){var t=this.props.model,e=t.x,n=t.y,o=t.width,i=t.height,a=t.radius,u=t.getNodeStyle();return(0,r.h)("g",{},[(0,r.h)("rect",T({x:e-o/2,y:n-i/2,rx:a,ry:a,width:o,height:i},u)),this.getLabelShape()])},e.extendKey="ServiceTaskNode",e}(r.RectNode),C={type:"bpmn:serviceTask",view:D,model:N},I=C,R=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),L=function(t){function e(e,n){var r=this;return e.id||(e.id="Flow_"+a()),r=t.call(this,e,n)||this,r}return R(e,t),e.extendKey="SequenceFlowModel",e}(r.PolylineEdgeModel),Z=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return R(e,t),e.extendKey="SequenceFlowEdge",e}(r.PolylineEdge),B={type:"bpmn:sequenceFlow",view:Z,model:L},z=B,F={width:40,height:40},H={width:40,height:40},G={width:40,height:40},X={width:100,height:80},W={width:100,height:80},U={rect:{radius:5,stroke:"rgb(24, 125, 255)"},circle:{r:18,stroke:"rgb(24, 125, 255)"},polygon:{stroke:"rgb(24, 125, 255)"},polyline:{stroke:"rgb(24, 125, 255)",hoverStroke:"rgb(24, 125, 255)",selectedStroke:"rgb(24, 125, 255)"},edgeText:{background:{fill:"white",height:14,stroke:"transparent",radius:3}}},Y=(function(){function t(t){var e=t.lf;e.setTheme(U),e.register(f),e.register(g),e.register(x),e.register(k),e.register(I),e.options.customBpmnEdge||(e.register(z),e.setDefaultEdgeType("bpmn:sequenceFlow"))}t.pluginName="bpmnElement"}(),function(){function t(){globalThis._ids=this,this._ids=new Set}return t.prototype.generateId=function(){var t="xxxxxxx".replace(/[x]/g,(function(t){var e=16*Math.random()|0,n="x"===t?e:3&e|8;return n.toString(16)}));return t},t.prototype.next=function(){var t=this.generateId();while(this._ids.has(t))t=this.generateId();return this._ids.add(t),t},t}()),V=(null===globalThis||void 0===globalThis?void 0:globalThis._ids)||new Y;function K(){return V.next()}function q(t){return Object.prototype.toString.call(t)}function $(t){return"  ".repeat(t)}function J(t){var e=t;return"[object Object]"===q(t)?(e={},Object.keys(t).forEach((function(n){var r=n;"-"===n.charAt(0)&&(r=n.substring(1)),e[r]=J(t[n])}))):Array.isArray(t)&&(e=[],t.forEach((function(t,n){e[n]=J(t)}))),e}function Q(t){var e=t;try{"string"!==typeof e&&(e=JSON.parse(t))}catch(n){e=JSON.stringify(J(t)).replace(/"/g,"'")}return e}var tt="\t\n";function et(t,e,n){var r=$(n),o="";if("#text"===e)return tt+r+t;if("#cdata-section"===e)return tt+r+"<![CDATA["+t+"]]>";if("#comment"===e)return tt+r+"\x3c!--"+t+"--\x3e";if("-"===(""+e).charAt(0))return" "+e.substring(1)+'="'+Q(t)+'"';if(Array.isArray(t))t.forEach((function(t){o+=et(t,e,n+1)}));else if("[object Object]"===q(t)){var i=Object.keys(t),a="",u="";o+=(0===n?"":tt+r)+"<"+e,i.forEach((function(e){"-"===e.charAt(0)?a+=et(t[e],e,n+1):u+=et(t[e],e,n+1)})),o+=a+(""!==u?">"+u+(tt+r)+"</"+e+">":" />")}else o+=tt+r+"<"+e+">"+t.toString()+"</"+e+">";return o}function nt(t){var e="";for(var n in t)e+=et(t[n],n,0);return e}var rt=function(){};rt.ObjTree=function(){return this},rt.ObjTree.VERSION="0.23",rt.ObjTree.prototype.xmlDecl='<?xml version="1.0" encoding="UTF-8" ?>\n',rt.ObjTree.prototype.attr_prefix="-",rt.ObjTree.prototype.parseXML=function(t){var e;if(window.DOMParser){var n=new DOMParser,r=n.parseFromString(t,"application/xml");if(!r)return;e=r.documentElement}else window.ActiveXObject&&(n=new ActiveXObject("Microsoft.XMLDOM"),n.async=!1,n.loadXML(t),e=n.documentElement);if(e)return this.parseDOM(e)},rt.ObjTree.prototype.parseHTTP=function(t,e,n){var r,o={};for(var i in e)o[i]=e[i];if(o.method||("undefined"==typeof o.postBody&&"undefined"==typeof o.postbody&&"undefined"==typeof o.parameters?o.method="get":o.method="post"),n){o.asynchronous=!0;var a=this,u=n,c=o.onComplete;o.onComplete=function(t){var e;t&&t.responseXML&&t.responseXML.documentElement&&(e=a.parseDOM(t.responseXML.documentElement)),u(e,t),c&&c(t)}}else o.asynchronous=!1;if("undefined"!=typeof HTTP&&HTTP.Request){o.uri=t;var s=new HTTP.Request(o);s&&(r=s.transport)}else if("undefined"!=typeof Ajax&&Ajax.Request){s=new Ajax.Request(t,o);s&&(r=s.transport)}return n?r:r&&r.responseXML&&r.responseXML.documentElement?this.parseDOM(r.responseXML.documentElement):void 0},rt.ObjTree.prototype.parseDOM=function(t){if(t){if(this.__force_array={},this.force_array)for(var e=0;e<this.force_array.length;e++)this.__force_array[this.force_array[e]]=1;var n=this.parseElement(t);if(this.__force_array[t.nodeName]&&(n=[n]),11!=t.nodeType){var r={};r[t.nodeName]=n,n=r}return n}},rt.ObjTree.prototype.parseElement=function(t){if(7!=t.nodeType){if(3==t.nodeType||4==t.nodeType||8==t.nodeType){var e=t.nodeValue.match(/[^\x00-\x20]/);if(null==e)return;return t.nodeValue}var n=null,r={};if(t.attributes&&t.attributes.length){n={};for(var o=0;o<t.attributes.length;o++){var i=t.attributes[o].nodeName;if("string"==typeof i){var a=t.attributes[o].nodeValue;try{a=JSON.parse(t.attributes[o].nodeValue.replace(/'/g,'"'))}catch(s){a=t.attributes[o].nodeValue}a&&(i=this.attr_prefix+i,"undefined"==typeof r[i]&&(r[i]=0),r[i]++,this.addNode(n,i,r[i],a))}}}if(t.childNodes&&t.childNodes.length){var u=!0;n&&(u=!1);for(o=0;o<t.childNodes.length&&u;o++){var c=t.childNodes[o].nodeType;3!=c&&4!=c&&8!=c&&(u=!1)}if(u){n||(n="");for(o=0;o<t.childNodes.length;o++)n+=t.childNodes[o].nodeValue}else{n||(n={});for(o=0;o<t.childNodes.length;o++){i=t.childNodes[o].nodeName;if("string"==typeof i){a=this.parseElement(t.childNodes[o]);a&&("undefined"==typeof r[i]&&(r[i]=0),r[i]++,this.addNode(n,i,r[i],a))}}}}else null===n&&(n={});return n}},rt.ObjTree.prototype.addNode=function(t,e,n,r){this.__force_array[e]?(1==n&&(t[e]=[]),t[e][t[e].length]=r):1==n?t[e]=r:2==n?t[e]=[t[e],r]:t[e][t[e].length]=r},rt.ObjTree.prototype.writeXML=function(t){var e=this.hash_to_xml(null,t);return this.xmlDecl+e},rt.ObjTree.prototype.hash_to_xml=function(t,e){var n=[],r=[];for(var o in e)if(e.hasOwnProperty(o)){var i=e[o];o.charAt(0)!=this.attr_prefix?"undefined"==typeof i||null==i?n[n.length]="<"+o+" />":"object"==typeof i&&i.constructor==Array?n[n.length]=this.array_to_xml(o,i):n[n.length]="object"==typeof i?this.hash_to_xml(o,i):this.scalar_to_xml(o,i):r[r.length]=" "+o.substring(1)+'="'+this.xml_escape(i)+'"'}var a=r.join(""),u=n.join("");return"undefined"==typeof t||null==t||(u=n.length>0?u.match(/\n/)?"<"+t+a+">\n"+u+"</"+t+">\n":"<"+t+a+">"+u+"</"+t+">\n":"<"+t+a+" />\n"),u},rt.ObjTree.prototype.array_to_xml=function(t,e){for(var n=[],r=0;r<e.length;r++){var o=e[r];"undefined"==typeof o||null==o?n[n.length]="<"+t+" />":"object"==typeof o&&o.constructor==Array?n[n.length]=this.array_to_xml(t,o):n[n.length]="object"==typeof o?this.hash_to_xml(t,o):this.scalar_to_xml(t,o)}return n.join("")},rt.ObjTree.prototype.scalar_to_xml=function(t,e){return"#text"==t?this.xml_escape(e):"<"+t+">"+this.xml_escape(e)+"</"+t+">\n"},rt.ObjTree.prototype.xml_escape=function(t){return t.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var ot,it=function(t){return(new rt.ObjTree).parseXML(t)},at=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ut=function(){return ut=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},ut.apply(this,arguments)},ct=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{while((void 0===e||e-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a};(function(t){t["START"]="bpmn:startEvent",t["END"]="bpmn:endEvent",t["GATEWAY"]="bpmn:exclusiveGateway",t["USER"]="bpmn:userTask",t["SYSTEM"]="bpmn:serviceTask",t["FLOW"]="bpmn:sequenceFlow"})(ot||(ot={}));var st=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef"],lt=["properties","startPoint","endPoint","pointsList"];function ft(t){var e=t?lt.concat(t):lt;return function(t){function n(t){var r={};return"string"===typeof t?t:Array.isArray(t)?t.map((function(t){return n(t)})):(Object.entries(t).forEach((function(t){var o=ct(t,2),i=o[0],a=o[1];"object"!==typeof a?0===i.indexOf("-")||["#text","#cdata-section","#comment"].includes(i)?r[i]=a:r["-"+i]=a:e.includes(i)?r["-"+i]=n(a):r[i]=n(a)})),r)}return n(t)}}function pt(t){var e={};return Object.entries(t).forEach((function(t){var n=ct(t,2),r=n[0],o=n[1];0===r.indexOf("-")?e[r.substring(1)]=J(o):"string"===typeof o?e[r]=o:"[object Object]"===Object.prototype.toString.call(o)?e[r]=pt(o):Array.isArray(o)?e[r]=o.map((function(t){return pt(t)})):e[r]=o})),e}function dt(t,e,n){var r=new Map;e.nodes.forEach((function(e){var o,i={"-id":e.id};if((null===(o=e.text)||void 0===o?void 0:o.value)&&(i["-name"]=e.text.value),e.properties){var a=ft(n)(e.properties);Object.assign(i,a)}r.set(e.id,i),t[e.type]?Array.isArray(t[e.type])?t[e.type].push(i):t[e.type]=[t[e.type],i]:t[e.type]=i}));var o=e.edges.map((function(t){var e,o,i=r.get(t.targetNodeId);i["bpmn:incoming"]?Array.isArray(i["bpmn:incoming"])?i["bpmn:incoming"].push(t.id):i["bpmn:incoming"]=[i["bpmn:incoming"],t.id]:i["bpmn:incoming"]=t.id;var a={"-id":t.id,"-sourceRef":t.sourceNodeId,"-targetRef":t.targetNodeId};if((null===(e=t.text)||void 0===e?void 0:e.value)&&(a["-name"]=null===(o=t.text)||void 0===o?void 0:o.value),t.properties){var u=ft(n)(t.properties);Object.assign(a,u)}return a}));e.edges.forEach((function(t){var e=r.get(t.sourceNodeId);e["bpmn:outgoing"]?Array.isArray(e["bpmn:outgoing"])?e["bpmn:outgoing"].push(t.id):e["bpmn:outgoing"]=[e["bpmn:outgoing"],t.id]:e["bpmn:outgoing"]=t.id})),t[ot.FLOW]=o}function ht(t,e){t["bpmndi:BPMNEdge"]=e.edges.map((function(t){var e,n=t.id,r=t.pointsList.map((function(t){var e=t.x,n=t.y;return{"-x":e,"-y":n}})),o={"-id":n+"_di","-bpmnElement":n,"di:waypoint":r};return(null===(e=t.text)||void 0===e?void 0:e.value)&&(o["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":t.text.x-10*t.text.value.length/2,"-y":t.text.y-7,"-width":10*t.text.value.length,"-height":14}}),o})),t["bpmndi:BPMNShape"]=e.nodes.map((function(t){var e,n=t.id,r=100,o=80,i=t.x,a=t.y,u=_t.shapeConfigMap.get(t.type);u&&(r=u.width,o=u.height),i-=r/2,a-=o/2;var c={"-id":n+"_di","-bpmnElement":n,"dc:Bounds":{"-x":i,"-y":a,"-width":r,"-height":o}};return(null===(e=t.text)||void 0===e?void 0:e.value)&&(c["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":t.text.x-10*t.text.value.length/2,"-y":t.text.y-7,"-width":10*t.text.value.length,"-height":14}}),c}))}function yt(t){var e=[],n=[],r=t["bpmn:definitions"];if(r){var o=r["bpmn:process"];Object.keys(o).forEach((function(t){if(0===t.indexOf("bpmn:")){var i=o[t];if(t===ot.FLOW){var a=r["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];n=bt(i,a)}else{var u=r["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];e=e.concat(vt(i,u,t))}}}))}return{nodes:e,edges:n}}function vt(t,e,n){var r=[];if(Array.isArray(t))t.forEach((function(t){var o;o=Array.isArray(e)?e.find((function(e){return e["-bpmnElement"]===t["-id"]})):e;var i=gt(o,n,t);r.push(i)}));else{var o=void 0;o=Array.isArray(e)?e.find((function(e){return e["-bpmnElement"]===t["-id"]})):e;var i=gt(o,n,t);r.push(i)}return r}function gt(t,e,n){var r,o,i=Number(t["dc:Bounds"]["-x"]),a=Number(t["dc:Bounds"]["-y"]),u=n["-name"],c=_t.shapeConfigMap.get(e);if(c&&(i+=c.width/2,a+=c.height/2),Object.entries(n).forEach((function(t){var e=ct(t,2),n=e[0],o=e[1];-1===st.indexOf(n)&&(r||(r={}),r[n]=o)})),r&&(r=pt(r)),u&&(o={x:i,y:a,value:u},t["bpmndi:BPMNLabel"]&&t["bpmndi:BPMNLabel"]["dc:Bounds"])){var s=t["bpmndi:BPMNLabel"]["dc:Bounds"];o.x=Number(s["-x"])+Number(s["-width"])/2,o.y=Number(s["-y"])+Number(s["-height"])/2}var l={id:t["-bpmnElement"],type:e,x:i,y:a,properties:r};return o&&(l.text=o),l}function bt(t,e){var n=[];if(Array.isArray(t))t.forEach((function(t){var r;r=Array.isArray(e)?e.find((function(e){return e["-bpmnElement"]===t["-id"]})):e,n.push(mt(r,t))}));else{var r=void 0;r=Array.isArray(e)?e.find((function(e){return e["-bpmnElement"]===t["-id"]})):e,n.push(mt(r,t))}return n}function mt(t,e){var n,r,o=e["-name"];if(o){var i=t["bpmndi:BPMNLabel"]["dc:Bounds"],a=0;o.split("\n").forEach((function(t){a<t.length&&(a=t.length)})),n={value:o,x:Number(i["-x"])+10*a/2,y:Number(i["-y"])+7}}Object.entries(e).forEach((function(t){var e=ct(t,2),n=e[0],o=e[1];-1===st.indexOf(n)&&(r||(r={}),r[n]=o)})),r&&(r=pt(r));var u={id:e["-id"],type:ot.FLOW,pointsList:t["di:waypoint"].map((function(t){return{x:Number(t["-x"]),y:Number(t["-y"])}})),sourceNodeId:e["-sourceRef"],targetNodeId:e["-targetRef"],properties:r};return n&&(u.text=n),u}var _t=function(){function t(t){var e=this,n=t.lf;this.adapterOut=function(t,n){var r=ut({},e.processAttributes);dt(r,t,n);var o={"-id":"BPMNPlane_1","-bpmnElement":r["-id"]};ht(o,t);var i=e.definitionAttributes;i["bpmn:process"]=r,i["bpmndi:BPMNDiagram"]={"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":o};var a={"bpmn:definitions":i};return a},this.adapterIn=function(t){if(t)return yt(t)},n.adapterIn=function(t){return e.adapterIn(t)},n.adapterOut=function(t,n){return e.adapterOut(t,n)},this.processAttributes={"-isExecutable":"true","-id":"Process_"+K()},this.definitionAttributes={"-id":"Definitions_"+K(),"-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://logic-flow.org","-exporter":"logicflow","-exporterVersion":"1.2.0"}}return t.prototype.setCustomShape=function(e,n){t.shapeConfigMap.set(e,n)},t.pluginName="bpmn-adapter",t.shapeConfigMap=new Map,t}();_t.shapeConfigMap.set(ot.START,{width:F.width,height:F.height}),_t.shapeConfigMap.set(ot.END,{width:H.width,height:H.height}),_t.shapeConfigMap.set(ot.GATEWAY,{width:G.width,height:G.height}),_t.shapeConfigMap.set(ot.SYSTEM,{width:X.width,height:X.height}),_t.shapeConfigMap.set(ot.USER,{width:W.width,height:W.height});(function(t){function e(e){var n=t.call(this,e)||this;n.adapterXmlIn=function(t){var e=it(t);return n.adapterIn(e)},n.adapterXmlOut=function(t,e){var r=n.adapterOut(t,e);return nt(r)};var r=e.lf;return r.adapterIn=n.adapterXmlIn,r.adapterOut=n.adapterXmlOut,n}at(e,t),e.pluginName="bpmnXmlAdapter"})(_t);function Ot(){var t={message:"分组外的节点不允许连接分组内的",validate:function(t,e,n,r){var o=!!t.properties.parent,i=!!e.properties.parent;return!(!o&&i)}};this.targetRules.push(t)}var wt=function(){function t(){globalThis._ids=this,this._ids=new Set}return t.prototype.generateId=function(){var t="xxxxxxx".replace(/[x]/g,(function(t){var e=16*Math.random()|0,n="x"===t?e:3&e|8;return n.toString(16)}));return t},t.prototype.next=function(){var t=this.generateId();while(this._ids.has(t))t=this.generateId();return this._ids.add(t),t},t}(),xt=(null===globalThis||void 0===globalThis?void 0:globalThis._ids)||new wt;function Et(){return xt.next()}var jt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),St=function(){return St=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},St.apply(this,arguments)},Pt=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{while((void 0===e||e-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a},Mt=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Pt(arguments[e]));return t};function kt(t){var e=Pt(t.useDefinition(),1),n=e[0],o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return jt(e,t),e.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},e.prototype.getShape=function(){var e,o=this.props.model,i=o.getNodeStyle(),a=o.x,u=o.y,c=o.r,s=o.width,l=o.height,f=o.properties,p=t.prototype.getShape.call(this),d=f.definitionType,h=((null===(e=n.endEvent)||void 0===e?void 0:e.get(d))||{}).icon,y=Array.isArray(h)?r.h.apply(void 0,Mt(["g",{transform:"matrix(1 0 0 1 "+(a-s/2)+" "+(u-l/2)+")"}],h)):(0,r.h)("path",{transform:"matrix(1 0 0 1 "+(a-s/2)+" "+(u-l/2)+")",d:h,style:"fill: black; stroke-linecap: round; stroke-linejoin: round; stroke: white; stroke-width: 1px;"});return(0,r.h)("g",{},p,(0,r.h)("circle",St(St({},i),{strokeWidth:2,cx:a,cy:u,r:c-2})),y)},e}(r.CircleNode),i=function(t){function e(e,r){var o,i,a,u=this;e.id||(e.id="Event_"+Et()),e.text||(e.text=""),e.text&&"string"===typeof e.text&&(e.text={value:e.text,x:e.x,y:e.y+40});var c=((null===(o=n.endEvent)||void 0===o?void 0:o.get(null===(i=e.properties)||void 0===i?void 0:i.definitionType))||{}).properties,s=void 0===c?{}:c;return e.properties=St(St({},s),e.properties),(null===(a=e.properties)||void 0===a?void 0:a.definitionType)&&(e.properties.definitionId="Definition_"+Et()),u=t.call(this,e,r)||this,Ot.call(u),u}return jt(e,t),e.prototype.setAttributes=function(){this.r=18},e.prototype.getConnectedSourceRules=function(){var e=this,n=t.prototype.getConnectedSourceRules.call(this),r={message:"结束节点不能作为边的起点",validate:function(t,n){return t!==e}};return n.push(r),n},e}(r.CircleNodeModel);return{type:"bpmn:endEvent",view:o,model:i}}var At=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Tt=function(){return Tt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Tt.apply(this,arguments)},Nt=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{while((void 0===e||e-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a},Dt=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Nt(arguments[e]));return t};function Ct(t){var e=Nt(t.useDefinition(),1),n=e[0],o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return At(e,t),e.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},e.prototype.getShape=function(){var t,e=this.props.model,o=e.getNodeStyle(),i=e.x,a=e.y,u=e.r,c=e.width,s=e.height,l=e.properties,f=l.definitionType,p=((null===(t=n.intermediateCatchEvent)||void 0===t?void 0:t.get(f))||{}).icon,d=Array.isArray(p)?r.h.apply(void 0,Dt(["g",{transform:"matrix(1 0 0 1 "+(i-c/2)+" "+(a-s/2)+")"}],p)):(0,r.h)("path",{transform:"matrix(1 0 0 1 "+(i-c/2)+" "+(a-s/2)+")",d:p});return(0,r.h)("g",{},(0,r.h)("circle",Tt(Tt({},o),{cx:i,cy:a,r:u,strokeWidth:1.5})),(0,r.h)("circle",Tt(Tt({},o),{cx:i,cy:a,r:u-3,strokeWidth:1.5})),d)},e}(r.CircleNode),i=function(t){function e(e,r){var o,i,a,u=this;e.id||(e.id="Event_"+Et()),e.text||(e.text=""),e.text&&"string"===typeof e.text&&(e.text={value:e.text,x:e.x,y:e.y+40});var c=((null===(o=n.intermediateCatchEvent)||void 0===o?void 0:o.get(null===(i=e.properties)||void 0===i?void 0:i.definitionType))||{}).properties,s=void 0===c?{}:c;return e.properties=Tt(Tt({},s),e.properties),(null===(a=e.properties)||void 0===a?void 0:a.definitionType)&&(e.properties.definitionId="Definition_"+Et()),u=t.call(this,e,r)||this,Ot.call(u),u}return At(e,t),e.prototype.setAttributes=function(){this.r=18},e}(r.CircleNodeModel);return{type:"bpmn:intermediateCatchEvent",view:o,model:i}}var It=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Rt=function(){return Rt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Rt.apply(this,arguments)},Lt=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{while((void 0===e||e-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a},Zt=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Lt(arguments[e]));return t};function Bt(t){var e=Lt(t.useDefinition(),1),n=e[0],o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return It(e,t),e.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},e.prototype.getShape=function(){var t,e=this.props.model,o=e.getNodeStyle(),i=e.x,a=e.y,u=e.r,c=e.width,s=e.height,l=e.properties,f=l.definitionType,p=l.isInterrupting,d=((null===(t=n.startEvent)||void 0===t?void 0:t.get(f))||{}).icon,h=Array.isArray(d)?r.h.apply(void 0,Zt(["g",{transform:"matrix(1 0 0 1 "+(i-c/2)+" "+(a-s/2)+")"}],d)):(0,r.h)("path",{transform:"matrix(1 0 0 1 "+(i-c/2)+" "+(a-s/2)+")",d:d,style:"fill: white; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"});return(0,r.h)("g",{},(0,r.h)("circle",Rt(Rt({},o),{cx:i,cy:a,r:u,strokeDasharray:p?"5,5":"",strokeWidth:2})),h)},e}(r.CircleNode),i=function(t){function e(e,r){var o,i,a,u=this;e.id||(e.id="Event_"+Et()),e.text||(e.text=""),e.text&&"string"===typeof e.text&&(e.text={value:e.text,x:e.x,y:e.y+40});var c=((null===(o=n.startEvent)||void 0===o?void 0:o.get(null===(i=e.properties)||void 0===i?void 0:i.definitionType))||{}).properties,s=void 0===c?{}:c;return e.properties=Rt(Rt({},s),e.properties),(null===(a=e.properties)||void 0===a?void 0:a.definitionType)&&(e.properties.definitionId="Definition_"+Et()),u=t.call(this,e,r)||this,u}return It(e,t),e.prototype.setAttributes=function(){this.r=18},e.prototype.getConnectedTargetRules=function(){var e=this,n=t.prototype.getConnectedTargetRules.call(this),r={message:"起始节点不能作为边的终点",validate:function(t,n){return n!==e}};return n.push(r),n},e}(r.CircleNodeModel);return{type:"bpmn:startEvent",view:o,model:i}}var zt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ft=function(){return Ft=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Ft.apply(this,arguments)},Ht=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{while((void 0===e||e-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a},Gt=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Ht(arguments[e]));return t};function Xt(t){var e=Ht(t.useDefinition(),1),n=e[0],o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return zt(e,t),e.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},e.prototype.getShape=function(){var t,e=this.props.model,o=e.getNodeStyle(),i=e.x,a=e.y,u=e.r,c=e.width,s=e.height,l=e.properties,f=l.definitionType,p=l.cancelActivity,d=((null===(t=n.boundaryEvent)||void 0===t?void 0:t.get(f))||{}).icon,h=Array.isArray(d)?r.h.apply(void 0,Gt(["g",{transform:"matrix(1 0 0 1 "+(i-c/2)+" "+(a-s/2)+")"}],d)):(0,r.h)("path",{transform:"matrix(1 0 0 1 "+(i-c/2)+" "+(a-s/2)+")",d:d});return(0,r.h)("g",{},(0,r.h)("circle",Ft(Ft({},o),{cx:i,cy:a,r:u,strokeDasharray:p?"":"5,5",strokeWidth:1.5})),(0,r.h)("circle",Ft(Ft({},o),{cx:i,cy:a,r:u-3,strokeDasharray:p?"":"5,5",strokeWidth:1.5})),h)},e}(r.CircleNode),i=function(t){function e(e,r){var o,i,a,u=this;e.id||(e.id="Event_"+Et()),e.text||(e.text=""),e.text&&"string"===typeof e.text&&(e.text={value:e.text,x:e.x,y:e.y+40});var c=((null===(o=n.boundaryEvent)||void 0===o?void 0:o.get(null===(i=e.properties)||void 0===i?void 0:i.definitionType))||{}).properties,s=void 0===c?{}:c;return e.properties=Ft(Ft({attachedToRef:"",cancelActivity:!0},s),e.properties),(null===(a=e.properties)||void 0===a?void 0:a.definitionType)&&(e.properties.definitionId="Definition_"+Et()),u=t.call(this,e,r)||this,Ot.call(u),u}return zt(e,t),e.prototype.initNodeData=function(e){t.prototype.initNodeData.call(this,e),this.r=20,this.autoToFront=!1,this.zIndex=99999},e.prototype.setAttributes=function(){this.r=18},e}(r.CircleNodeModel);return{type:"bpmn:boundaryEvent",view:o,model:i}}var Wt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ut=function(){return Ut=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Ut.apply(this,arguments)},Yt=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{while((void 0===e||e-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a},Vt=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Yt(arguments[e]));return t};function Kt(t){var e=Yt(t.useDefinition(),1),n=e[0],o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Wt(e,t),e.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},e.prototype.getShape=function(){var t,e=this.props.model,o=e.getNodeStyle(),i=e.x,a=e.y,u=e.r,c=e.width,s=e.height,l=e.properties,f=l.definitionType,p=((null===(t=n.intermediateThrowEvent)||void 0===t?void 0:t.get(f))||{}).icon,d=Array.isArray(p)?r.h.apply(void 0,Vt(["g",{transform:"matrix(1 0 0 1 "+(i-c/2)+" "+(a-s/2)+")"}],p)):(0,r.h)("path",{transform:"matrix(1 0 0 1 "+(i-c/2)+" "+(a-s/2)+")",d:p,style:"fill: black"});return(0,r.h)("g",{},(0,r.h)("circle",Ut(Ut({},o),{cx:i,cy:a,r:u,strokeWidth:1.5})),(0,r.h)("circle",Ut(Ut({},o),{cx:i,cy:a,r:u-3,strokeWidth:1.5})),d)},e}(r.CircleNode),i=function(t){function e(e,r){var o,i,a,u=this;e.id||(e.id="Event_"+Et()),e.text||(e.text=""),e.text&&"string"===typeof e.text&&(e.text={value:e.text,x:e.x,y:e.y+40});var c=((null===(o=n.intermediateThrowEvent)||void 0===o?void 0:o.get(null===(i=e.properties)||void 0===i?void 0:i.definitionType))||{}).properties,s=void 0===c?{}:c;return e.properties=Ut(Ut({},s),e.properties),(null===(a=e.properties)||void 0===a?void 0:a.definitionType)&&(e.properties.definitionId="Definition_"+Et()),u=t.call(this,e,r)||this,Ot.call(u),u}return Wt(e,t),e.prototype.setAttributes=function(){this.r=18},e}(r.CircleNodeModel);return{type:"bpmn:intermediateThrowEvent",view:o,model:i}}function qt(t){t.register(Bt(t)),t.register(kt(t)),t.register(Ct(t)),t.register(Kt(t)),t.register(Xt(t))}var $t=[(0,r.h)("circle",{cx:18,cy:18,r:11,style:"stroke-linecap: round;stroke-linejoin: round;stroke: rgb(34, 36, 42);stroke-width: 2px;fill: white"}),(0,r.h)("path",{d:"M 18,18 l 2.25,-7.5 m -2.25,7.5 l 5.25,1.5",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 2px;"}),(0,r.h)("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(0,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),(0,r.h)("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(30,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),(0,r.h)("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(60,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),(0,r.h)("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(90,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),(0,r.h)("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(120,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),(0,r.h)("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(150,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),(0,r.h)("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(180,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),(0,r.h)("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(210,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),(0,r.h)("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(240,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),(0,r.h)("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(270,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),(0,r.h)("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(300,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),(0,r.h)("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(330,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"})],Jt=((0,r.h)("circle",{cx:18,cy:18,r:10,style:"stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 4px; fill: rgb(34, 36, 42);"}),"m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z"),Qt="m 23,10 0,12.5 -12.5,0 0,5 12.5,0 0,12.5 5,0 0,-12.5 12.5,0 0,-5 -12.5,0 0,-12.5 -5,0 z",te=(0,r.h)("circle",{cx:25,cy:25,r:13,style:"stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 2.5px; fill: white;"}),ee="M882.527918 434.149934c-2.234901-5.303796-7.311523-8.853645-13.059434-9.138124l-61.390185-3.009544c-6.635117-20.973684-15.521508-41.175795-26.513864-60.282968l42.051745-47.743374c4.308119-4.889357 4.955872-12.004405 1.602498-17.59268-46.384423-77.30362-103.969956-101.422947-106.400309-102.410438-5.332449-2.170432-11.432377-1.090844-15.693424 2.77009L654.674467 240.664222c-17.004279-8.654101-35.092239-15.756869-53.995775-21.210068l-3.26537-66.490344c-0.280386-5.747911-3.833305-10.824533-9.134031-13.059434-1.683339-0.709151-30.193673-12.391215-76.866668-12.051477-46.672996-0.339738-75.18333 11.342326-76.866668 12.051477-5.300726 2.234901-8.853645 7.311523-9.134031 13.059434l-3.26537 66.490344c-18.903535 5.453199-36.991496 12.555967-53.995775 21.210068l-48.450479-43.922349c-4.261047-3.860934-10.360975-4.940522-15.693424-2.77009-2.430352 0.98749-60.015885 25.106818-106.400309 102.410438-3.353374 5.588275-2.705622 12.703323 1.602498 17.59268l42.051745 47.743374c-10.992355 19.107173-19.878746 39.309284-26.513864 60.282968l-61.390185 3.009544c-5.747911 0.284479-10.824533 3.834328-13.059434 9.138124-1.01512 2.415003-24.687262 60.190871-2.822278 147.651828 1.583055 6.324032 7.072069 10.893094 13.57518 11.308557 5.892197 0.37146 11.751648 0.523933 17.419741 0.667196 14.498202 0.372483 28.193109 0.723477 40.908712 4.63353 4.212952 1.294482 6.435573 8.270361 9.349949 18.763342 1.287319 4.640694 2.617617 9.43693 4.484128 14.010085 1.794879 4.393054 3.75758 8.570189 5.66093 12.607132 1.302669 2.765997 2.529613 5.380544 3.689019 8.018627 2.986007 6.803963 2.682086 9.773598 2.578732 10.349719-3.061732 3.672646-6.391571 7.238868-9.91379 11.015891-1.810229 1.943258-3.680832 3.949962-5.523807 5.980201l-22.560832 24.8909c-3.865028 4.261047-4.940522 10.365068-2.774183 15.693424 0.991584 2.426259 25.102724 60.011792 102.414531 106.400309 5.588275 3.353374 12.703323 2.701528 17.591657-1.603521l23.476691-20.682042c2.346441-2.061962 4.64888-4.336772 6.875594-6.534833 9.05319-8.93858 14.018272-12.95608 17.73185-11.576663 3.305279 1.222851 6.907317 3.166109 10.720156 5.228071 3.325745 1.794879 6.764054 3.650133 10.465352 5.288446 6.016017 2.662643 12.120039 4.688789 18.019399 6.65149 6.827499 2.266623 13.279445 4.409426 18.819624 7.275707 1.518586 0.782829 1.926886 0.994654 2.358721 7.830339 0.726547 11.496845 1.25048 23.276123 1.753947 34.672684 0.264013 5.900384 0.528026 11.803837 0.815575 17.700127 0.284479 5.743818 3.833305 10.82044 9.138124 13.05534 1.654686 0.698918 29.371958 12.063757 74.869175 12.063757 0.328481 0 3.65832 0 3.986801 0 45.497217 0 73.214489-11.364839 74.869175-12.063757 5.304819-2.234901 8.853645-7.311523 9.138124-13.05534 0.287549-5.89629 0.551562-11.799744 0.815575-17.700127 0.503467-11.396561 1.027399-23.175839 1.753947-34.672684 0.431835-6.835685 0.840134-7.04751 2.358721-7.830339 5.54018-2.866281 11.992125-5.009084 18.819624-7.275707 5.89936-1.962701 12.003382-3.988848 18.019399-6.65149 3.701299-1.638313 7.139607-3.493567 10.465352-5.288446 3.812839-2.061962 7.414877-4.00522 10.720156-5.228071 3.713578-1.379417 8.67866 2.638083 17.73185 11.576663 2.226714 2.198062 4.529153 4.472871 6.875594 6.534833l23.476691 20.682042c4.888334 4.305049 12.003382 4.956895 17.591657 1.603521 77.311807-46.388517 101.422947-103.97405 102.414531-106.400309 2.166339-5.328355 1.090844-11.432377-2.774183-15.693424l-22.560832-24.8909c-1.842974-2.030239-3.713578-4.036943-5.523807-5.980201-3.52222-3.777023-6.852058-7.343245-9.91379-11.015891-0.103354-0.576121-0.407276-3.545756 2.578732-10.349719 1.159406-2.638083 2.38635-5.252631 3.689019-8.018627 1.90335-4.036943 3.866051-8.214079 5.66093-12.607132 1.866511-4.573155 3.196809-9.369392 4.484128-14.010085 2.914376-10.492982 5.136997-17.46886 9.349949-18.763342 12.715603-3.910053 26.41051-4.261047 40.908712-4.63353 5.668093-0.143263 11.527544-0.295735 17.419741-0.667196 6.503111-0.415462 11.992125-4.984524 13.57518-11.308557C907.21518 494.340805 883.543038 436.564937 882.527918 434.149934zM643.49894 643.761929c-35.280528 35.280528-82.191954 54.711066-132.086317 54.711066s-96.806813-19.430538-132.086317-54.711066c-35.280528-35.279504-54.711066-82.191954-54.711066-132.086317 0-49.894364 19.430538-96.80272 54.711066-132.082224 35.283598-35.284621 82.191954-54.711066 132.086317-54.711066s96.80579 19.426445 132.086317 54.711066c35.279504 35.279504 54.711066 82.187861 54.711066 132.082224C698.210006 561.569976 678.782537 608.482425 643.49894 643.761929z",ne="M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z",re="m44,60 m 3,2 l 0,10 m 3,-10 l 0,10 m 3,-10 l 0,10",oe="m47,61 m 0,3 l 10,0 m -10,3 l 10,0 m -10,3 l 10,0",ie="m 50,73 c 3.526979,0 6.386161,-2.829858 6.386161,-6.320661 0,-3.490806 -2.859182,-6.320661 -6.386161,-6.320661 -3.526978,0 -6.38616,2.829855 -6.38616,6.320661 0,1.745402 0.714797,3.325567 1.870463,4.469381 0.577834,0.571908 1.265885,1.034728 2.029916,1.35457 l -0.718163,-3.909793 m 0.718163,3.909793 -3.885211,0.802902",ae=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ue=function(){return ue=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},ue.apply(this,arguments)};function ce(t,e,n){var o=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return ae(n,t),n.prototype.getShape=function(){var t=this.props.model,n=t.x,o=t.y,i=t.width,a=t.height,u=t.points,c=t.getNodeStyle();return(0,r.h)("g",{transform:"matrix(1 0 0 1 "+(n-i/2)+" "+(o-a/2)+")"},(0,r.h)("polygon",ue(ue({},c),{x:n,y:o,points:u})),"string"===typeof e?(0,r.h)("path",ue(ue({d:e},c),{fill:"rgb(34, 36, 42)",strokeWidth:1})):e)},n}(r.PolygonNode),i=function(t){function e(e,r){var o=this;return e.id||(e.id="Gateway_"+Et()),e.text||(e.text=""),e.text&&"string"===typeof e.text&&(e.text={value:e.text,x:e.x,y:e.y+40}),e.properties=ue(ue({},n||{}),e.properties),o=t.call(this,e,r)||this,o.points=[[25,0],[50,25],[25,50],[0,25]],Ot.call(o),o}return ae(e,t),e}(r.PolygonNodeModel);return{type:t,view:o,model:i}}function se(t){var e=ce("bpmn:exclusiveGateway",Jt),n=ce("bpmn:parallelGateway",Qt),r=ce("bpmn:inclusiveGateway",te);t.register(e),t.register(r),t.register(n)}var le=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),fe=function(){return fe=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},fe.apply(this,arguments)},pe=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{while((void 0===e||e-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a},de=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(pe(arguments[e]));return t},he={parallel:re,sequential:oe,loop:ie};function ye(t,e,n){var o=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return le(n,t),n.prototype.getLabelShape=function(){var t=this.props.model,n=t.x,o=t.y,i=t.width,a=t.height,u=t.getNodeStyle(),c=Array.isArray(e)?r.h.apply(void 0,de(["g",{transform:"matrix(1 0 0 1 "+(n-i/2)+" "+(o-a/2)+")"}],e)):(0,r.h)("path",{fill:u.stroke,d:e});return(0,r.h)("svg",{x:n-i/2+5,y:o-a/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},c)},n.prototype.getShape=function(){var t=this.props.model,e=t.x,n=t.y,o=t.width,i=t.height,a=t.radius,u=t.properties,c=t.getNodeStyle();return(0,r.h)("g",{},[(0,r.h)("rect",fe(fe({},c),{x:e-o/2,y:n-i/2,rx:a,ry:a,width:o,height:i,opacity:.95})),this.getLabelShape(),(0,r.h)("g",{transform:"matrix(1 0 0 1 "+(e-o/2)+" "+(n-i/2)+")"},(0,r.h)("path",{fill:"white",strokeLinecap:"round",strokeLinejoin:"round",stroke:"rgb(34, 36, 42)",strokeWidth:"2",d:he[u.multiInstanceType]||""}))])},n}(r.RectNode),i=function(t){function e(e,r){var o,i=this;e.id||(e.id="Activity_"+Et());var a=fe(fe({},n||{}),e.properties);return e.properties=a,i=t.call(this,e,r)||this,null===(o=null===a||void 0===a?void 0:a.boundaryEvents)||void 0===o||o.forEach((function(t){i.addBoundaryEvent(t)})),i.deleteProperty("boundaryEvents"),Ot.call(i),i}return le(e,t),e.prototype.initNodeData=function(e){t.prototype.initNodeData.call(this,e),this.isTaskNode=!0,this.boundaryEvents=[]},e.prototype.getNodeStyle=function(){var e=t.prototype.getNodeStyle.call(this),n=this.properties.isBoundaryEventTouchingTask;return n&&(e.stroke="#00acff",e.strokeWidth=2),e},e.prototype.getOutlineStyle=function(){var e=t.prototype.getOutlineStyle.call(this);return e.stroke="transparent",!e.hover&&(e.hover={}),e.hover.stroke="transparent",e},e.prototype.setTouching=function(t){this.setProperty("isBoundaryEventTouchingTask",t)},e.prototype.addBoundaryEvent=function(t){if(this.setTouching(!1),this.boundaryEvents.find((function(e){return e===t})))return!1;var e=this.graphModel.getNodeModelById(t);return null===e||void 0===e||e.setProperties({attachedToRef:this.id}),this.boundaryEvents.push(t),!0},e.prototype.deleteBoundaryEvent=function(t){this.boundaryEvents=this.boundaryEvents.filter((function(e){return e!==t}))},e}(r.RectNodeModel);return{type:t,view:o,model:i}}var ve,ge,be,me,_e,Oe,we,xe={},Ee=[],je=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Se=Array.isArray;function Pe(t,e){for(var n in e)t[n]=e[n];return t}function Me(t){var e=t.parentNode;e&&e.removeChild(t)}function ke(t,e,n){var r,o,i,a={};for(i in e)"key"==i?r=e[i]:"ref"==i?o=e[i]:a[i]=e[i];if(arguments.length>2&&(a.children=arguments.length>3?ve.call(arguments,2):n),"function"==typeof t&&null!=t.defaultProps)for(i in t.defaultProps)void 0===a[i]&&(a[i]=t.defaultProps[i]);return Ae(t,a,r,o,null)}function Ae(t,e,n,r,o){var i={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==o?++be:o};return null==o&&null!=ge.vnode&&ge.vnode(i),i}function Te(t){return t.children}function Ne(t,e){this.props=t,this.context=e}function De(t,e){if(null==e)return t.__?De(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if(null!=(n=t.__k[e])&&null!=n.__e)return n.__e;return"function"==typeof t.type?De(t):null}function Ce(t){var e,n;if(null!=(t=t.__)&&null!=t.__c){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if(null!=(n=t.__k[e])&&null!=n.__e){t.__e=t.__c.base=n.__e;break}return Ce(t)}}function Ie(t){(!t.__d&&(t.__d=!0)&&me.push(t)&&!Re.__r++||_e!==ge.debounceRendering)&&((_e=ge.debounceRendering)||Oe)(Re)}function Re(){var t,e,n,r,o,i,a,u,c;for(me.sort(we);t=me.shift();)t.__d&&(e=me.length,r=void 0,o=void 0,i=void 0,u=(a=(n=t).__v).__e,(c=n.__P)&&(r=[],o=[],(i=Pe({},a)).__v=a.__v+1,Ue(c,a,i,n.__n,void 0!==c.ownerSVGElement,null!=a.__h?[u]:null,r,null==u?De(a):u,a.__h,o),Ye(r,a,o),a.__e!=u&&Ce(a)),me.length>e&&me.sort(we));Re.__r=0}function Le(t,e,n,r,o,i,a,u,c,s,l){var f,p,d,h,y,v,g,b,m,_=0,O=r&&r.__k||Ee,w=O.length,x=w,E=e.length;for(n.__k=[],f=0;f<E;f++)null!=(h=n.__k[f]=null==(h=e[f])||"boolean"==typeof h||"function"==typeof h?null:"string"==typeof h||"number"==typeof h||"bigint"==typeof h?Ae(null,h,null,null,h):Se(h)?Ae(Te,{children:h},null,null,null):h.__b>0?Ae(h.type,h.props,h.key,h.ref?h.ref:null,h.__v):h)?(h.__=n,h.__b=n.__b+1,-1===(b=ze(h,O,g=f+_,x))?d=xe:(d=O[b]||xe,O[b]=void 0,x--),Ue(t,h,d,o,i,a,u,c,s,l),y=h.__e,(p=h.ref)&&d.ref!=p&&(d.ref&&Ke(d.ref,null,h),l.push(p,h.__c||y,h)),null!=y&&(null==v&&(v=y),(m=d===xe||null===d.__v)?-1==b&&_--:b!==g&&(b===g+1?_++:b>g?x>E-g?_+=b-g:_--:_=b<g&&b==g-1?b-g:0),g=f+_,"function"!=typeof h.type||b===g&&d.__k!==h.__k?"function"==typeof h.type||b===g&&!m?void 0!==h.__d?(c=h.__d,h.__d=void 0):c=y.nextSibling:c=Be(t,y,c):c=Ze(h,c,t),"function"==typeof n.type&&(n.__d=c))):(d=O[f])&&null==d.key&&d.__e&&(d.__e==c&&(c=De(d)),qe(d,d,!1),O[f]=null);for(n.__e=v,f=w;f--;)null!=O[f]&&("function"==typeof n.type&&null!=O[f].__e&&O[f].__e==n.__d&&(n.__d=O[f].__e.nextSibling),qe(O[f],O[f]))}function Ze(t,e,n){for(var r,o=t.__k,i=0;o&&i<o.length;i++)(r=o[i])&&(r.__=t,e="function"==typeof r.type?Ze(r,e,n):Be(n,r.__e,e));return e}function Be(t,e,n){return null==n||n.parentNode!==t?t.insertBefore(e,null):e==n&&null!=e.parentNode||t.insertBefore(e,n),e.nextSibling}function ze(t,e,n,r){var o=t.key,i=t.type,a=n-1,u=n+1,c=e[n];if(null===c||c&&o==c.key&&i===c.type)return n;if(r>(null!=c?1:0))for(;a>=0||u<e.length;){if(a>=0){if((c=e[a])&&o==c.key&&i===c.type)return a;a--}if(u<e.length){if((c=e[u])&&o==c.key&&i===c.type)return u;u++}}return-1}function Fe(t,e,n,r,o){var i;for(i in n)"children"===i||"key"===i||i in e||Ge(t,i,null,n[i],r);for(i in e)o&&"function"!=typeof e[i]||"children"===i||"key"===i||"value"===i||"checked"===i||n[i]===e[i]||Ge(t,i,e[i],n[i],r)}function He(t,e,n){"-"===e[0]?t.setProperty(e,null==n?"":n):t[e]=null==n?"":"number"!=typeof n||je.test(e)?n:n+"px"}function Ge(t,e,n,r,o){var i;t:if("style"===e)if("string"==typeof n)t.style.cssText=n;else{if("string"==typeof r&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||He(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||He(t.style,e,n[e])}else if("o"===e[0]&&"n"===e[1])i=e!==(e=e.replace(/(PointerCapture)$|Capture$/,"$1")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+i]=n,n?r||t.addEventListener(e,i?We:Xe,i):t.removeEventListener(e,i?We:Xe,i);else if("dangerouslySetInnerHTML"!==e){if(o)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!==e&&"height"!==e&&"href"!==e&&"list"!==e&&"form"!==e&&"tabIndex"!==e&&"download"!==e&&"rowSpan"!==e&&"colSpan"!==e&&e in t)try{t[e]=null==n?"":n;break t}catch(t){}"function"==typeof n||(null==n||!1===n&&"-"!==e[4]?t.removeAttribute(e):t.setAttribute(e,n))}}function Xe(t){return this.l[t.type+!1](ge.event?ge.event(t):t)}function We(t){return this.l[t.type+!0](ge.event?ge.event(t):t)}function Ue(t,e,n,r,o,i,a,u,c,s){var l,f,p,d,h,y,v,g,b,m,_,O,w,x,E,j=e.type;if(void 0!==e.constructor)return null;null!=n.__h&&(c=n.__h,u=e.__e=n.__e,e.__h=null,i=[u]),(l=ge.__b)&&l(e);t:if("function"==typeof j)try{if(g=e.props,b=(l=j.contextType)&&r[l.__c],m=l?b?b.props.value:l.__:r,n.__c?v=(f=e.__c=n.__c).__=f.__E:("prototype"in j&&j.prototype.render?e.__c=f=new j(g,m):(e.__c=f=new Ne(g,m),f.constructor=j,f.render=$e),b&&b.sub(f),f.props=g,f.state||(f.state={}),f.context=m,f.__n=r,p=f.__d=!0,f.__h=[],f._sb=[]),null==f.__s&&(f.__s=f.state),null!=j.getDerivedStateFromProps&&(f.__s==f.state&&(f.__s=Pe({},f.__s)),Pe(f.__s,j.getDerivedStateFromProps(g,f.__s))),d=f.props,h=f.state,f.__v=e,p)null==j.getDerivedStateFromProps&&null!=f.componentWillMount&&f.componentWillMount(),null!=f.componentDidMount&&f.__h.push(f.componentDidMount);else{if(null==j.getDerivedStateFromProps&&g!==d&&null!=f.componentWillReceiveProps&&f.componentWillReceiveProps(g,m),!f.__e&&(null!=f.shouldComponentUpdate&&!1===f.shouldComponentUpdate(g,f.__s,m)||e.__v===n.__v)){for(e.__v!==n.__v&&(f.props=g,f.state=f.__s,f.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.forEach((function(t){t&&(t.__=e)})),_=0;_<f._sb.length;_++)f.__h.push(f._sb[_]);f._sb=[],f.__h.length&&a.push(f);break t}null!=f.componentWillUpdate&&f.componentWillUpdate(g,f.__s,m),null!=f.componentDidUpdate&&f.__h.push((function(){f.componentDidUpdate(d,h,y)}))}if(f.context=m,f.props=g,f.__P=t,f.__e=!1,O=ge.__r,w=0,"prototype"in j&&j.prototype.render){for(f.state=f.__s,f.__d=!1,O&&O(e),l=f.render(f.props,f.state,f.context),x=0;x<f._sb.length;x++)f.__h.push(f._sb[x]);f._sb=[]}else do{f.__d=!1,O&&O(e),l=f.render(f.props,f.state,f.context),f.state=f.__s}while(f.__d&&++w<25);f.state=f.__s,null!=f.getChildContext&&(r=Pe(Pe({},r),f.getChildContext())),p||null==f.getSnapshotBeforeUpdate||(y=f.getSnapshotBeforeUpdate(d,h)),Le(t,Se(E=null!=l&&l.type===Te&&null==l.key?l.props.children:l)?E:[E],e,n,r,o,i,a,u,c,s),f.base=e.__e,e.__h=null,f.__h.length&&a.push(f),v&&(f.__E=f.__=null)}catch(t){e.__v=null,(c||null!=i)&&(e.__e=u,e.__h=!!c,i[i.indexOf(u)]=null),ge.__e(t,e,n)}else null==i&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=Ve(n.__e,e,n,r,o,i,a,c,s);(l=ge.diffed)&&l(e)}function Ye(t,e,n){for(var r=0;r<n.length;r++)Ke(n[r],n[++r],n[++r]);ge.__c&&ge.__c(e,t),t.some((function(e){try{t=e.__h,e.__h=[],t.some((function(t){t.call(e)}))}catch(t){ge.__e(t,e.__v)}}))}function Ve(t,e,n,r,o,i,a,u,c){var s,l,f,p=n.props,d=e.props,h=e.type,y=0;if("svg"===h&&(o=!0),null!=i)for(;y<i.length;y++)if((s=i[y])&&"setAttribute"in s==!!h&&(h?s.localName===h:3===s.nodeType)){t=s,i[y]=null;break}if(null==t){if(null===h)return document.createTextNode(d);t=o?document.createElementNS("http://www.w3.org/2000/svg",h):document.createElement(h,d.is&&d),i=null,u=!1}if(null===h)p===d||u&&t.data===d||(t.data=d);else{if(i=i&&ve.call(t.childNodes),l=(p=n.props||xe).dangerouslySetInnerHTML,f=d.dangerouslySetInnerHTML,!u){if(null!=i)for(p={},y=0;y<t.attributes.length;y++)p[t.attributes[y].name]=t.attributes[y].value;(f||l)&&(f&&(l&&f.__html==l.__html||f.__html===t.innerHTML)||(t.innerHTML=f&&f.__html||""))}if(Fe(t,d,p,o,u),f)e.__k=[];else if(Le(t,Se(y=e.props.children)?y:[y],e,n,r,o&&"foreignObject"!==h,i,a,i?i[0]:n.__k&&De(n,0),u,c),null!=i)for(y=i.length;y--;)null!=i[y]&&Me(i[y]);u||("value"in d&&void 0!==(y=d.value)&&(y!==t.value||"progress"===h&&!y||"option"===h&&y!==p.value)&&Ge(t,"value",y,p.value,!1),"checked"in d&&void 0!==(y=d.checked)&&y!==t.checked&&Ge(t,"checked",y,p.checked,!1))}return t}function Ke(t,e,n){try{"function"==typeof t?t(e):t.current=e}catch(t){ge.__e(t,n)}}function qe(t,e,n){var r,o;if(ge.unmount&&ge.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||Ke(r,null,e)),null!=(r=t.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(t){ge.__e(t,e)}r.base=r.__P=null,t.__c=void 0}if(r=t.__k)for(o=0;o<r.length;o++)r[o]&&qe(r[o],e,n||"function"!=typeof t.type);n||null==t.__e||Me(t.__e),t.__=t.__e=t.__d=void 0}function $e(t,e,n){return this.constructor(t,n)}ve=Ee.slice,ge={__e:function(t,e,n,r){for(var o,i,a;e=e.__;)if((o=e.__c)&&!o.__)try{if((i=o.constructor)&&null!=i.getDerivedStateFromError&&(o.setState(i.getDerivedStateFromError(t)),a=o.__d),null!=o.componentDidCatch&&(o.componentDidCatch(t,r||{}),a=o.__d),a)return o.__E=o}catch(e){t=e}throw t}},be=0,Ne.prototype.setState=function(t,e){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=Pe({},this.state),"function"==typeof t&&(t=t(Pe({},n),this.props)),t&&Pe(n,t),null!=t&&this.__v&&(e&&this._sb.push(e),Ie(this))},Ne.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Ie(this))},Ne.prototype.render=Te,me=[],Oe="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,we=function(t,e){return t.__v.__b-e.__v.__b},Re.__r=0;var Je,Qe=function(){return Qe=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Qe.apply(this,arguments)};function tn(t){var e=t.x,n=t.y,o=t.width,i=t.height,a=t.radius,u=t.className,c=e-o/2,s=n-i/2,l=Qe(Qe({width:10,height:10,cx:0,cy:0,rx:a||0,ry:a||0,fill:"transparent",fillOpacity:1,strokeWidth:"1px",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape "+u},t),{x:c,y:s});return(0,r.h)("rect",Qe({},l))}tn.defaultProps={radius:0,stroke:"",strokeDasharray:"",className:""},function(t){t["NODE"]="node",t["CIRCLE_NODE"]="circle-node",t["POLYGON_NODE"]="polygon-node",t["RECT_NODE"]="rect-node",t["HTML_NODE"]="html-node",t["TEXT_NODE"]="text-node",t["ELLIPSE_NODE"]="ellipse-node",t["DIAMOND_NODE"]="diamond-node",t["EDGE"]="edge",t["LINE_EDGE"]="line-edge",t["POLYLINE_EDGE"]="polyline-edge",t["BEZIER_EDGE"]="bezier-edge",t["GRAPH"]="graph"}(Je||(Je={}));var en=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),nn=function(){return nn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},nn.apply(this,arguments)},rn=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{while((void 0===e||e-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a},on=r.LogicFlowUtil.StepDrag,an=function(t){function e(e){var n=t.call(this)||this;return n.updatePosition=function(t){var e=t.deltaX,r=t.deltaY,o=n.nodeModel,i=o.x,a=o.y;n.nodeModel.x=i+e/2,n.nodeModel.y=a+r/2,n.nodeModel.moveText(e/2,r/2)},n.getResize=function(t){var e=t.index,n=t.deltaX,r=t.deltaY,o=t.width,i=t.height,a=t.PCTResizeInfo,u=t.pct,c=void 0===u?1:u,s={width:o,height:i,deltaX:n,deltaY:r};if(a){var l=4,f=0,p=0;switch(e){case 0:p=(-1*n-r)/l;break;case 1:p=(n-r)/l;break;case 2:p=(n+r)/l;break;case 3:p=(-1*n+r)/l;break;default:break}0!==p&&(f=Math.round(p/a.ResizeBasis.basisHeight*1e5)/1e3),a.ResizePCT.widthPCT=Math.max(Math.min(a.ResizePCT.widthPCT+f,a.ScaleLimit.maxScaleLimit),a.ScaleLimit.minScaleLimit),a.ResizePCT.hightPCT=Math.max(Math.min(a.ResizePCT.hightPCT+f,a.ScaleLimit.maxScaleLimit),a.ScaleLimit.minScaleLimit);var d=Math.round(a.ResizePCT.widthPCT*a.ResizeBasis.basisWidth/100),h=Math.round(a.ResizePCT.hightPCT*a.ResizeBasis.basisHeight/100);switch(e){case 0:n=o-d,r=i-h;break;case 1:n=d-o,r=i-h;break;case 2:n=d-o,r=h-i;break;case 3:n=o-d,r=h-i;break;default:break}return s.width=d,s.height=h,s.deltaX=n/c,s.deltaY=r/c,s}switch(e){case 0:s.width=o-n*c,s.height=i-r*c;break;case 1:s.width=o+n*c,s.height=i-r*c;break;case 2:s.width=o+n*c,s.height=i+r*c;break;case 3:s.width=o-n*c,s.height=i+r*c;break;default:break}return s},n.updateEdgePointByAnchors=function(){var t=n.nodeModel,e=t.id,r=t.anchors,o=n.getNodeEdges(e);o.sourceEdges.forEach((function(t){var e=r.find((function(e){return e.id===t.sourceAnchorId}));t.updateStartPoint({x:e.x,y:e.y})})),o.targetEdges.forEach((function(t){var e=r.find((function(e){return e.id===t.targetAnchorId}));t.updateEndPoint({x:e.x,y:e.y})}))},n.updateRect=function(t){var e=t.deltaX,r=t.deltaY,o=n.nodeModel,i=o.id,a=o.x,u=o.y,c=o.width,s=o.height,l=o.radius,f=o.PCTResizeInfo,p=n.index,d=n.getResize({index:p,deltaX:e,deltaY:r,width:c,height:s,PCTResizeInfo:f,pct:1}),h=n.nodeModel,y=h.minWidth,v=h.minHeight,g=h.maxWidth,b=h.maxHeight;if(d.width<y||d.width>g||d.height<v||d.height>b)n.dragHandler.cancelDrag();else{n.updatePosition({deltaX:d.deltaX,deltaY:d.deltaY}),n.nodeModel.width=d.width,n.nodeModel.height=d.height,n.nodeModel.setProperties({nodeSize:{width:d.width,height:d.height}});n.getNodeEdges(i);var m={x:a,y:u,width:c,height:s,radius:l},_={x:n.nodeModel.x,y:n.nodeModel.y,width:n.nodeModel.width,height:n.nodeModel.height,radius:l};n.updateEdgePointByAnchors(),n.eventEmit({beforeNode:m,afterNode:_})}},n.updateEllipse=function(t){var e=t.deltaX,r=t.deltaY,o=n.nodeModel,i=o.id,a=o.rx,u=o.ry,c=o.x,s=o.y,l=o.PCTResizeInfo,f=n.index,p=a,d=u,h=n.getResize({index:f,deltaX:e,deltaY:r,width:p,height:d,PCTResizeInfo:l,pct:.5}),y=n.nodeModel,v=y.minWidth,g=y.minHeight,b=y.maxWidth,m=y.maxHeight;if(h.width<v/2||h.width>b/2||h.height<g/2||h.height>m/2)n.dragHandler.cancelDrag();else{n.updatePosition({deltaX:h.deltaX,deltaY:h.deltaY}),n.nodeModel.rx=h.width,n.nodeModel.ry=h.height,n.nodeModel.setProperties({nodeSize:{rx:h.width,ry:h.height}});n.getNodeEdges(i);var _={x:c,y:s},O={rx:h.width,ry:h.height,x:n.nodeModel.x,y:n.nodeModel.y};n.updateEdgePointByAnchors(),n.eventEmit({beforeNode:nn(nn({},_),{rx:a,ry:u}),afterNode:O})}},n.updateDiamond=function(t){var e=t.deltaX,r=t.deltaY,o=n.nodeModel,i=(o.id,o.rx),a=o.ry,u=o.x,c=o.y,s=o.PCTResizeInfo,l=n.index,f=i,p=a,d=n.getResize({index:l,deltaX:e,deltaY:r,width:f,height:p,PCTResizeInfo:s,pct:.5}),h=n.nodeModel,y=h.minWidth,v=h.minHeight,g=h.maxWidth,b=h.maxHeight;if(d.width<y/2||d.width>g/2||d.height<v/2||d.height>b/2)n.dragHandler.cancelDrag();else{n.updatePosition({deltaX:d.deltaX,deltaY:d.deltaY}),n.nodeModel.rx=d.width,n.nodeModel.ry=d.height,n.nodeModel.setProperties({nodeSize:{rx:d.width,ry:d.height}});var m={x:u,y:c,rx:i,ry:a},_={rx:d.width,ry:d.height,x:n.nodeModel.x,y:n.nodeModel.y};n.updateEdgePointByAnchors(),n.eventEmit({beforeNode:m,afterNode:_})}},n.eventEmit=function(t){var e=t.beforeNode,r=t.afterNode,o=n.nodeModel,i=o.id,a=o.modelType,u=o.type,c=nn({id:i,modelType:a,type:u},e),s=nn({id:i,modelType:a,type:u},r);n.graphModel.eventCenter.emit("node:resize",{oldNodeSize:c,newNodeSize:s})},n.onDragging=function(t){var e,r=t.deltaX,o=t.deltaY,i=n.graphModel.transformModel,a=n.nodeModel.modelType;e=rn(i.fixDeltaXY(r,o),2),r=e[0],o=e[1],a===Je.RECT_NODE||a===Je.HTML_NODE?n.updateRect({deltaX:r,deltaY:o}):a===Je.ELLIPSE_NODE?n.updateEllipse({deltaX:r,deltaY:o}):a===Je.DIAMOND_NODE&&n.updateDiamond({deltaX:r,deltaY:o})},n.onDragEnd=function(){n.updateEdgePointByAnchors();var t=n.graphModel.gridSize,e=void 0===t?1:t,r=e*Math.round(n.nodeModel.x/e),o=e*Math.round(n.nodeModel.y/e);n.nodeModel.moveTo(r,o)},n.index=e.index,n.nodeModel=e.model,n.graphModel=e.graphModel,n.state={},n.dragHandler=new on({onDragging:n.onDragging,onDragEnd:n.onDragEnd,step:1}),n}return en(e,t),e.prototype.getNodeEdges=function(t){for(var e=this.graphModel,n=e.edges,r=[],o=[],i=0;i<n.length;i++){var a=n[i];a.sourceNodeId===t?r.push(a):n[i].targetNodeId===t&&o.push(a)}return{sourceEdges:r,targetEdges:o}},e.prototype.render=function(){var t=this.props,e=t.x,n=t.y,r=t.index,o=t.model,i=o.getControlPointStyle();return ke("g",{className:"lf-resize-control-"+r},ke(tn,nn({className:"lf-node-control"},{x:e,y:n},i,{onMouseDown:this.dragHandler.handleMouseDown})))},e}(Ne),un=an,cn=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),sn=function(){return sn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},sn.apply(this,arguments)},ln=function(t){function e(){var e=t.call(this)||this;return e.state={},e}return cn(e,t),e.prototype.getResizeControl=function(){var t=this.props,e=t.model,n=t.graphModel,r=e.x,o=e.y,i=e.width,a=e.height,u={minX:r-i/2,minY:o-a/2,maxX:r+i/2,maxY:o+a/2},c=u.minX,s=u.minY,l=u.maxX,f=u.maxY,p=[{x:c,y:s},{x:l,y:s},{x:l,y:f},{x:c,y:f}];return p.map((function(t,r){return ke(un,sn({index:r},t,{model:e,graphModel:n}))}))},e.prototype.getGroupSolid=function(){var t=this.props.model,e=t.x,n=t.y,r=t.width,o=t.height,i=t.getResizeOutlineStyle();return ke(tn,sn({fill:"none"},i,{x:e,y:n,width:r,height:o}))},e.prototype.render=function(){return ke("g",{className:"lf-resize-control"},this.getGroupSolid(),this.getResizeControl())},e}(Ne),fn=ln,pn=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),dn=function(t){function e(e,n){var r=t.call(this,e,n)||this,o=r.properties.nodeSize;return o&&(r.width=o.width,r.height=o.height),r}return pn(e,t),e.prototype.initNodeData=function(e){t.prototype.initNodeData.call(this,e),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},e.prototype.getOutlineStyle=function(){var e=t.prototype.getOutlineStyle.call(this),n=this.graphModel.editConfigModel.isSilentMode;return n||(e.stroke="none",e.hover&&(e.hover.stroke="none")),e},e.prototype.getResizeOutlineStyle=function(){return{fill:"none",stroke:"transparent",strokeWidth:1,strokeDasharray:"3,3"}},e.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},e.prototype.resize=function(t,e){console.log(t,e)},e.prototype.enableProportionResize=function(t){if(void 0===t&&(t=!0),t){var e={widthPCT:100,hightPCT:100},n={basisWidth:this.width,basisHeight:this.height},r={maxScaleLimit:Math.min(this.maxWidth/this.width*100,this.maxHeight/this.height*100),minScaleLimit:Math.max(this.minWidth/this.width*100,this.minHeight/this.height*100)};this.PCTResizeInfo={ResizePCT:e,ResizeBasis:n,ScaleLimit:r}}else delete this.PCTResizeInfo},e}(r.RectNodeModel),hn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return pn(e,t),e.prototype.getControlGroup=function(){var t=this.props,e=t.model,n=t.graphModel;return(0,r.h)(fn,{model:e,graphModel:n})},e.prototype.getResizeShape=function(){return t.prototype.getShape.call(this)},e.prototype.getShape=function(){var t=this.props,e=t.model.isSelected,n=t.graphModel.editConfigModel.isSilentMode;return(0,r.h)("g",null,this.getResizeShape(),e&&!n?this.getControlGroup():"")},e}(r.RectNode),yn={type:"rect",view:hn,model:dn},vn=yn,gn=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),bn=(function(t){function e(e,n){var r=t.call(this,e,n)||this,o=r.properties.nodeSize;return o&&(r.rx=o.rx,r.ry=o.ry),r}gn(e,t),e.prototype.initNodeData=function(e){t.prototype.initNodeData.call(this,e),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},e.prototype.getOutlineStyle=function(){var e=t.prototype.getOutlineStyle.call(this),n=this.graphModel.editConfigModel.isSilentMode;return n||(e.stroke="none",e.hover&&(e.hover.stroke="none")),e},e.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},e.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},e.prototype.enableProportionResize=function(t){if(void 0===t&&(t=!0),t){var e={widthPCT:100,hightPCT:100},n={basisWidth:this.rx,basisHeight:this.ry},r={maxScaleLimit:Math.min(this.maxWidth/(2*this.rx)*100,this.maxHeight/(2*this.ry)*100),minScaleLimit:Math.max(this.minWidth/(2*this.rx)*100,this.minHeight/(2*this.ry)*100)};this.PCTResizeInfo={ResizePCT:e,ResizeBasis:n,ScaleLimit:r}}else delete this.PCTResizeInfo}}(r.EllipseNodeModel),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}gn(e,t),e.prototype.getControlGroup=function(){var t=this.props,e=t.model,n=t.graphModel;return(0,r.h)(fn,{model:e,graphModel:n})},e.prototype.getResizeShape=function(){return t.prototype.getShape.call(this)},e.prototype.getShape=function(){var t=this.props,e=t.model,n=t.graphModel.editConfigModel.isSilentMode;return(0,r.h)("g",null,this.getResizeShape(),e.isSelected&&!n?this.getControlGroup():"")}}(r.EllipseNode),function(){return bn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},bn.apply(this,arguments)});function mn(t){var e=t.fillOpacity,n=void 0===e?1:e,o=t.strokeWidth,i=void 0===o?1:o,a=t.strokeOpacity,u=void 0===a?1:a,c=t.fill,s=void 0===c?"transparent":c,l=t.stroke,f=void 0===l?"#000":l,p=t.points,d=t.className,h=void 0===d?"lf-basic-shape":d,y={fill:s,fillOpacity:n,strokeWidth:i,stroke:f,strokeOpacity:u,points:"",className:h};return y.points=p.map((function(t){return t.join(",")})).join(" "),(0,r.h)("polygon",bn({},y))}var _n=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),On=function(){return On=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},On.apply(this,arguments)},wn=(function(t){function e(e,n){var r=t.call(this,e,n)||this,o=r.properties.nodeSize;return o&&(r.rx=o.rx,r.ry=o.ry),r}_n(e,t),e.prototype.initNodeData=function(e){t.prototype.initNodeData.call(this,e),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3,this.gridSize=1},e.prototype.getOutlineStyle=function(){var e=t.prototype.getOutlineStyle.call(this),n=this.graphModel.editConfigModel.isSilentMode;return n||(e.stroke="none",e.hover&&(e.hover.stroke="none")),e},e.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},e.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},e.prototype.enableProportionResize=function(t){if(void 0===t&&(t=!0),t){var e={widthPCT:100,hightPCT:100},n={basisWidth:this.rx,basisHeight:this.ry},r={maxScaleLimit:Math.min(this.maxWidth/(2*this.rx)*100,this.maxHeight/(2*this.ry)*100),minScaleLimit:Math.max(this.minWidth/(2*this.rx)*100,this.minHeight/(2*this.ry)*100)};this.PCTResizeInfo={ResizePCT:e,ResizeBasis:n,ScaleLimit:r}}else delete this.PCTResizeInfo}}(r.DiamondNodeModel),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}_n(e,t),e.prototype.getControlGroup=function(){var t=this.props,e=t.model,n=t.graphModel;return(0,r.h)(fn,{model:e,graphModel:n})},e.prototype.getResizeShape=function(){var t=this.props.model,e=t.points,n=t.getNodeStyle();return(0,r.h)("g",null,(0,r.h)(mn,On({},n,{points:e})))},e.prototype.getShape=function(){var t=this.props,e=t.model.isSelected,n=t.graphModel.editConfigModel.isSilentMode;return(0,r.h)("g",null,this.getResizeShape(),e&&!n?this.getControlGroup():"")}}(r.DiamondNode),function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),xn=(function(t){function e(e,n){var r=t.call(this,e,n)||this,o=r.properties.nodeSize;return o&&(r.width=o.width,r.height=o.height),r}wn(e,t),e.prototype.initNodeData=function(e){t.prototype.initNodeData.call(this,e),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},e.prototype.getOutlineStyle=function(){var e=t.prototype.getOutlineStyle.call(this),n=this.graphModel.editConfigModel.isSilentMode;return n||(e.stroke="none",e.hover&&(e.hover.stroke="none")),e},e.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},e.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},e.prototype.enableProportionResize=function(t){if(void 0===t&&(t=!0),t){var e={widthPCT:100,hightPCT:100},n={basisWidth:this.width,basisHeight:this.height},r={maxScaleLimit:Math.min(this.maxWidth/this.width*100,this.maxHeight/this.height*100),minScaleLimit:Math.max(this.minWidth/this.width*100,this.minHeight/this.height*100)};this.PCTResizeInfo={ResizePCT:e,ResizeBasis:n,ScaleLimit:r}}else delete this.PCTResizeInfo}}(r.HtmlNodeModel),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}wn(e,t),e.prototype.getControlGroup=function(){var t=this.props,e=t.model,n=t.graphModel;return(0,r.h)(fn,{model:e,graphModel:n})},e.prototype.getResizeShape=function(){return t.prototype.getShape.call(this)},e.prototype.getShape=function(){var t=this.props,e=t.model.isSelected,n=t.graphModel.editConfigModel.isSilentMode;return(0,r.h)("g",null,this.getResizeShape(),e&&!n?this.getControlGroup():"")}}(r.HtmlNode),function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),En=function(){return En=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},En.apply(this,arguments)},jn=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{while((void 0===e||e-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a},Sn=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(jn(arguments[e]));return t},Pn=500,Mn=300,kn=-1e4,An=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isGroup=!0,e.unfoldedWidth=Pn,e.unfoldedHight=Mn,e.childrenLastFoldStatus={},e}return xn(e,t),e.prototype.initNodeData=function(e){var n=this;t.prototype.initNodeData.call(this,e);var r=[];Array.isArray(e.children)&&(r=e.children),this.children=new Set(r),this.width=Pn,this.height=Mn,this.foldedWidth=80,this.foldedHeight=60,this.zIndex=kn,this.radius=0,this.text.editable=!1,this.text.draggable=!1,this.isRestrict=!1,this.resizable=!1,this.autoToFront=!1,this.foldable=!1,void 0===this.properties.isFolded&&(this.properties.isFolded=!1),this.isFolded=this.properties.isFolded,setTimeout((function(){n.isFolded&&n.foldGroup(n.isFolded)}))},e.prototype.getResizeOutlineStyle=function(){var e=t.prototype.getResizeOutlineStyle.call(this);return e.stroke="none",e},e.prototype.foldGroup=function(t){var e=this;if(t!==this.isFolded){this.setProperty("isFolded",t),this.isFolded=t,t?(this.x=this.x-this.width/2+this.foldedWidth/2,this.y=this.y-this.height/2+this.foldedHeight/2,this.unfoldedWidth=this.width,this.unfoldedHight=this.height,this.width=this.foldedWidth,this.height=this.foldedHeight):(this.width=this.unfoldedWidth,this.height=this.unfoldedHight,this.x=this.x+this.width/2-this.foldedWidth/2,this.y=this.y+this.height/2-this.foldedHeight/2);var n=this.incoming.edges.concat(this.outgoing.edges);this.children.forEach((function(r){var o=e.graphModel.getElement(r),i=o.isFolded;if(o.isGroup&&!o.isFolded&&o.foldGroup(t),o.isGroup&&!t){var a=e.childrenLastFoldStatus[r];void 0!==a&&a!==o.isFolded&&o.foldGroup(a)}e.childrenLastFoldStatus[r]=i,o.visible=!t,n=n.concat(o.incoming.edges.concat(o.outgoing.edges))})),this.foldEdge(t,n)}},e.prototype.getAnchorStyle=function(e){var n=t.prototype.getAnchorStyle.call(this,e);return n.stroke="transparent",n.fill="transparent",n.hover.fill="transparent",n.hover.stroke="transparent",n},e.prototype.foldEdge=function(t,e){var n=this;e.forEach((function(e,r){var o=e.id,i=e.sourceNodeId,a=e.targetNodeId,u=e.startPoint,c=e.endPoint,s=e.type,l=e.text,f=e.getProperties(),p={id:o+"__"+r,sourceNodeId:i,targetNodeId:a,startPoint:u,endPoint:c,type:s,properties:f,text:null===l||void 0===l?void 0:l.value};e.virtual&&n.graphModel.deleteEdgeById(e.id);var d=n.graphModel.group.getNodeGroup(a);d||(d=n.graphModel.getNodeModelById(a));var h=n.graphModel.group.getNodeGroup(i);h||(h=n.graphModel.getNodeModelById(i)),t&&!1!==e.visible&&(n.children.has(i)||n.id===i?(p.startPoint=void 0,p.sourceNodeId=n.id):(p.endPoint=void 0,p.targetNodeId=n.id),d.id===n.id&&h.id===n.id||n.createVirtualEdge(p),e.visible=!1),t||!1!==e.visible||(d&&d.isGroup&&d.isFolded?(p.targetNodeId=d.id,p.endPoint=void 0,n.createVirtualEdge(p)):h&&h.isGroup&&h.isFolded?(p.sourceNodeId=h.id,p.startPoint=void 0,n.createVirtualEdge(p)):e.visible=!0)}))},e.prototype.createVirtualEdge=function(t){t.pointsList=void 0;var e=this.graphModel.addEdge(t);e.virtual=!0,e.text.editable=!1,e.isFoldedEdge=!0},e.prototype.isInRange=function(t){var e=t.x1,n=t.y1,r=t.x2,o=t.y2;return e>=this.x-this.width/2&&r<=this.x+this.width/2&&n>=this.y-this.height/2&&o<=this.y+this.height/2},e.prototype.isAllowMoveTo=function(t){var e=t.x1,n=t.y1,r=t.x2,o=t.y2;return{x:e>=this.x-this.width/2&&r<=this.x+this.width/2,y:n>=this.y-this.height/2&&o<=this.y+this.height/2}},e.prototype.setAllowAppendChild=function(t){this.setProperty("groupAddable",t)},e.prototype.addChild=function(t){this.children.add(t)},e.prototype.removeChild=function(t){this.children.delete(t)},e.prototype.getAddableOutlineStyle=function(){return{stroke:"#FEB663",strokeWidth:2,strokeDasharray:"4 4",fill:"transparent"}},e.prototype.getData=function(){var e=this,n=t.prototype.getData.call(this);n.children=[],this.children.forEach((function(t){var r=e.graphModel.getNodeModelById(t);r&&!r.virtual&&n.children.push(t)}));var r=n.properties;return delete r.groupAddable,delete r.isFolded,n},e.prototype.getHistoryData=function(){var e=t.prototype.getData.call(this);e.children=Sn(this.children),e.isGroup=!0;var n=e.properties;return delete n.groupAddable,n.isFolded&&(e.x=e.x+this.unfoldedWidth/2-this.foldedWidth/2,e.y=e.y+this.unfoldedHight/2-this.foldedHeight/2),e},e.prototype.isAllowAppendIn=function(t){return!0},e.prototype.toBack=function(){this.zIndex--},e}(vn.model),Tn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return xn(e,t),e.prototype.getControlGroup=function(){var e=this.props.model,n=e.resizable,r=e.properties;return n&&!r.isFolded?t.prototype.getControlGroup.call(this):null},e.prototype.getAddableShape=function(){var t=this.props.model,e=t.width,n=t.height,o=t.x,i=t.y,a=t.radius,u=t.properties;if(!u.groupAddable)return null;var c=this.props.model.getNodeStyle().strokeWidth,s=this.props.model.getAddableOutlineStyle(),l=e+c+8,f=n+c+8;return(0,r.h)("rect",En(En({},s),{width:l,height:f,x:o-l/2,y:i-f/2,rx:a,ry:a}))},e.prototype.getFoldIcon=function(){var t=this.props.model,e=t.x-t.width/2+5,n=t.y-t.height/2+5;if(!t.foldable)return null;var o=(0,r.h)("path",{fill:"none",stroke:"#818281",strokeWidth:2,"pointer-events":"none",d:t.properties.isFolded?"M "+(e+3)+","+(n+6)+" "+(e+11)+","+(n+6)+" M"+(e+7)+","+(n+2)+" "+(e+7)+","+(n+10):"M "+(e+3)+","+(n+6)+" "+(e+11)+","+(n+6)+" "});return(0,r.h)("g",{},[(0,r.h)("rect",{height:12,width:14,rx:2,ry:2,strokeWidth:1,fill:"#F4F5F6",stroke:"#CECECE",cursor:"pointer",x:t.x-t.width/2+5,y:t.y-t.height/2+5,onClick:function(){t.foldGroup(!t.properties.isFolded)}}),o])},e.prototype.getResizeShape=function(){return(0,r.h)("g",{},[this.getAddableShape(),t.prototype.getResizeShape.call(this),this.getFoldIcon()])},e}(vn.view),Nn={type:"group",view:Tn,model:An},Dn=-1e3,Cn=-1e4,In=(function(){function t(t){var e=this,n=t.lf;this.topGroupZIndex=Cn,this.nodeGroupMap=new Map,this.graphRendered=function(t){t&&t.nodes&&t.nodes.forEach((function(t){t.children&&t.children.forEach((function(n){e.nodeGroupMap.set(n,t.id)}))}))},this.appendNodeToGroup=function(t){var n=t.data,r=e.nodeGroupMap.get(n.id);if(r){var o=e.lf.getNodeModelById(r);o.removeChild(n.id),e.nodeGroupMap.delete(n.id),o.setAllowAppendChild(!1)}var i=e.lf.getNodeModelById(n.id),a=i.getBounds(),u=e.getGroup(a,n);if(i.isGroup&&(n.children.forEach((function(t){e.nodeGroupMap.set(t,n.id)})),e.nodeSelected({data:n,isSelected:!1,isMultiple:!1})),u){var c=u.isAllowAppendIn(n);c?(u.addChild(n.id),e.nodeGroupMap.set(n.id,u.id),u.setAllowAppendChild(!1)):e.lf.emit("group:not-allowed",{group:u.getData(),node:n})}},this.deleteGroupChild=function(t){var n=t.data;n.children&&n.children.forEach((function(t){e.nodeGroupMap.delete(t),e.lf.deleteNode(t)}));var r=e.nodeGroupMap.get(n.id);if(r){var o=e.lf.getNodeModelById(r);o.removeChild(n.id),e.nodeGroupMap.delete(n.id)}},this.setActiveGroup=function(t){var n=t.data,r=e.lf.getNodeModelById(n.id),o=r.getBounds(),i=e.getGroup(o,n);if(e.activeGroup&&e.activeGroup.setAllowAppendChild(!1),i&&(!r.isGroup||i.id!==n.id)){var a=i.isAllowAppendIn(n);a&&(e.activeGroup=i,e.activeGroup.setAllowAppendChild(!0))}},this.nodeSelected=function(t){var n=t.data,r=t.isMultiple,o=t.isSelected,i=e.lf.getNodeModelById(n.id);if(e.toFrontGroup(i),e.topGroupZIndex>Dn){e.topGroupZIndex=Cn;for(var a=e.lf.graphModel.nodes.filter((function(t){return t.isGroup})).sort((function(t,e){return t.zIndex-e.zIndex})),u=0,c=0;c<a.length;c++){var s=a[c];s.zIndex!==u&&(e.topGroupZIndex++,u=s.zIndex),s.setZIndex(e.topGroupZIndex)}}if(r&&o)if(i.isGroup)i.children.forEach((function(t){var n=e.lf.graphModel.getElement(t);n.setSelected(!1)}));else{var l=e.nodeGroupMap.get(n.id);if(l){var f=e.lf.getNodeModelById(l);f.isSelected&&i.setSelected(!1)}}},this.toFrontGroup=function(t){t&&t.isGroup&&(e.topGroupZIndex++,t.setZIndex(e.topGroupZIndex),t.children&&t.children.forEach((function(t){var n=e.lf.getNodeModelById(t);e.toFrontGroup(n)})))},n.register(Nn),this.lf=n,n.graphModel.addNodeMoveRules((function(t,r,o){if(t.isGroup){var i=e.getNodeAllChild(t);return n.graphModel.moveNodes(i,r,o,!0),!0}var a=n.getNodeModelById(e.nodeGroupMap.get(t.id));if(a&&a.isRestrict){var u=t.getBounds(),c=u.x1,s=u.y1,l=u.x2,f=u.y2,p=a.isAllowMoveTo({x1:c+r,y1:s+o,x2:l+r,y2:f+o});return p}return!0})),n.graphModel.group=this,n.on("node:add,node:drop,node:dnd-add",this.appendNodeToGroup),n.on("node:delete",this.deleteGroupChild),n.on("node:dnd-drag,node:drag",this.setActiveGroup),n.on("node:click",this.nodeSelected),n.on("graph:rendered",this.graphRendered)}t.prototype.getNodeAllChild=function(t){var e=this,n=[];return t.children&&t.children.forEach((function(t){n.push(t);var r=e.lf.getNodeModelById(t);r.isGroup&&(n=n.concat(e.getNodeAllChild(r)))})),n},t.prototype.getGroup=function(t,e){var n=this.lf.graphModel.nodes,r=n.filter((function(n){return n.isGroup&&n.isInRange(t)&&n.id!==e.id}));if(0!==r.length){if(1===r.length)return r[0];for(var o=r[r.length-1],i=r.length-2;i>=0;i--)r[i].zIndex>o.zIndex&&(o=r[i]);return o}},t.prototype.getNodeGroup=function(t){var e=this.nodeGroupMap.get(t);if(e)return this.lf.getNodeModelById(e)},t.pluginName="group"}(),function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),Rn=function(){return Rn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Rn.apply(this,arguments)};function Ln(){var t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return In(e,t),e.prototype.getFoldIcon=function(){var t=this.props.model,e=t.x,n=t.y,o=t.width,i=t.height,a=t.properties,u=t.foldable,c=t.x-t.width/2+5,s=t.y-t.height/2+5;if(!u)return null;var l=(0,r.h)("path",{fill:"none",stroke:"#818281",strokeWidth:2,"pointer-events":"none",d:a.isFolded?"M "+(c+3)+","+(s+6)+" "+(c+11)+","+(s+6)+" M"+(c+7)+","+(s+2)+" "+(c+7)+","+(s+10):"M "+(c+3)+","+(s+6)+" "+(c+11)+","+(s+6)+" "});return(0,r.h)("g",{},[(0,r.h)("rect",{height:12,width:14,rx:2,ry:2,strokeWidth:1,fill:"#F4F5F6",stroke:"#CECECE",cursor:"pointer",x:e-o/2+5,y:n-i/2+5,onClick:function(e){e.stopPropagation(),t.foldGroup(!a.isFolded)}}),l])},e.prototype.getResizeShape=function(){var t=this.props.model,e=t.x,n=t.y,o=t.width,i=t.height,a=t.getNodeStyle(),u=Rn(Rn({},a),{x:e-o/2,y:n-i/2,width:o,height:i,stroke:"black",strokeWidth:2,strokeDasharray:"0 0"});return(0,r.h)("g",{},[(0,r.h)("rect",Rn({},u)),this.getFoldIcon()])},e}(Nn.view),e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return In(e,t),e.prototype.initNodeData=function(e){t.prototype.initNodeData.call(this,e),this.foldable=!0,this.resizable=!0,this.width=400,this.height=200,this.resetWidthHeight(),this.isTaskNode=!0,this.boundaryEvents=[]},e.prototype.resetWidthHeight=function(){var t,e,n=null===(t=this.properties.iniProp)||void 0===t?void 0:t.width,r=null===(e=this.properties.iniProp)||void 0===e?void 0:e.height;n&&(this.width=n),r&&(this.height=r)},e.prototype.getNodeStyle=function(){var e=t.prototype.getNodeStyle.call(this);e.stroke="#989891",e.strokeWidth=1,e.strokeDasharray="3 3",this.isSelected&&(e.stroke="rgb(124, 15, 255)");var n=this.properties.isBoundaryEventTouchingTask;return n&&(e.stroke="#00acff",e.strokeWidth=2),e},e.prototype.addChild=function(e){var n=this.graphModel.getElement(e);n.setProperties({parent:this.id}),t.prototype.addChild.call(this,e)},e.prototype.getAnchorStyle=function(){var e=t.prototype.getAnchorStyle.call(this,{});return e.stroke="#000",e.fill="#fff",e.hover.stroke="transparent",e},e.prototype.getOutlineStyle=function(){var e=t.prototype.getOutlineStyle.call(this);return e.stroke="transparent",!e.hover&&(e.hover={}),e.hover.stroke="transparent",e},e.prototype.setTouching=function(t){this.setProperty("isBoundaryEventTouchingTask",t)},e.prototype.addBoundaryEvent=function(t){if(this.setTouching(!1),this.boundaryEvents.find((function(e){return e===t})))return!1;var e=this.graphModel.getNodeModelById(t);return null===e||void 0===e||e.setProperties({attachedToRef:this.id}),this.boundaryEvents.push(t),!0},e.prototype.deleteBoundaryEvent=function(t){this.boundaryEvents=this.boundaryEvents.filter((function(e){return e!==t}))},e}(Nn.model);return{type:"bpmn:subProcess",view:t,model:e}}var Zn=function(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function Bn(t){function e(e){var n,o,i=e.data,a=i.type,u=i.id;if("bpmn:boundaryEvent"===a){var c=t.graphModel.nodes;try{for(var s=Zn(c),l=s.next();!l.done;l=s.next()){var f=l.value;if(f.isTaskNode){var p=null;if(null!==(p=r(f,i))){var d=t.graphModel.getNodeModelById(u),h=t.graphModel.getNodeModelById(p),y=d.properties.attachedToRef;return y&&y!==p&&t.graphModel.getNodeModelById(y).deleteBoundaryEvent(u),void h.addBoundaryEvent(u)}}}}catch(v){n={error:v}}finally{try{l&&!l.done&&(o=s.return)&&o.call(s)}finally{if(n)throw n.error}}}}function n(e){var n,o,i=e.data,a=i.type;if("bpmn:boundaryEvent"===a){var u=t.graphModel.nodes;try{for(var c=Zn(u),s=c.next();!s.done;s=c.next()){var l=s.value;l.isTaskNode&&(r(l,i)?l.setTouching(!0):l.setTouching(!1))}}catch(f){n={error:f}}finally{try{s&&!s.done&&(o=c.return)&&o.call(c)}finally{if(n)throw n.error}}}}function r(t,e){var n=5,r=t.x,o=t.y,i=t.width,a=t.height,u=t.id,c={minX:r-i/2,maxX:r+i/2,minY:o-a/2,maxY:o+a/2},s=e.x,l=e.y,f={minX:c.minX-n,maxX:c.maxX+n,minY:c.minY-n,maxY:c.maxY+n},p={minX:c.minX+n,maxX:c.maxX-n,minY:c.minY+n,maxY:c.maxX-n};return s>f.minX&&s<f.maxX&&l>f.minY&&l<f.maxY&&!(s>p.minX&&s<p.maxX&&l>p.minY&&l<p.maxY)?u:null}t.on("node:drag,node:dnd-drag",n),t.on("node:drop,node:dnd-add",e),t.graphModel.addNodeMoveRules((function(e,n,r){if(e.isTaskNode){var o=e.boundaryEvents;return t.graphModel.moveNodes(o,n,r,!0),!0}return!0}))}function zn(t){var e=ye("bpmn:serviceTask",ee),n=ye("bpmn:userTask",ne);t.register(e),t.register(n),t.register(Ln()),Bn(t)}var Fn=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Hn=function(){return Hn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Hn.apply(this,arguments)};function Gn(t){var e=function(e){function n(n,r){var o=this;n.id||(n.id="Flow_"+Et());var i=Hn(Hn(Hn({},t||{}),n.properties),{isDefaultFlow:!1});return n.properties=i,o=e.call(this,n,r)||this,o}return Fn(n,e),n.extendKey="SequenceFlowModel",n}(r.PolylineEdgeModel),n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Fn(e,t),e.prototype.getStartArrow=function(){var t=this.props.model,e=t.properties.isDefaultFlow;return e?(0,r.h)("path",{refX:15,stroke:"#000000",strokeWidth:2,d:"M 20 5 10 -5 z"}):(0,r.h)("path",{d:""})},e.extendKey="SequenceFlowEdge",e}(r.PolylineEdge);return{type:"bpmn:sequenceFlow",view:n,model:e}}var Xn=Gn();function Wn(t){t.register(Xn)}var Un=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{while((void 0===e||e-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a},Yn=[{nodes:["startEvent","intermediateCatchEvent","boundaryEvent"],definition:[{type:"bpmn:timerEventDefinition",icon:$t,properties:{definitionType:"bpmn:timerEventDefinition",timerValue:"",timerType:""}}]}];function Vn(t){function e(e){function n(e,n){return e.forEach((function(e){(null===t||void 0===t?void 0:t[e])||(t[e]=new Map);var r=null===t||void 0===t?void 0:t[e];n.forEach((function(t){r.set(t.type,t)}))})),t}e.forEach((function(t){n(t.nodes,t.definition)}))}return function(){return[t,e]}}(function(){function t(t){var e=t.lf;e.definition={},e.useDefinition=Vn(e.definition);var n=Un(e.useDefinition(),2),r=(n[0],n[1]);r(Yn),qt(e),se(e),Wn(e),zn(e),e.setDefaultEdgeType("bpmn:sequenceFlow")}t.pluginName="BpmnElementsPlugin"})();function Kn(t,e,n){var r=-1,o=t.length;e<0&&(e=-e>o?0:o+e),n=n>o?o:n,n<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;var i=Array(o);while(++r<o)i[r]=t[r+e];return i}var qn=Kn,$n=n(50439),Jn=n(25742),Qn=1/0,tr=17976931348623157e292;function er(t){if(!t)return 0===t?t:0;if(t=(0,Jn.Z)(t),t===Qn||t===-Qn){var e=t<0?-1:1;return e*tr}return t===t?t:0}var nr=er;function rr(t){var e=nr(t),n=e%1;return e===e?n?e-n:e:0}var or=rr,ir=Math.ceil,ar=Math.max;function ur(t,e,n){e=(n?(0,$n.Z)(t,e,n):void 0===e)?1:ar(or(e),0);var r=null==t?0:t.length;if(!r||e<1)return[];var o=0,i=0,a=Array(ir(r/e));while(o<r)a[i++]=qn(t,o,o+=e);return a}var cr=ur;function sr(t){var e=-1,n=null==t?0:t.length,r=0,o=[];while(++e<n){var i=t[e];i&&(o[r++]=i)}return o}var lr=sr,fr=n(58694),pr=n(10626),dr=n(87215),hr=n(27771);function yr(){var t=arguments.length;if(!t)return[];var e=Array(t-1),n=arguments[0],r=t;while(r--)e[r-1]=arguments[r];return(0,fr.Z)((0,hr.Z)(n)?(0,dr.Z)(n):[n],(0,pr.Z)(e,1))}var vr=yr,gr=n(63001),br=n(39370),mr=n(22783),_r=n(74073),Or=n(21162),wr=n(59548),xr=200;function Er(t,e,n,r){var o=-1,i=br.Z,a=!0,u=t.length,c=[],s=e.length;if(!u)return c;n&&(e=(0,_r.Z)(e,(0,Or.Z)(n))),r?(i=mr.Z,a=!1):e.length>=xr&&(i=wr.Z,a=!1,e=new gr.Z(e));t:while(++o<u){var l=t[o],f=null==n?l:n(l);if(l=r||0!==l?l:0,a&&f===f){var p=s;while(p--)if(e[p]===f)continue t;c.push(l)}else i(e,f,r)||c.push(l)}return c}var jr=Er,Sr=n(69581),Pr=n(836),Mr=(0,Sr.Z)((function(t,e){return(0,Pr.Z)(t)?jr(t,(0,pr.Z)(e,1,Pr.Z,!0)):[]})),kr=Mr,Ar=n(69162);function Tr(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}var Nr=Tr,Dr=(0,Sr.Z)((function(t,e){var n=Nr(e);return(0,Pr.Z)(n)&&(n=void 0),(0,Pr.Z)(t)?jr(t,(0,pr.Z)(e,1,Pr.Z,!0),(0,Ar.Z)(n,2)):[]})),Cr=Dr,Ir=(0,Sr.Z)((function(t,e){var n=Nr(e);return(0,Pr.Z)(n)&&(n=void 0),(0,Pr.Z)(t)?jr(t,(0,pr.Z)(e,1,Pr.Z,!0),void 0,n):[]})),Rr=Ir;function Lr(t,e,n){var r=null==t?0:t.length;return r?(e=n||void 0===e?1:or(e),qn(t,e<0?0:e,r)):[]}var Zr=Lr;function Br(t,e,n){var r=null==t?0:t.length;return r?(e=n||void 0===e?1:or(e),e=r-e,qn(t,0,e<0?0:e)):[]}var zr=Br;function Fr(t,e,n,r){var o=t.length,i=r?o:-1;while((r?i--:++i<o)&&e(t[i],i,t));return n?qn(t,r?0:i,r?i+1:o):qn(t,r?i+1:0,r?o:i)}var Hr=Fr;function Gr(t,e){return t&&t.length?Hr(t,(0,Ar.Z)(e,3),!0,!0):[]}var Xr=Gr;function Wr(t,e){return t&&t.length?Hr(t,(0,Ar.Z)(e,3),!0):[]}var Ur=Wr;function Yr(t,e,n){return t===t&&(void 0!==n&&(t=t<=n?t:n),void 0!==e&&(t=t>=e?t:e)),t}var Vr=Yr,Kr=4294967295;function qr(t){return t?Vr(or(t),0,Kr):0}var $r=qr;function Jr(t,e,n,r){var o=t.length;n=or(n),n<0&&(n=-n>o?0:o+n),r=void 0===r||r>o?o:or(r),r<0&&(r+=o),r=n>r?0:$r(r);while(n<r)t[n++]=e;return t}var Qr=Jr;function to(t,e,n,r){var o=null==t?0:t.length;return o?(n&&"number"!=typeof n&&(0,$n.Z)(t,e,n)&&(n=0,r=o),Qr(t,e,n,r)):[]}var eo=to,no=n(21692),ro=Math.max;function oo(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=null==n?0:or(n);return o<0&&(o=ro(r+o,0)),(0,no.Z)(t,(0,Ar.Z)(e,3),o)}var io=oo,ao=Math.max,uo=Math.min;function co(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=r-1;return void 0!==n&&(o=or(n),o=n<0?ao(r+o,0):uo(o,r-1)),(0,no.Z)(t,(0,Ar.Z)(e,3),o,!0)}var so=co;function lo(t){return t&&t.length?t[0]:void 0}var fo=lo,po=n(27961),ho=n(99215);function yo(t,e){var n=null==t?0:t.length;return n?(e=void 0===e?1:or(e),(0,pr.Z)(t,e)):[]}var vo=yo,go=n(15937),bo=n(8111),mo=Math.max;function _o(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=null==n?0:or(n);return o<0&&(o=mo(r+o,0)),(0,bo.Z)(t,e,o)}var Oo=_o;function wo(t){var e=null==t?0:t.length;return e?qn(t,0,-1):[]}var xo=wo,Eo=Math.min;function jo(t,e,n){var r=n?mr.Z:br.Z,o=t[0].length,i=t.length,a=i,u=Array(i),c=1/0,s=[];while(a--){var l=t[a];a&&e&&(l=(0,_r.Z)(l,(0,Or.Z)(e))),c=Eo(l.length,c),u[a]=!n&&(e||o>=120&&l.length>=120)?new gr.Z(a&&l):void 0}l=t[0];var f=-1,p=u[0];t:while(++f<o&&s.length<c){var d=l[f],h=e?e(d):d;if(d=n||0!==d?d:0,!(p?(0,wr.Z)(p,h):r(s,h,n))){a=i;while(--a){var y=u[a];if(!(y?(0,wr.Z)(y,h):r(t[a],h,n)))continue t}p&&p.push(h),s.push(d)}}return s}var So=jo;function Po(t){return(0,Pr.Z)(t)?t:[]}var Mo=Po,ko=(0,Sr.Z)((function(t){var e=(0,_r.Z)(t,Mo);return e.length&&e[0]===t[0]?So(e):[]})),Ao=ko,To=(0,Sr.Z)((function(t){var e=Nr(t),n=(0,_r.Z)(t,Mo);return e===Nr(n)?e=void 0:n.pop(),n.length&&n[0]===t[0]?So(n,(0,Ar.Z)(e,2)):[]})),No=To,Do=(0,Sr.Z)((function(t){var e=Nr(t),n=(0,_r.Z)(t,Mo);return e="function"==typeof e?e:void 0,e&&n.pop(),n.length&&n[0]===t[0]?So(n,void 0,e):[]})),Co=Do,Io=Array.prototype,Ro=Io.join;function Lo(t,e){return null==t?"":Ro.call(t,e)}var Zo=Lo,Bo=n(19137);function zo(t,e,n){var r=n+1;while(r--)if(t[r]===e)return r;return r}var Fo=zo,Ho=Math.max,Go=Math.min;function Xo(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=r;return void 0!==n&&(o=or(n),o=o<0?Ho(r+o,0):Go(o,r-1)),e===e?Fo(t,e,o):(0,no.Z)(t,Bo.Z,o,!0)}var Wo=Xo,Uo=n(56009);function Yo(t,e){var n=t.length;if(n)return e+=e<0?n:0,(0,Uo.Z)(e,n)?t[e]:void 0}var Vo=Yo;function Ko(t,e){return t&&t.length?Vo(t,or(e)):void 0}var qo=Ko;function $o(t,e,n,r){var o=n-1,i=t.length;while(++o<i)if(r(t[o],e))return o;return-1}var Jo=$o,Qo=Array.prototype,ti=Qo.splice;function ei(t,e,n,r){var o=r?Jo:bo.Z,i=-1,a=e.length,u=t;t===e&&(e=(0,dr.Z)(e)),n&&(u=(0,_r.Z)(t,(0,Or.Z)(n)));while(++i<a){var c=0,s=e[i],l=n?n(s):s;while((c=o(u,l,c,r))>-1)u!==t&&ti.call(u,c,1),ti.call(t,c,1)}return t}var ni=ei;function ri(t,e){return t&&t.length&&e&&e.length?ni(t,e):t}var oi=ri,ii=(0,Sr.Z)(oi),ai=ii;function ui(t,e,n){return t&&t.length&&e&&e.length?ni(t,e,(0,Ar.Z)(n,2)):t}var ci=ui;function si(t,e,n){return t&&t.length&&e&&e.length?ni(t,e,void 0,n):t}var li=si,fi=n(16423);function pi(t,e){var n=-1,r=e.length,o=Array(r),i=null==t;while(++n<r)o[n]=i?void 0:(0,fi.Z)(t,e[n]);return o}var di=pi,hi=n(27449),yi=n(13317);function vi(t,e){return e.length<2?t:(0,yi.Z)(t,qn(e,0,-1))}var gi=vi,bi=n(62281);function mi(t,e){return e=(0,hi.Z)(e,t),t=gi(t,e),null==t||delete t[(0,bi.Z)(Nr(e))]}var _i=mi,Oi=Array.prototype,wi=Oi.splice;function xi(t,e){var n=t?e.length:0,r=n-1;while(n--){var o=e[n];if(n==r||o!==i){var i=o;(0,Uo.Z)(o)?wi.call(t,o,1):_i(t,o)}}return t}var Ei=xi,ji=n(72714);function Si(t,e){if(t!==e){var n=void 0!==t,r=null===t,o=t===t,i=(0,ji.Z)(t),a=void 0!==e,u=null===e,c=e===e,s=(0,ji.Z)(e);if(!u&&!s&&!i&&t>e||i&&a&&c&&!u&&!s||r&&a&&c||!n&&c||!o)return 1;if(!r&&!i&&!s&&t<e||s&&n&&o&&!r&&!i||u&&n&&o||!a&&o||!c)return-1}return 0}var Pi=Si,Mi=n(50704),ki=(0,Mi.Z)((function(t,e){var n=null==t?0:t.length,r=di(t,e);return Ei(t,(0,_r.Z)(e,(function(t){return(0,Uo.Z)(t,n)?+t:t})).sort(Pi)),r})),Ai=ki;function Ti(t,e){var n=[];if(!t||!t.length)return n;var r=-1,o=[],i=t.length;e=(0,Ar.Z)(e,3);while(++r<i){var a=t[r];e(a,r,t)&&(n.push(a),o.push(r))}return Ei(t,o),n}var Ni=Ti,Di=Array.prototype,Ci=Di.reverse;function Ii(t){return null==t?t:Ci.call(t)}var Ri=Ii;function Li(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&(0,$n.Z)(t,e,n)?(e=0,n=r):(e=null==e?0:or(e),n=void 0===n?r:or(n)),qn(t,e,n)):[]}var Zi=Li,Bi=4294967295,zi=Bi-1,Fi=Math.floor,Hi=Math.min;function Gi(t,e,n,r){var o=0,i=null==t?0:t.length;if(0===i)return 0;e=n(e);var a=e!==e,u=null===e,c=(0,ji.Z)(e),s=void 0===e;while(o<i){var l=Fi((o+i)/2),f=n(t[l]),p=void 0!==f,d=null===f,h=f===f,y=(0,ji.Z)(f);if(a)var v=r||h;else v=s?h&&(r||p):u?h&&p&&(r||!d):c?h&&p&&!d&&(r||!y):!d&&!y&&(r?f<=e:f<e);v?o=l+1:i=l}return Hi(i,zi)}var Xi=Gi,Wi=n(69203),Ui=4294967295,Yi=Ui>>>1;function Vi(t,e,n){var r=0,o=null==t?r:t.length;if("number"==typeof e&&e===e&&o<=Yi){while(r<o){var i=r+o>>>1,a=t[i];null!==a&&!(0,ji.Z)(a)&&(n?a<=e:a<e)?r=i+1:o=i}return o}return Xi(t,e,Wi.Z,n)}var Ki=Vi;function qi(t,e){return Ki(t,e)}var $i=qi;function Ji(t,e,n){return Xi(t,e,(0,Ar.Z)(n,2))}var Qi=Ji,ta=n(79651);function ea(t,e){var n=null==t?0:t.length;if(n){var r=Ki(t,e);if(r<n&&(0,ta.Z)(t[r],e))return r}return-1}var na=ea;function ra(t,e){return Ki(t,e,!0)}var oa=ra;function ia(t,e,n){return Xi(t,e,(0,Ar.Z)(n,2),!0)}var aa=ia;function ua(t,e){var n=null==t?0:t.length;if(n){var r=Ki(t,e,!0)-1;if((0,ta.Z)(t[r],e))return r}return-1}var ca=ua;function sa(t,e){var n=-1,r=t.length,o=0,i=[];while(++n<r){var a=t[n],u=e?e(a):a;if(!n||!(0,ta.Z)(u,c)){var c=u;i[o++]=0===a?0:a}}return i}var la=sa;function fa(t){return t&&t.length?la(t):[]}var pa=fa;function da(t,e){return t&&t.length?la(t,(0,Ar.Z)(e,2)):[]}var ha=da;function ya(t){var e=null==t?0:t.length;return e?qn(t,1,e):[]}var va=ya;function ga(t,e,n){return t&&t.length?(e=n||void 0===e?1:or(e),qn(t,0,e<0?0:e)):[]}var ba=ga;function ma(t,e,n){var r=null==t?0:t.length;return r?(e=n||void 0===e?1:or(e),e=r-e,qn(t,e<0?0:e,r)):[]}var _a=ma;function Oa(t,e){return t&&t.length?Hr(t,(0,Ar.Z)(e,3),!1,!0):[]}var wa=Oa;function xa(t,e){return t&&t.length?Hr(t,(0,Ar.Z)(e,3)):[]}var Ea=xa,ja=n(34468),Sa=n(69958),Pa=(0,Sr.Z)((function(t){var e=Nr(t);return(0,Pr.Z)(e)&&(e=void 0),(0,Sa.Z)((0,pr.Z)(t,1,Pr.Z,!0),(0,Ar.Z)(e,2))})),Ma=Pa,ka=(0,Sr.Z)((function(t){var e=Nr(t);return e="function"==typeof e?e:void 0,(0,Sa.Z)((0,pr.Z)(t,1,Pr.Z,!0),void 0,e)})),Aa=ka;function Ta(t){return t&&t.length?(0,Sa.Z)(t):[]}var Na=Ta;function Da(t,e){return t&&t.length?(0,Sa.Z)(t,(0,Ar.Z)(e,2)):[]}var Ca=Da;function Ia(t,e){return e="function"==typeof e?e:void 0,t&&t.length?(0,Sa.Z)(t,void 0,e):[]}var Ra=Ia,La=n(68774),Za=n(54193),Ba=n(52889),za=Math.max;function Fa(t){if(!t||!t.length)return[];var e=0;return t=(0,La.Z)(t,(function(t){if((0,Pr.Z)(t))return e=za(t.length,e),!0})),(0,Ba.Z)(e,(function(e){return(0,_r.Z)(t,(0,Za.Z)(e))}))}var Ha=Fa,Ga=n(18069);function Xa(t,e){if(!t||!t.length)return[];var n=Ha(t);return null==e?n:(0,_r.Z)(n,(function(t){return(0,Ga.Z)(e,void 0,t)}))}var Wa=Xa,Ua=(0,Sr.Z)((function(t,e){return(0,Pr.Z)(t)?jr(t,e):[]})),Ya=Ua;function Va(t,e,n){var r=t.length;if(r<2)return r?(0,Sa.Z)(t[0]):[];var o=-1,i=Array(r);while(++o<r){var a=t[o],u=-1;while(++u<r)u!=o&&(i[o]=jr(i[o]||a,t[u],e,n))}return(0,Sa.Z)((0,pr.Z)(i,1),e,n)}var Ka=Va,qa=(0,Sr.Z)((function(t){return Ka((0,La.Z)(t,Pr.Z))})),$a=qa,Ja=(0,Sr.Z)((function(t){var e=Nr(t);return(0,Pr.Z)(e)&&(e=void 0),Ka((0,La.Z)(t,Pr.Z),(0,Ar.Z)(e,2))})),Qa=Ja,tu=(0,Sr.Z)((function(t){var e=Nr(t);return e="function"==typeof e?e:void 0,Ka((0,La.Z)(t,Pr.Z),void 0,e)})),eu=tu,nu=(0,Sr.Z)(Ha),ru=nu,ou=n(72954);function iu(t,e,n){var r=-1,o=t.length,i=e.length,a={};while(++r<o){var u=r<i?e[r]:void 0;n(a,t[r],u)}return a}var au=iu;function uu(t,e){return au(t||[],e||[],ou.Z)}var cu=uu,su=n(28472);function lu(t,e){return au(t||[],e||[],su.Z)}var fu=lu,pu=(0,Sr.Z)((function(t){var e=t.length,n=e>1?t[e-1]:void 0;return n="function"==typeof n?(t.pop(),n):void 0,Wa(t,n)})),du=pu,hu={chunk:cr,compact:lr,concat:vr,difference:kr,differenceBy:Cr,differenceWith:Rr,drop:Zr,dropRight:zr,dropRightWhile:Xr,dropWhile:Ur,fill:eo,findIndex:io,findLastIndex:so,first:fo,flatten:po.Z,flattenDeep:ho.Z,flattenDepth:vo,fromPairs:go.Z,head:fo,indexOf:Oo,initial:xo,intersection:Ao,intersectionBy:No,intersectionWith:Co,join:Zo,last:Nr,lastIndexOf:Wo,nth:qo,pull:ai,pullAll:oi,pullAllBy:ci,pullAllWith:li,pullAt:Ai,remove:Ni,reverse:Ri,slice:Zi,sortedIndex:$i,sortedIndexBy:Qi,sortedIndexOf:na,sortedLastIndex:oa,sortedLastIndexBy:aa,sortedLastIndexOf:ca,sortedUniq:pa,sortedUniqBy:ha,tail:va,take:ba,takeRight:_a,takeRightWhile:wa,takeWhile:Ea,union:ja.Z,unionBy:Ma,unionWith:Aa,uniq:Na,uniqBy:Ca,uniqWith:Ra,unzip:Ha,unzipWith:Wa,without:Ya,xor:$a,xorBy:Qa,xorWith:eu,zip:ru,zipObject:cu,zipObjectDeep:fu,zipWith:du},yu=n(74752);function vu(t,e,n,r){var o=-1,i=null==t?0:t.length;while(++o<i){var a=t[o];e(r,a,n(a),t)}return r}var gu=vu,bu=n(91507);function mu(t,e,n,r){return(0,bu.Z)(t,(function(t,o,i){e(r,t,n(t),i)})),r}var _u=mu;function Ou(t,e){return function(n,r){var o=(0,hr.Z)(n)?gu:_u,i=e?e():{};return o(n,t,(0,Ar.Z)(r,2),i)}}var wu=Ou,xu=Object.prototype,Eu=xu.hasOwnProperty,ju=wu((function(t,e,n){Eu.call(t,n)?++t[n]:(0,yu.Z)(t,n,1)})),Su=ju,Pu=n(76579);function Mu(t){return"function"==typeof t?t:Wi.Z}var ku=Mu;function Au(t,e){var n=(0,hr.Z)(t)?Pu.Z:bu.Z;return n(t,ku(e))}var Tu=Au;function Nu(t,e){var n=null==t?0:t.length;while(n--)if(!1===e(t[n],n,t))break;return t}var Du=Nu,Cu=n(28419),Iu=(0,Cu.Z)(!0),Ru=Iu,Lu=n(17179);function Zu(t,e){return t&&Ru(t,e,Lu.Z)}var Bu=Zu,zu=n(54033),Fu=(0,zu.Z)(Bu,!0),Hu=Fu;function Gu(t,e){var n=(0,hr.Z)(t)?Du:Hu;return n(t,ku(e))}var Xu=Gu;function Wu(t,e){var n=-1,r=null==t?0:t.length;while(++n<r)if(!e(t[n],n,t))return!1;return!0}var Uu=Wu;function Yu(t,e){var n=!0;return(0,bu.Z)(t,(function(t,r,o){return n=!!e(t,r,o),n})),n}var Vu=Yu;function Ku(t,e,n){var r=(0,hr.Z)(t)?Uu:Vu;return n&&(0,$n.Z)(t,e,n)&&(e=void 0),r(t,(0,Ar.Z)(e,3))}var qu=Ku;function $u(t,e){var n=[];return(0,bu.Z)(t,(function(t,r,o){e(t,r,o)&&n.push(t)})),n}var Ju=$u;function Qu(t,e){var n=(0,hr.Z)(t)?La.Z:Ju;return n(t,(0,Ar.Z)(e,3))}var tc=Qu,ec=n(50585);function nc(t){return function(e,n,r){var o=Object(e);if(!(0,ec.Z)(e)){var i=(0,Ar.Z)(n,3);e=(0,Lu.Z)(e),n=function(t){return i(o[t],t,o)}}var a=t(e,n,r);return a>-1?o[i?e[a]:a]:void 0}}var rc=nc,oc=rc(io),ic=oc,ac=rc(so),uc=ac,cc=n(16805),sc=n(43836),lc=1/0;function fc(t,e){return(0,pr.Z)((0,sc.Z)(t,e),lc)}var pc=fc;function dc(t,e,n){return n=void 0===n?1:or(n),(0,pr.Z)((0,sc.Z)(t,e),n)}var hc=dc,yc=Object.prototype,vc=yc.hasOwnProperty,gc=wu((function(t,e,n){vc.call(t,n)?t[n].push(e):(0,yu.Z)(t,n,[e])})),bc=gc,mc=n(93589),_c=n(18533),Oc="[object String]";function wc(t){return"string"==typeof t||!(0,hr.Z)(t)&&(0,_c.Z)(t)&&(0,mc.Z)(t)==Oc}var xc=wc;function Ec(t,e){return(0,_r.Z)(e,(function(e){return t[e]}))}var jc=Ec;function Sc(t){return null==t?[]:jc(t,(0,Lu.Z)(t))}var Pc=Sc,Mc=Math.max;function kc(t,e,n,r){t=(0,ec.Z)(t)?t:Pc(t),n=n&&!r?or(n):0;var o=t.length;return n<0&&(n=Mc(o+n,0)),xc(t)?n<=o&&t.indexOf(e,n)>-1:!!o&&(0,bo.Z)(t,e,n)>-1}var Ac=kc;function Tc(t,e,n){e=(0,hi.Z)(e,t),t=gi(t,e);var r=null==t?t:t[(0,bi.Z)(Nr(e))];return null==r?void 0:(0,Ga.Z)(r,t,n)}var Nc=Tc,Dc=(0,Sr.Z)((function(t,e,n){var r=-1,o="function"==typeof e,i=(0,ec.Z)(t)?Array(t.length):[];return(0,bu.Z)(t,(function(t){i[++r]=o?(0,Ga.Z)(e,t,n):Nc(t,e,n)})),i})),Cc=Dc,Ic=wu((function(t,e,n){(0,yu.Z)(t,n,e)})),Rc=Ic,Lc=n(21018);function Zc(t,e){var n=t.length;t.sort(e);while(n--)t[n]=t[n].value;return t}var Bc=Zc;function zc(t,e,n){var r=-1,o=t.criteria,i=e.criteria,a=o.length,u=n.length;while(++r<a){var c=Pi(o[r],i[r]);if(c){if(r>=u)return c;var s=n[r];return c*("desc"==s?-1:1)}}return t.index-e.index}var Fc=zc;function Hc(t,e,n){e=e.length?(0,_r.Z)(e,(function(t){return(0,hr.Z)(t)?function(e){return(0,yi.Z)(e,1===t.length?t[0]:t)}:t})):[Wi.Z];var r=-1;e=(0,_r.Z)(e,(0,Or.Z)(Ar.Z));var o=(0,Lc.Z)(t,(function(t,n,o){var i=(0,_r.Z)(e,(function(e){return e(t)}));return{criteria:i,index:++r,value:t}}));return Bc(o,(function(t,e){return Fc(t,e,n)}))}var Gc=Hc;function Xc(t,e,n,r){return null==t?[]:((0,hr.Z)(e)||(e=null==e?[]:[e]),n=r?void 0:n,(0,hr.Z)(n)||(n=null==n?[]:[n]),Gc(t,e,n))}var Wc=Xc,Uc=wu((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]})),Yc=Uc;function Vc(t,e,n,r){var o=-1,i=null==t?0:t.length;r&&i&&(n=t[++o]);while(++o<i)n=e(n,t[o],o,t);return n}var Kc=Vc;function qc(t,e,n,r,o){return o(t,(function(t,o,i){n=r?(r=!1,t):e(n,t,o,i)})),n}var $c=qc;function Jc(t,e,n){var r=(0,hr.Z)(t)?Kc:$c,o=arguments.length<3;return r(t,(0,Ar.Z)(e,4),n,o,bu.Z)}var Qc=Jc;function ts(t,e,n,r){var o=null==t?0:t.length;r&&o&&(n=t[--o]);while(o--)n=e(n,t[o],o,t);return n}var es=ts;function ns(t,e,n){var r=(0,hr.Z)(t)?es:$c,o=arguments.length<3;return r(t,(0,Ar.Z)(e,4),n,o,Hu)}var rs=ns,os="Expected a function";function is(t){if("function"!=typeof t)throw new TypeError(os);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}var as=is;function us(t,e){var n=(0,hr.Z)(t)?La.Z:Ju;return n(t,as((0,Ar.Z)(e,3)))}var cs=us,ss=Math.floor,ls=Math.random;function fs(t,e){return t+ss(ls()*(e-t+1))}var ps=fs;function ds(t){var e=t.length;return e?t[ps(0,e-1)]:void 0}var hs=ds;function ys(t){return hs(Pc(t))}var vs=ys;function gs(t){var e=(0,hr.Z)(t)?hs:vs;return e(t)}var bs=gs;function ms(t,e){var n=-1,r=t.length,o=r-1;e=void 0===e?r:e;while(++n<e){var i=ps(n,o),a=t[i];t[i]=t[n],t[n]=a}return t.length=e,t}var _s=ms;function Os(t,e){return _s((0,dr.Z)(t),Vr(e,0,t.length))}var ws=Os;function xs(t,e){var n=Pc(t);return _s(n,Vr(e,0,n.length))}var Es=xs;function js(t,e,n){e=(n?(0,$n.Z)(t,e,n):void 0===e)?1:or(e);var r=(0,hr.Z)(t)?ws:Es;return r(t,e)}var Ss=js;function Ps(t){return _s((0,dr.Z)(t))}var Ms=Ps;function ks(t){return _s(Pc(t))}var As=ks;function Ts(t){var e=(0,hr.Z)(t)?Ms:As;return e(t)}var Ns=Ts,Ds=n(39473),Cs=n(68411),Is=(0,Za.Z)("length"),Rs=Is,Ls="\\ud800-\\udfff",Zs="\\u0300-\\u036f",Bs="\\ufe20-\\ufe2f",zs="\\u20d0-\\u20ff",Fs=Zs+Bs+zs,Hs="\\ufe0e\\ufe0f",Gs="\\u200d",Xs=RegExp("["+Gs+Ls+Fs+Hs+"]");function Ws(t){return Xs.test(t)}var Us=Ws,Ys="\\ud800-\\udfff",Vs="\\u0300-\\u036f",Ks="\\ufe20-\\ufe2f",qs="\\u20d0-\\u20ff",$s=Vs+Ks+qs,Js="\\ufe0e\\ufe0f",Qs="["+Ys+"]",tl="["+$s+"]",el="\\ud83c[\\udffb-\\udfff]",nl="(?:"+tl+"|"+el+")",rl="[^"+Ys+"]",ol="(?:\\ud83c[\\udde6-\\uddff]){2}",il="[\\ud800-\\udbff][\\udc00-\\udfff]",al="\\u200d",ul=nl+"?",cl="["+Js+"]?",sl="(?:"+al+"(?:"+[rl,ol,il].join("|")+")"+cl+ul+")*",ll=cl+ul+sl,fl="(?:"+[rl+tl+"?",tl,ol,il,Qs].join("|")+")",pl=RegExp(el+"(?="+el+")|"+fl+ll,"g");function dl(t){var e=pl.lastIndex=0;while(pl.test(t))++e;return e}var hl=dl;function yl(t){return Us(t)?hl(t):Rs(t)}var vl=yl,gl="[object Map]",bl="[object Set]";function ml(t){if(null==t)return 0;if((0,ec.Z)(t))return xc(t)?vl(t):t.length;var e=(0,Cs.Z)(t);return e==gl||e==bl?t.size:(0,Ds.Z)(t).length}var _l=ml,Ol=n(2338);function wl(t,e){var n;return(0,bu.Z)(t,(function(t,r,o){return n=e(t,r,o),!n})),!!n}var xl=wl;function El(t,e,n){var r=(0,hr.Z)(t)?Ol.Z:xl;return n&&(0,$n.Z)(t,e,n)&&(e=void 0),r(t,(0,Ar.Z)(e,3))}var jl=El,Sl=(0,Sr.Z)((function(t,e){if(null==t)return[];var n=e.length;return n>1&&(0,$n.Z)(t,e[0],e[1])?e=[]:n>2&&(0,$n.Z)(e[0],e[1],e[2])&&(e=[e[0]]),Gc(t,(0,pr.Z)(e,1),[])})),Pl=Sl,Ml={countBy:Su,each:Tu,eachRight:Xu,every:qu,filter:tc,find:ic,findLast:uc,flatMap:cc.Z,flatMapDeep:pc,flatMapDepth:hc,forEach:Tu,forEachRight:Xu,groupBy:bc,includes:Ac,invokeMap:Cc,keyBy:Rc,map:sc.Z,orderBy:Wc,partition:Yc,reduce:Qc,reduceRight:rs,reject:cs,sample:bs,sampleSize:Ss,shuffle:Ns,size:_l,some:jl,sortBy:Pl},kl=n(25222),Al={now:kl.Z},Tl="Expected a function";function Nl(t,e){if("function"!=typeof e)throw new TypeError(Tl);return t=or(t),function(){if(--t<1)return e.apply(this,arguments)}}var Dl=Nl,Cl=n(13840),Il=Cl.Z&&new Cl.Z,Rl=Il,Ll=Rl?function(t,e){return Rl.set(t,e),t}:Wi.Z,Zl=Ll,Bl=n(74705),zl=n(77226);function Fl(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=(0,Bl.Z)(t.prototype),r=t.apply(n,e);return(0,zl.Z)(r)?r:n}}var Hl=Fl,Gl=n(66092),Xl=1;function Wl(t,e,n){var r=e&Xl,o=Hl(t);function i(){var e=this&&this!==Gl.Z&&this instanceof i?o:t;return e.apply(r?n:this,arguments)}return i}var Ul=Wl,Yl=Math.max;function Vl(t,e,n,r){var o=-1,i=t.length,a=n.length,u=-1,c=e.length,s=Yl(i-a,0),l=Array(c+s),f=!r;while(++u<c)l[u]=e[u];while(++o<a)(f||o<i)&&(l[n[o]]=t[o]);while(s--)l[u++]=t[o++];return l}var Kl=Vl,ql=Math.max;function $l(t,e,n,r){var o=-1,i=t.length,a=-1,u=n.length,c=-1,s=e.length,l=ql(i-u,0),f=Array(l+s),p=!r;while(++o<l)f[o]=t[o];var d=o;while(++c<s)f[d+c]=e[c];while(++a<u)(p||o<i)&&(f[d+n[a]]=t[o++]);return f}var Jl=$l;function Ql(t,e){var n=t.length,r=0;while(n--)t[n]===e&&++r;return r}var tf=Ql;function ef(){}var nf=ef,rf=4294967295;function of(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=rf,this.__views__=[]}of.prototype=(0,Bl.Z)(nf.prototype),of.prototype.constructor=of;var af=of,uf=n(42054),cf=Rl?function(t){return Rl.get(t)}:uf.Z,sf=cf,lf={},ff=lf,pf=Object.prototype,df=pf.hasOwnProperty;function hf(t){var e=t.name+"",n=ff[e],r=df.call(ff,e)?n.length:0;while(r--){var o=n[r],i=o.func;if(null==i||i==t)return o.name}return e}var yf=hf;function vf(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}vf.prototype=(0,Bl.Z)(nf.prototype),vf.prototype.constructor=vf;var gf=vf;function bf(t){if(t instanceof af)return t.clone();var e=new gf(t.__wrapped__,t.__chain__);return e.__actions__=(0,dr.Z)(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var mf=bf,_f=Object.prototype,Of=_f.hasOwnProperty;function wf(t){if((0,_c.Z)(t)&&!(0,hr.Z)(t)&&!(t instanceof af)){if(t instanceof gf)return t;if(Of.call(t,"__wrapped__"))return mf(t)}return new gf(t)}wf.prototype=nf.prototype,wf.prototype.constructor=wf;var xf=wf;function Ef(t){var e=yf(t),n=xf[e];if("function"!=typeof n||!(e in af.prototype))return!1;if(t===n)return!0;var r=sf(n);return!!r&&t===r[0]}var jf=Ef,Sf=n(87581),Pf=(0,Sf.Z)(Zl),Mf=Pf,kf=/\{\n\/\* \[wrapped with (.+)\] \*/,Af=/,? & /;function Tf(t){var e=t.match(kf);return e?e[1].split(Af):[]}var Nf=Tf,Df=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function Cf(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(Df,"{\n/* [wrapped with "+e+"] */\n")}var If=Cf,Rf=n(90734),Lf=1,Zf=2,Bf=8,zf=16,Ff=32,Hf=64,Gf=128,Xf=256,Wf=512,Uf=[["ary",Gf],["bind",Lf],["bindKey",Zf],["curry",Bf],["curryRight",zf],["flip",Wf],["partial",Ff],["partialRight",Hf],["rearg",Xf]];function Yf(t,e){return(0,Pu.Z)(Uf,(function(n){var r="_."+n[0];e&n[1]&&!(0,br.Z)(t,r)&&t.push(r)})),t.sort()}var Vf=Yf;function Kf(t,e,n){var r=e+"";return(0,Rf.Z)(t,If(r,Vf(Nf(r),n)))}var qf=Kf,$f=1,Jf=2,Qf=4,tp=8,ep=32,np=64;function rp(t,e,n,r,o,i,a,u,c,s){var l=e&tp,f=l?a:void 0,p=l?void 0:a,d=l?i:void 0,h=l?void 0:i;e|=l?ep:np,e&=~(l?np:ep),e&Qf||(e&=~($f|Jf));var y=[t,e,o,d,f,h,p,u,c,s],v=n.apply(void 0,y);return jf(t)&&Mf(v,y),v.placeholder=r,qf(v,t,e)}var op=rp;function ip(t){var e=t;return e.placeholder}var ap=ip,up=Math.min;function cp(t,e){var n=t.length,r=up(e.length,n),o=(0,dr.Z)(t);while(r--){var i=e[r];t[r]=(0,Uo.Z)(i,n)?o[i]:void 0}return t}var sp=cp,lp="__lodash_placeholder__";function fp(t,e){var n=-1,r=t.length,o=0,i=[];while(++n<r){var a=t[n];a!==e&&a!==lp||(t[n]=lp,i[o++]=n)}return i}var pp=fp,dp=1,hp=2,yp=8,vp=16,gp=128,bp=512;function mp(t,e,n,r,o,i,a,u,c,s){var l=e&gp,f=e&dp,p=e&hp,d=e&(yp|vp),h=e&bp,y=p?void 0:Hl(t);function v(){var g=arguments.length,b=Array(g),m=g;while(m--)b[m]=arguments[m];if(d)var _=ap(v),O=tf(b,_);if(r&&(b=Kl(b,r,o,d)),i&&(b=Jl(b,i,a,d)),g-=O,d&&g<s){var w=pp(b,_);return op(t,e,mp,v.placeholder,n,b,w,u,c,s-g)}var x=f?n:this,E=p?x[t]:t;return g=b.length,u?b=sp(b,u):h&&g>1&&b.reverse(),l&&c<g&&(b.length=c),this&&this!==Gl.Z&&this instanceof v&&(E=y||Hl(E)),E.apply(x,b)}return v}var _p=mp;function Op(t,e,n){var r=Hl(t);function o(){var i=arguments.length,a=Array(i),u=i,c=ap(o);while(u--)a[u]=arguments[u];var s=i<3&&a[0]!==c&&a[i-1]!==c?[]:pp(a,c);if(i-=s.length,i<n)return op(t,e,_p,o.placeholder,void 0,a,s,void 0,void 0,n-i);var l=this&&this!==Gl.Z&&this instanceof o?r:t;return(0,Ga.Z)(l,this,a)}return o}var wp=Op,xp=1;function Ep(t,e,n,r){var o=e&xp,i=Hl(t);function a(){var e=-1,u=arguments.length,c=-1,s=r.length,l=Array(s+u),f=this&&this!==Gl.Z&&this instanceof a?i:t;while(++c<s)l[c]=r[c];while(u--)l[c++]=arguments[++e];return(0,Ga.Z)(f,o?n:this,l)}return a}var jp=Ep,Sp="__lodash_placeholder__",Pp=1,Mp=2,kp=4,Ap=8,Tp=128,Np=256,Dp=Math.min;function Cp(t,e){var n=t[1],r=e[1],o=n|r,i=o<(Pp|Mp|Tp),a=r==Tp&&n==Ap||r==Tp&&n==Np&&t[7].length<=e[8]||r==(Tp|Np)&&e[7].length<=e[8]&&n==Ap;if(!i&&!a)return t;r&Pp&&(t[2]=e[2],o|=n&Pp?0:kp);var u=e[3];if(u){var c=t[3];t[3]=c?Kl(c,u,e[4]):u,t[4]=c?pp(t[3],Sp):e[4]}return u=e[5],u&&(c=t[5],t[5]=c?Jl(c,u,e[6]):u,t[6]=c?pp(t[5],Sp):e[6]),u=e[7],u&&(t[7]=u),r&Tp&&(t[8]=null==t[8]?e[8]:Dp(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=o,t}var Ip=Cp,Rp="Expected a function",Lp=1,Zp=2,Bp=8,zp=16,Fp=32,Hp=64,Gp=Math.max;function Xp(t,e,n,r,o,i,a,u){var c=e&Zp;if(!c&&"function"!=typeof t)throw new TypeError(Rp);var s=r?r.length:0;if(s||(e&=~(Fp|Hp),r=o=void 0),a=void 0===a?a:Gp(or(a),0),u=void 0===u?u:or(u),s-=o?o.length:0,e&Hp){var l=r,f=o;r=o=void 0}var p=c?void 0:sf(t),d=[t,e,n,r,o,l,f,i,a,u];if(p&&Ip(d,p),t=d[0],e=d[1],n=d[2],r=d[3],o=d[4],u=d[9]=void 0===d[9]?c?0:t.length:Gp(d[9]-s,0),!u&&e&(Bp|zp)&&(e&=~(Bp|zp)),e&&e!=Lp)h=e==Bp||e==zp?wp(t,e,u):e!=Fp&&e!=(Lp|Fp)||o.length?_p.apply(void 0,d):jp(t,e,n,r);else var h=Ul(t,e,n);var y=p?Zl:Mf;return qf(y(h,d),t,e)}var Wp=Xp,Up=128;function Yp(t,e,n){return e=n?void 0:e,e=t&&null==e?t.length:e,Wp(t,Up,void 0,void 0,void 0,void 0,e)}var Vp=Yp,Kp="Expected a function";function qp(t,e){var n;if("function"!=typeof e)throw new TypeError(Kp);return t=or(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=void 0),n}}var $p=qp,Jp=1,Qp=32,td=(0,Sr.Z)((function(t,e,n){var r=Jp;if(n.length){var o=pp(n,ap(td));r|=Qp}return Wp(t,r,e,n,o)}));td.placeholder={};var ed=td,nd=1,rd=2,od=32,id=(0,Sr.Z)((function(t,e,n){var r=nd|rd;if(n.length){var o=pp(n,ap(id));r|=od}return Wp(e,r,t,n,o)}));id.placeholder={};var ad=id,ud=8;function cd(t,e,n){e=n?void 0:e;var r=Wp(t,ud,void 0,void 0,void 0,void 0,void 0,e);return r.placeholder=cd.placeholder,r}cd.placeholder={};var sd=cd,ld=16;function fd(t,e,n){e=n?void 0:e;var r=Wp(t,ld,void 0,void 0,void 0,void 0,void 0,e);return r.placeholder=fd.placeholder,r}fd.placeholder={};var pd=fd,dd=n(53434),hd="Expected a function";function yd(t,e,n){if("function"!=typeof t)throw new TypeError(hd);return setTimeout((function(){t.apply(void 0,n)}),e)}var vd=yd,gd=(0,Sr.Z)((function(t,e){return vd(t,1,e)})),bd=gd,md=(0,Sr.Z)((function(t,e,n){return vd(t,(0,Jn.Z)(e)||0,n)})),_d=md,Od=512;function wd(t){return Wp(t,Od)}var xd=wd,Ed=n(42454);function jd(t){return $p(2,t)}var Sd=jd,Pd=Sr.Z,Md=Pd,kd=Math.min,Ad=Md((function(t,e){e=1==e.length&&(0,hr.Z)(e[0])?(0,_r.Z)(e[0],(0,Or.Z)(Ar.Z)):(0,_r.Z)((0,pr.Z)(e,1),(0,Or.Z)(Ar.Z));var n=e.length;return(0,Sr.Z)((function(r){var o=-1,i=kd(r.length,n);while(++o<i)r[o]=e[o].call(this,r[o]);return(0,Ga.Z)(t,this,r)}))})),Td=Ad,Nd=32,Dd=(0,Sr.Z)((function(t,e){var n=pp(e,ap(Dd));return Wp(t,Nd,void 0,e,n)}));Dd.placeholder={};var Cd=Dd,Id=64,Rd=(0,Sr.Z)((function(t,e){var n=pp(e,ap(Rd));return Wp(t,Id,void 0,e,n)}));Rd.placeholder={};var Ld=Rd,Zd=256,Bd=(0,Mi.Z)((function(t,e){return Wp(t,Zd,void 0,void 0,void 0,e)})),zd=Bd,Fd="Expected a function";function Hd(t,e){if("function"!=typeof t)throw new TypeError(Fd);return e=void 0===e?e:or(e),(0,Sr.Z)(t,e)}var Gd=Hd;function Xd(t,e,n){var r=t.length;return n=void 0===n?r:n,!e&&n>=r?t:qn(t,e,n)}var Wd=Xd,Ud="Expected a function",Yd=Math.max;function Vd(t,e){if("function"!=typeof t)throw new TypeError(Ud);return e=null==e?0:Yd(or(e),0),(0,Sr.Z)((function(n){var r=n[e],o=Wd(n,0,e);return r&&(0,fr.Z)(o,r),(0,Ga.Z)(t,this,o)}))}var Kd=Vd,qd=n(111);function $d(t){return Vp(t,1)}var Jd=$d;function Qd(t,e){return Cd(ku(e),t)}var th=Qd,eh={after:Dl,ary:Vp,before:$p,bind:ed,bindKey:ad,curry:sd,curryRight:pd,debounce:dd.Z,defer:bd,delay:_d,flip:xd,memoize:Ed.Z,negate:as,once:Sd,overArgs:Td,partial:Cd,partialRight:Ld,rearg:zd,rest:Gd,spread:Kd,throttle:qd.Z,unary:Jd,wrap:th},nh=n(62006),rh=n(92346),oh=n(68652),ih=n(38225),ah=1,uh=4;function ch(t,e){return e="function"==typeof e?e:void 0,(0,ih.Z)(t,ah|uh,e)}var sh=ch,lh=4;function fh(t,e){return e="function"==typeof e?e:void 0,(0,ih.Z)(t,lh,e)}var ph=fh;function dh(t,e,n){var r=n.length;if(null==t)return!r;t=Object(t);while(r--){var o=n[r],i=e[o],a=t[o];if(void 0===a&&!(o in t)||!i(a))return!1}return!0}var hh=dh;function yh(t,e){return null==e||hh(t,e,(0,Lu.Z)(e))}var vh=yh;function gh(t,e){return t>e}var bh=gh;function mh(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=(0,Jn.Z)(e),n=(0,Jn.Z)(n)),t(e,n)}}var _h=mh,Oh=_h(bh),wh=Oh,xh=_h((function(t,e){return t>=e})),Eh=xh,jh=n(29169),Sh="[object ArrayBuffer]";function Ph(t){return(0,_c.Z)(t)&&(0,mc.Z)(t)==Sh}var Mh=Ph,kh=n(98351),Ah=kh.Z&&kh.Z.isArrayBuffer,Th=Ah?(0,Or.Z)(Ah):Mh,Nh=Th,Dh="[object Boolean]";function Ch(t){return!0===t||!1===t||(0,_c.Z)(t)&&(0,mc.Z)(t)==Dh}var Ih=Ch,Rh=n(65763),Lh="[object Date]";function Zh(t){return(0,_c.Z)(t)&&(0,mc.Z)(t)==Lh}var Bh=Zh,zh=kh.Z&&kh.Z.isDate,Fh=zh?(0,Or.Z)(zh):Bh,Hh=Fh,Gh=n(37514);function Xh(t){return(0,_c.Z)(t)&&1===t.nodeType&&!(0,Gh.Z)(t)}var Wh=Xh,Uh=n(72764),Yh=n(18843),Vh="[object Map]",Kh="[object Set]",qh=Object.prototype,$h=qh.hasOwnProperty;function Jh(t){if(null==t)return!0;if((0,ec.Z)(t)&&((0,hr.Z)(t)||"string"==typeof t||"function"==typeof t.splice||(0,Rh.Z)(t)||(0,Yh.Z)(t)||(0,jh.Z)(t)))return!t.length;var e=(0,Cs.Z)(t);if(e==Vh||e==Kh)return!t.size;if((0,Uh.Z)(t))return!(0,Ds.Z)(t).length;for(var n in t)if($h.call(t,n))return!1;return!0}var Qh=Jh,ty=n(50576),ey=n(51514);function ny(t,e,n){n="function"==typeof n?n:void 0;var r=n?n(t,e):void 0;return void 0===r?(0,ey.Z)(t,e,void 0,n):!!r}var ry=ny,oy="[object DOMException]",iy="[object Error]";function ay(t){if(!(0,_c.Z)(t))return!1;var e=(0,mc.Z)(t);return e==iy||e==oy||"string"==typeof t.message&&"string"==typeof t.name&&!(0,Gh.Z)(t)}var uy=ay,cy=Gl.Z.isFinite;function sy(t){return"number"==typeof t&&cy(t)}var ly=sy,fy=n(73234);function py(t){return"number"==typeof t&&t==or(t)}var dy=py,hy=n(1656),yy=n(79108),vy=n(18175),gy=n(46272);function by(t,e){return t===e||(0,vy.Z)(t,e,(0,gy.Z)(e))}var my=by;function _y(t,e,n){return n="function"==typeof n?n:void 0,(0,vy.Z)(t,e,(0,gy.Z)(e),n)}var Oy=_y,wy="[object Number]";function xy(t){return"number"==typeof t||(0,_c.Z)(t)&&(0,mc.Z)(t)==wy}var Ey=xy;function jy(t){return Ey(t)&&t!=+t}var Sy=jy,Py=n(65123),My=n(41819),ky=n(7979),Ay=My.Z?fy.Z:ky.Z,Ty=Ay,Ny="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.";function Dy(t){if(Ty(t))throw new Error(Ny);return(0,Py.Z)(t)}var Cy=Dy,Iy=n(27601);function Ry(t){return null===t}var Ly=Ry,Zy="[object RegExp]";function By(t){return(0,_c.Z)(t)&&(0,mc.Z)(t)==Zy}var zy=By,Fy=kh.Z&&kh.Z.isRegExp,Hy=Fy?(0,Or.Z)(Fy):zy,Gy=Hy,Xy=9007199254740991;function Wy(t){return dy(t)&&t>=-Xy&&t<=Xy}var Uy=Wy,Yy=n(21878),Vy=n(49360),Ky="[object WeakMap]";function qy(t){return(0,_c.Z)(t)&&(0,Cs.Z)(t)==Ky}var $y=qy,Jy="[object WeakSet]";function Qy(t){return(0,_c.Z)(t)&&(0,mc.Z)(t)==Jy}var tv=Qy;function ev(t,e){return t<e}var nv=ev,rv=_h(nv),ov=rv,iv=_h((function(t,e){return t<=e})),av=iv,uv=n(17685);function cv(t){var e,n=[];while(!(e=t.next()).done)n.push(e.value);return n}var sv=cv,lv=n(84910),fv=n(6545);function pv(t){return t.split("")}var dv=pv,hv="\\ud800-\\udfff",yv="\\u0300-\\u036f",vv="\\ufe20-\\ufe2f",gv="\\u20d0-\\u20ff",bv=yv+vv+gv,mv="\\ufe0e\\ufe0f",_v="["+hv+"]",Ov="["+bv+"]",wv="\\ud83c[\\udffb-\\udfff]",xv="(?:"+Ov+"|"+wv+")",Ev="[^"+hv+"]",jv="(?:\\ud83c[\\udde6-\\uddff]){2}",Sv="[\\ud800-\\udbff][\\udc00-\\udfff]",Pv="\\u200d",Mv=xv+"?",kv="["+mv+"]?",Av="(?:"+Pv+"(?:"+[Ev,jv,Sv].join("|")+")"+kv+Mv+")*",Tv=kv+Mv+Av,Nv="(?:"+[Ev+Ov+"?",Ov,jv,Sv,_v].join("|")+")",Dv=RegExp(wv+"(?="+wv+")|"+Nv+Tv,"g");function Cv(t){return t.match(Dv)||[]}var Iv=Cv;function Rv(t){return Us(t)?Iv(t):dv(t)}var Lv=Rv,Zv="[object Map]",Bv="[object Set]",zv=uv.Z?uv.Z.iterator:void 0;function Fv(t){if(!t)return[];if((0,ec.Z)(t))return xc(t)?Lv(t):(0,dr.Z)(t);if(zv&&t[zv])return sv(t[zv]());var e=(0,Cs.Z)(t),n=e==Zv?lv.Z:e==Bv?fv.Z:Pc;return n(t)}var Hv=Fv,Gv=n(62518),Xv=9007199254740991;function Wv(t){return t?Vr(or(t),-Xv,Xv):0===t?t:0}var Uv=Wv,Yv=n(77338),Vv={castArray:nh.Z,clone:rh.Z,cloneDeep:oh.Z,cloneDeepWith:sh,cloneWith:ph,conformsTo:vh,eq:ta.Z,gt:wh,gte:Eh,isArguments:jh.Z,isArray:hr.Z,isArrayBuffer:Nh,isArrayLike:ec.Z,isArrayLikeObject:Pr.Z,isBoolean:Ih,isBuffer:Rh.Z,isDate:Hh,isElement:Wh,isEmpty:Qh,isEqual:ty.Z,isEqualWith:ry,isError:uy,isFinite:ly,isFunction:fy.Z,isInteger:dy,isLength:hy.Z,isMap:yy.Z,isMatch:my,isMatchWith:Oy,isNaN:Sy,isNative:Cy,isNil:Iy.Z,isNull:Ly,isNumber:Ey,isObject:zl.Z,isObjectLike:_c.Z,isPlainObject:Gh.Z,isRegExp:Gy,isSafeInteger:Uy,isSet:Yy.Z,isString:xc,isSymbol:ji.Z,isTypedArray:Yh.Z,isUndefined:Vy.Z,isWeakMap:$y,isWeakSet:tv,lt:ov,lte:av,toArray:Hv,toFinite:nr,toInteger:or,toLength:$r,toNumber:Jn.Z,toPlainObject:Gv.Z,toSafeInteger:Uv,toString:Yv.Z},Kv=NaN;function qv(t){return"number"==typeof t?t:(0,ji.Z)(t)?Kv:+t}var $v=qv,Jv=n(42845);function Qv(t,e){return function(n,r){var o;if(void 0===n&&void 0===r)return e;if(void 0!==n&&(o=n),void 0!==r){if(void 0===o)return r;"string"==typeof n||"string"==typeof r?(n=(0,Jv.Z)(n),r=(0,Jv.Z)(r)):(n=$v(n),r=$v(r)),o=t(n,r)}return o}}var tg=Qv,eg=tg((function(t,e){return t+e}),0),ng=eg,rg=Gl.Z.isFinite,og=Math.min;function ig(t){var e=Math[t];return function(t,n){if(t=(0,Jn.Z)(t),n=null==n?0:og(or(n),292),n&&rg(t)){var r=((0,Yv.Z)(t)+"e").split("e"),o=e(r[0]+"e"+(+r[1]+n));return r=((0,Yv.Z)(o)+"e").split("e"),+(r[0]+"e"+(+r[1]-n))}return e(t)}}var ag=ig,ug=ag("ceil"),cg=ug,sg=tg((function(t,e){return t/e}),1),lg=sg,fg=ag("floor"),pg=fg;function dg(t,e,n){var r=-1,o=t.length;while(++r<o){var i=t[r],a=e(i);if(null!=a&&(void 0===u?a===a&&!(0,ji.Z)(a):n(a,u)))var u=a,c=i}return c}var hg=dg;function yg(t){return t&&t.length?hg(t,Wi.Z,bh):void 0}var vg=yg;function gg(t,e){return t&&t.length?hg(t,(0,Ar.Z)(e,2),bh):void 0}var bg=gg;function mg(t,e){var n,r=-1,o=t.length;while(++r<o){var i=e(t[r]);void 0!==i&&(n=void 0===n?i:n+i)}return n}var _g=mg,Og=NaN;function wg(t,e){var n=null==t?0:t.length;return n?_g(t,e)/n:Og}var xg=wg;function Eg(t){return xg(t,Wi.Z)}var jg=Eg;function Sg(t,e){return xg(t,(0,Ar.Z)(e,2))}var Pg=Sg;function Mg(t){return t&&t.length?hg(t,Wi.Z,nv):void 0}var kg=Mg;function Ag(t,e){return t&&t.length?hg(t,(0,Ar.Z)(e,2),nv):void 0}var Tg=Ag,Ng=tg((function(t,e){return t*e}),1),Dg=Ng,Cg=ag("round"),Ig=Cg,Rg=tg((function(t,e){return t-e}),0),Lg=Rg;function Zg(t){return t&&t.length?_g(t,Wi.Z):0}var Bg=Zg;function zg(t,e){return t&&t.length?_g(t,(0,Ar.Z)(e,2)):0}var Fg=zg,Hg={add:ng,ceil:cg,divide:lg,floor:pg,max:vg,maxBy:bg,mean:jg,meanBy:Pg,min:kg,minBy:Tg,multiply:Dg,round:Ig,subtract:Lg,sum:Bg,sumBy:Fg};function Gg(t,e,n){return void 0===n&&(n=e,e=void 0),void 0!==n&&(n=(0,Jn.Z)(n),n=n===n?n:0),void 0!==e&&(e=(0,Jn.Z)(e),e=e===e?e:0),Vr((0,Jn.Z)(t),e,n)}var Xg=Gg,Wg=Math.max,Ug=Math.min;function Yg(t,e,n){return t>=Ug(e,n)&&t<Wg(e,n)}var Vg=Yg;function Kg(t,e,n){return e=nr(e),void 0===n?(n=e,e=0):n=nr(n),t=(0,Jn.Z)(t),Vg(t,e,n)}var qg=Kg,$g=parseFloat,Jg=Math.min,Qg=Math.random;function tb(t,e,n){if(n&&"boolean"!=typeof n&&(0,$n.Z)(t,e,n)&&(e=n=void 0),void 0===n&&("boolean"==typeof e?(n=e,e=void 0):"boolean"==typeof t&&(n=t,t=void 0)),void 0===t&&void 0===e?(t=0,e=1):(t=nr(t),void 0===e?(e=t,t=0):e=nr(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var o=Qg();return Jg(t+o*(e-t+$g("1e-"+((o+"").length-1))),e)}return ps(t,e)}var eb=tb,nb={clamp:Xg,inRange:qg,random:eb},rb=n(31899),ob=n(49268),ib=Object.prototype,ab=ib.hasOwnProperty,ub=(0,ob.Z)((function(t,e){if((0,Uh.Z)(e)||(0,ec.Z)(e))(0,rb.Z)(e,(0,Lu.Z)(e),t);else for(var n in e)ab.call(e,n)&&(0,ou.Z)(t,n,e[n])})),cb=ub,sb=n(32957),lb=(0,ob.Z)((function(t,e){(0,rb.Z)(e,(0,sb.Z)(e),t)})),fb=lb,pb=(0,ob.Z)((function(t,e,n,r){(0,rb.Z)(e,(0,sb.Z)(e),t,r)})),db=pb,hb=(0,ob.Z)((function(t,e,n,r){(0,rb.Z)(e,(0,Lu.Z)(e),t,r)})),yb=hb,vb=(0,Mi.Z)(di),gb=vb,bb=n(22364);function mb(t,e){var n=(0,Bl.Z)(t);return null==e?n:(0,bb.Z)(n,e)}var _b=mb,Ob=Object.prototype,wb=Ob.hasOwnProperty,xb=(0,Sr.Z)((function(t,e){t=Object(t);var n=-1,r=e.length,o=r>2?e[2]:void 0;o&&(0,$n.Z)(e[0],e[1],o)&&(r=1);while(++n<r){var i=e[n],a=(0,sb.Z)(i),u=-1,c=a.length;while(++u<c){var s=a[u],l=t[s];(void 0===l||(0,ta.Z)(l,Ob[s])&&!wb.call(t,s))&&(t[s]=i[s])}}return t})),Eb=xb,jb=n(20930);function Sb(t,e,n,r,o,i){return(0,zl.Z)(t)&&(0,zl.Z)(e)&&(i.set(e,t),(0,jb.Z)(t,e,void 0,Sb,i),i["delete"](e)),t}var Pb=Sb,Mb=(0,ob.Z)((function(t,e,n,r){(0,jb.Z)(t,e,n,r)})),kb=Mb,Ab=(0,Sr.Z)((function(t){return t.push(void 0,Pb),(0,Ga.Z)(kb,void 0,t)})),Tb=Ab;function Nb(t,e){return(0,_r.Z)(e,(function(e){return[e,t[e]]}))}var Db=Nb;function Cb(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}var Ib=Cb,Rb="[object Map]",Lb="[object Set]";function Zb(t){return function(e){var n=(0,Cs.Z)(e);return n==Rb?(0,lv.Z)(e):n==Lb?Ib(e):Db(e,t(e))}}var Bb=Zb,zb=Bb(Lu.Z),Fb=zb,Hb=Bb(sb.Z),Gb=Hb;function Xb(t,e,n){var r;return n(t,(function(t,n,o){if(e(t,n,o))return r=n,!1})),r}var Wb=Xb,Ub=n(2693);function Yb(t,e){return Wb(t,(0,Ar.Z)(e,3),Ub.Z)}var Vb=Yb;function Kb(t,e){return Wb(t,(0,Ar.Z)(e,3),Bu)}var qb=Kb,$b=n(93242);function Jb(t,e){return null==t?t:(0,$b.Z)(t,ku(e),sb.Z)}var Qb=Jb;function tm(t,e){return null==t?t:Ru(t,ku(e),sb.Z)}var em=tm;function nm(t,e){return t&&(0,Ub.Z)(t,ku(e))}var rm=nm;function om(t,e){return t&&Bu(t,ku(e))}var im=om;function am(t,e){return(0,La.Z)(e,(function(e){return(0,fy.Z)(t[e])}))}var um=am;function cm(t){return null==t?[]:um(t,(0,Lu.Z)(t))}var sm=cm;function lm(t){return null==t?[]:um(t,(0,sb.Z)(t))}var fm=lm,pm=Object.prototype,dm=pm.hasOwnProperty;function hm(t,e){return null!=t&&dm.call(t,e)}var ym=hm,vm=n(16174);function gm(t,e){return null!=t&&(0,vm.Z)(t,e,ym)}var bm=gm,mm=n(75487),_m=n(62002);function Om(t,e,n,r){return(0,Ub.Z)(t,(function(t,o,i){e(r,n(t),o,i)})),r}var wm=Om;function xm(t,e){return function(n,r){return wm(n,t,e(r),{})}}var Em=xm,jm=Object.prototype,Sm=jm.toString,Pm=Em((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Sm.call(e)),t[e]=n}),(0,_m.Z)(Wi.Z)),Mm=Pm,km=Object.prototype,Am=km.hasOwnProperty,Tm=km.toString,Nm=Em((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Tm.call(e)),Am.call(t,e)?t[e].push(n):t[e]=[n]}),Ar.Z),Dm=Nm,Cm=(0,Sr.Z)(Nc),Im=Cm;function Rm(t,e){var n={};return e=(0,Ar.Z)(e,3),(0,Ub.Z)(t,(function(t,r,o){(0,yu.Z)(n,e(t,r,o),t)})),n}var Lm=Rm;function Zm(t,e){var n={};return e=(0,Ar.Z)(e,3),(0,Ub.Z)(t,(function(t,r,o){(0,yu.Z)(n,r,e(t,r,o))})),n}var Bm=Zm,zm=n(48568);function Fm(t){return(0,Gh.Z)(t)?void 0:t}var Hm=Fm,Gm=n(4403),Xm=1,Wm=2,Um=4,Ym=(0,Mi.Z)((function(t,e){var n={};if(null==t)return n;var r=!1;e=(0,_r.Z)(e,(function(e){return e=(0,hi.Z)(e,t),r||(r=e.length>1),e})),(0,rb.Z)(t,(0,Gm.Z)(t),n),r&&(n=(0,ih.Z)(n,Xm|Wm|Um,Hm));var o=e.length;while(o--)_i(n,e[o]);return n})),Vm=Ym,Km=n(12987);function qm(t,e){if(null==t)return{};var n=(0,_r.Z)((0,Gm.Z)(t),(function(t){return[t]}));return e=(0,Ar.Z)(e),(0,Km.Z)(t,n,(function(t,n){return e(t,n[0])}))}var $m=qm;function Jm(t,e){return $m(t,as((0,Ar.Z)(e)))}var Qm=Jm,t_=n(69441);function e_(t,e,n){e=(0,hi.Z)(e,t);var r=-1,o=e.length;o||(o=1,t=void 0);while(++r<o){var i=null==t?void 0:t[(0,bi.Z)(e[r])];void 0===i&&(r=o,i=n),t=(0,fy.Z)(i)?i.call(t):i}return t}var n_=e_,r_=n(48707);function o_(t,e,n,r){return r="function"==typeof r?r:void 0,null==t?t:(0,su.Z)(t,e,n,r)}var i_=o_,a_=n(12513);function u_(t,e,n){var r=(0,hr.Z)(t),o=r||(0,Rh.Z)(t)||(0,Yh.Z)(t);if(e=(0,Ar.Z)(e,4),null==n){var i=t&&t.constructor;n=o?r?new i:[]:(0,zl.Z)(t)&&(0,fy.Z)(i)?(0,Bl.Z)((0,a_.Z)(t)):{}}return(o?Pu.Z:Ub.Z)(t,(function(t,r,o){return e(n,t,r,o)})),n}var c_=u_;function s_(t,e){return null==t||_i(t,e)}var l_=s_;function f_(t,e,n,r){return(0,su.Z)(t,e,n((0,yi.Z)(t,e)),r)}var p_=f_;function d_(t,e,n){return null==t?t:p_(t,e,ku(n))}var h_=d_;function y_(t,e,n,r){return r="function"==typeof r?r:void 0,null==t?t:p_(t,e,ku(n),r)}var v_=y_;function g_(t){return null==t?[]:jc(t,(0,sb.Z)(t))}var b_=g_,m_={assign:cb,assignIn:fb,assignInWith:db,assignWith:yb,at:gb,create:_b,defaults:Eb,defaultsDeep:Tb,entries:Fb,entriesIn:Gb,extend:fb,extendWith:db,findKey:Vb,findLastKey:qb,forIn:Qb,forInRight:em,forOwn:rm,forOwnRight:im,functions:sm,functionsIn:fm,get:fi.Z,has:bm,hasIn:mm.Z,invert:Mm,invertBy:Dm,invoke:Im,keys:Lu.Z,keysIn:sb.Z,mapKeys:Lm,mapValues:Bm,merge:zm.Z,mergeWith:kb,omit:Vm,omitBy:Qm,pick:t_.Z,pickBy:$m,result:n_,set:r_.Z,setWith:i_,toPairs:Fb,toPairsIn:Gb,transform:c_,unset:l_,update:h_,updateWith:v_,values:Pc,valuesIn:b_};function __(t,e){return e(t)}var O_=__,w_=(0,Mi.Z)((function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,o=function(e){return di(e,t)};return!(e>1||this.__actions__.length)&&r instanceof af&&(0,Uo.Z)(n)?(r=r.slice(n,+n+(e?1:0)),r.__actions__.push({func:O_,args:[o],thisArg:void 0}),new gf(r,this.__chain__).thru((function(t){return e&&!t.length&&t.push(void 0),t}))):this.thru(o)})),x_=w_;function E_(t){var e=xf(t);return e.__chain__=!0,e}var j_=E_;function S_(){return new gf(this.value(),this.__chain__)}var P_=S_;function M_(){void 0===this.__values__&&(this.__values__=Hv(this.value()));var t=this.__index__>=this.__values__.length,e=t?void 0:this.__values__[this.__index__++];return{done:t,value:e}}var k_=M_;function A_(t){var e,n=this;while(n instanceof nf){var r=mf(n);r.__index__=0,r.__values__=void 0,e?o.__wrapped__=r:e=r;var o=r;n=n.__wrapped__}return o.__wrapped__=t,e}var T_=A_;function N_(){var t=this.__wrapped__;if(t instanceof af){var e=t;return this.__actions__.length&&(e=new af(this)),e=e.reverse(),e.__actions__.push({func:O_,args:[Ri],thisArg:void 0}),new gf(e,this.__chain__)}return this.thru(Ri)}var D_=N_;function C_(t,e){return e(t),t}var I_=C_;function R_(){return this}var L_=R_;function Z_(t,e){var n=t;return n instanceof af&&(n=n.value()),Kc(e,(function(t,e){return e.func.apply(e.thisArg,(0,fr.Z)([t],e.args))}),n)}var B_=Z_;function z_(){return B_(this.__wrapped__,this.__actions__)}var F_=z_;function H_(){return j_(this)}var G_=H_,X_={at:x_,chain:j_,commit:P_,lodash:xf,next:k_,plant:T_,reverse:D_,tap:I_,thru:O_,toIterator:L_,toJSON:F_,value:F_,valueOf:F_,wrapperChain:G_};function W_(t){return function(e){e=(0,Yv.Z)(e);var n=Us(e)?Lv(e):void 0,r=n?n[0]:e.charAt(0),o=n?Wd(n,1).join(""):e.slice(1);return r[t]()+o}}var U_=W_,Y_=U_("toUpperCase"),V_=Y_;function K_(t){return V_((0,Yv.Z)(t).toLowerCase())}var q_=K_;function $_(t){return function(e){return null==t?void 0:t[e]}}var J_=$_,Q_={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},tO=J_(Q_),eO=tO,nO=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,rO="\\u0300-\\u036f",oO="\\ufe20-\\ufe2f",iO="\\u20d0-\\u20ff",aO=rO+oO+iO,uO="["+aO+"]",cO=RegExp(uO,"g");function sO(t){return t=(0,Yv.Z)(t),t&&t.replace(nO,eO).replace(cO,"")}var lO=sO,fO=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function pO(t){return t.match(fO)||[]}var dO=pO,hO=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function yO(t){return hO.test(t)}var vO=yO,gO="\\ud800-\\udfff",bO="\\u0300-\\u036f",mO="\\ufe20-\\ufe2f",_O="\\u20d0-\\u20ff",OO=bO+mO+_O,wO="\\u2700-\\u27bf",xO="a-z\\xdf-\\xf6\\xf8-\\xff",EO="\\xac\\xb1\\xd7\\xf7",jO="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",SO="\\u2000-\\u206f",PO=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",MO="A-Z\\xc0-\\xd6\\xd8-\\xde",kO="\\ufe0e\\ufe0f",AO=EO+jO+SO+PO,TO="['’]",NO="["+AO+"]",DO="["+OO+"]",CO="\\d+",IO="["+wO+"]",RO="["+xO+"]",LO="[^"+gO+AO+CO+wO+xO+MO+"]",ZO="\\ud83c[\\udffb-\\udfff]",BO="(?:"+DO+"|"+ZO+")",zO="[^"+gO+"]",FO="(?:\\ud83c[\\udde6-\\uddff]){2}",HO="[\\ud800-\\udbff][\\udc00-\\udfff]",GO="["+MO+"]",XO="\\u200d",WO="(?:"+RO+"|"+LO+")",UO="(?:"+GO+"|"+LO+")",YO="(?:"+TO+"(?:d|ll|m|re|s|t|ve))?",VO="(?:"+TO+"(?:D|LL|M|RE|S|T|VE))?",KO=BO+"?",qO="["+kO+"]?",$O="(?:"+XO+"(?:"+[zO,FO,HO].join("|")+")"+qO+KO+")*",JO="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",QO="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",tw=qO+KO+$O,ew="(?:"+[IO,FO,HO].join("|")+")"+tw,nw=RegExp([GO+"?"+RO+"+"+YO+"(?="+[NO,GO,"$"].join("|")+")",UO+"+"+VO+"(?="+[NO,GO+WO,"$"].join("|")+")",GO+"?"+WO+"+"+YO,GO+"+"+VO,QO,JO,CO,ew].join("|"),"g");function rw(t){return t.match(nw)||[]}var ow=rw;function iw(t,e,n){return t=(0,Yv.Z)(t),e=n?void 0:e,void 0===e?vO(t)?ow(t):dO(t):t.match(e)||[]}var aw=iw,uw="['’]",cw=RegExp(uw,"g");function sw(t){return function(e){return Kc(aw(lO(e).replace(cw,"")),t,"")}}var lw=sw,fw=lw((function(t,e,n){return e=e.toLowerCase(),t+(n?q_(e):e)})),pw=fw;function dw(t,e,n){t=(0,Yv.Z)(t),e=(0,Jv.Z)(e);var r=t.length;n=void 0===n?r:Vr(or(n),0,r);var o=n;return n-=e.length,n>=0&&t.slice(n,o)==e}var hw=dw,yw={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},vw=J_(yw),gw=vw,bw=/[&<>"']/g,mw=RegExp(bw.source);function _w(t){return t=(0,Yv.Z)(t),t&&mw.test(t)?t.replace(bw,gw):t}var Ow=_w,ww=/[\\^$.*+?()[\]{}|]/g,xw=RegExp(ww.source);function Ew(t){return t=(0,Yv.Z)(t),t&&xw.test(t)?t.replace(ww,"\\$&"):t}var jw=Ew,Sw=lw((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),Pw=Sw,Mw=lw((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),kw=Mw,Aw=U_("toLowerCase"),Tw=Aw,Nw=9007199254740991,Dw=Math.floor;function Cw(t,e){var n="";if(!t||e<1||e>Nw)return n;do{e%2&&(n+=t),e=Dw(e/2),e&&(t+=t)}while(e);return n}var Iw=Cw,Rw=Math.ceil;function Lw(t,e){e=void 0===e?" ":(0,Jv.Z)(e);var n=e.length;if(n<2)return n?Iw(e,t):e;var r=Iw(e,Rw(t/vl(e)));return Us(e)?Wd(Lv(r),0,t).join(""):r.slice(0,t)}var Zw=Lw,Bw=Math.ceil,zw=Math.floor;function Fw(t,e,n){t=(0,Yv.Z)(t),e=or(e);var r=e?vl(t):0;if(!e||r>=e)return t;var o=(e-r)/2;return Zw(zw(o),n)+t+Zw(Bw(o),n)}var Hw=Fw;function Gw(t,e,n){t=(0,Yv.Z)(t),e=or(e);var r=e?vl(t):0;return e&&r<e?t+Zw(e-r,n):t}var Xw=Gw;function Ww(t,e,n){t=(0,Yv.Z)(t),e=or(e);var r=e?vl(t):0;return e&&r<e?Zw(e-r,n)+t:t}var Uw=Ww,Yw=/^\s+/,Vw=Gl.Z.parseInt;function Kw(t,e,n){return n||null==e?e=0:e&&(e=+e),Vw((0,Yv.Z)(t).replace(Yw,""),e||0)}var qw=Kw;function $w(t,e,n){return e=(n?(0,$n.Z)(t,e,n):void 0===e)?1:or(e),Iw((0,Yv.Z)(t),e)}var Jw=$w;function Qw(){var t=arguments,e=(0,Yv.Z)(t[0]);return t.length<3?e:e.replace(t[1],t[2])}var tx=Qw,ex=lw((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()})),nx=ex,rx=4294967295;function ox(t,e,n){return n&&"number"!=typeof n&&(0,$n.Z)(t,e,n)&&(e=n=void 0),n=void 0===n?rx:n>>>0,n?(t=(0,Yv.Z)(t),t&&("string"==typeof e||null!=e&&!Gy(e))&&(e=(0,Jv.Z)(e),!e&&Us(t))?Wd(Lv(t),0,n):t.split(e,n)):[]}var ix=ox,ax=lw((function(t,e,n){return t+(n?" ":"")+V_(e)})),ux=ax;function cx(t,e,n){return t=(0,Yv.Z)(t),n=null==n?0:Vr(or(n),0,t.length),e=(0,Jv.Z)(e),t.slice(n,n+e.length)==e}var sx=cx,lx=(0,Sr.Z)((function(t,e){try{return(0,Ga.Z)(t,void 0,e)}catch(n){return uy(n)?n:new Error(n)}})),fx=lx,px=Object.prototype,dx=px.hasOwnProperty;function hx(t,e,n,r){return void 0===t||(0,ta.Z)(t,px[n])&&!dx.call(r,n)?e:t}var yx=hx,vx={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function gx(t){return"\\"+vx[t]}var bx=gx,mx=/<%=([\s\S]+?)%>/g,_x=mx,Ox=/<%-([\s\S]+?)%>/g,wx=Ox,xx=/<%([\s\S]+?)%>/g,Ex=xx,jx={escape:wx,evaluate:Ex,interpolate:_x,variable:"",imports:{_:{escape:Ow}}},Sx=jx,Px="Invalid `variable` option passed into `_.template`",Mx=/\b__p \+= '';/g,kx=/\b(__p \+=) '' \+/g,Ax=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Tx=/[()=,{}\[\]\/\s]/,Nx=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Dx=/($^)/,Cx=/['\n\r\u2028\u2029\\]/g,Ix=Object.prototype,Rx=Ix.hasOwnProperty;function Lx(t,e,n){var r=Sx.imports._.templateSettings||Sx;n&&(0,$n.Z)(t,e,n)&&(e=void 0),t=(0,Yv.Z)(t),e=db({},e,r,yx);var o,i,a=db({},e.imports,r.imports,yx),u=(0,Lu.Z)(a),c=jc(a,u),s=0,l=e.interpolate||Dx,f="__p += '",p=RegExp((e.escape||Dx).source+"|"+l.source+"|"+(l===_x?Nx:Dx).source+"|"+(e.evaluate||Dx).source+"|$","g"),d=Rx.call(e,"sourceURL")?"//# sourceURL="+(e.sourceURL+"").replace(/\s/g," ")+"\n":"";t.replace(p,(function(e,n,r,a,u,c){return r||(r=a),f+=t.slice(s,c).replace(Cx,bx),n&&(o=!0,f+="' +\n__e("+n+") +\n'"),u&&(i=!0,f+="';\n"+u+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),s=c+e.length,e})),f+="';\n";var h=Rx.call(e,"variable")&&e.variable;if(h){if(Tx.test(h))throw new Error(Px)}else f="with (obj) {\n"+f+"\n}\n";f=(i?f.replace(Mx,""):f).replace(kx,"$1").replace(Ax,"$1;"),f="function("+(h||"obj")+") {\n"+(h?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(i?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var y=fx((function(){return Function(u,d+"return "+f).apply(void 0,c)}));if(y.source=f,uy(y))throw y;return y}var Zx=Lx;function Bx(t){return(0,Yv.Z)(t).toLowerCase()}var zx=Bx;function Fx(t){return(0,Yv.Z)(t).toUpperCase()}var Hx=Fx,Gx=n(33404);function Xx(t,e){var n=t.length;while(n--&&(0,bo.Z)(e,t[n],0)>-1);return n}var Wx=Xx;function Ux(t,e){var n=-1,r=t.length;while(++n<r&&(0,bo.Z)(e,t[n],0)>-1);return n}var Yx=Ux;function Vx(t,e,n){if(t=(0,Yv.Z)(t),t&&(n||void 0===e))return(0,Gx.Z)(t);if(!t||!(e=(0,Jv.Z)(e)))return t;var r=Lv(t),o=Lv(e),i=Yx(r,o),a=Wx(r,o)+1;return Wd(r,i,a).join("")}var Kx=Vx,qx=n(37170);function $x(t,e,n){if(t=(0,Yv.Z)(t),t&&(n||void 0===e))return t.slice(0,(0,qx.Z)(t)+1);if(!t||!(e=(0,Jv.Z)(e)))return t;var r=Lv(t),o=Wx(r,Lv(e))+1;return Wd(r,0,o).join("")}var Jx=$x,Qx=/^\s+/;function tE(t,e,n){if(t=(0,Yv.Z)(t),t&&(n||void 0===e))return t.replace(Qx,"");if(!t||!(e=(0,Jv.Z)(e)))return t;var r=Lv(t),o=Yx(r,Lv(e));return Wd(r,o).join("")}var eE=tE,nE=30,rE="...",oE=/\w*$/;function iE(t,e){var n=nE,r=rE;if((0,zl.Z)(e)){var o="separator"in e?e.separator:o;n="length"in e?or(e.length):n,r="omission"in e?(0,Jv.Z)(e.omission):r}t=(0,Yv.Z)(t);var i=t.length;if(Us(t)){var a=Lv(t);i=a.length}if(n>=i)return t;var u=n-vl(r);if(u<1)return r;var c=a?Wd(a,0,u).join(""):t.slice(0,u);if(void 0===o)return c+r;if(a&&(u+=c.length-u),Gy(o)){if(t.slice(u).search(o)){var s,l=c;o.global||(o=RegExp(o.source,(0,Yv.Z)(oE.exec(o))+"g")),o.lastIndex=0;while(s=o.exec(l))var f=s.index;c=c.slice(0,void 0===f?u:f)}}else if(t.indexOf((0,Jv.Z)(o),u)!=u){var p=c.lastIndexOf(o);p>-1&&(c=c.slice(0,p))}return c+r}var aE=iE,uE={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},cE=J_(uE),sE=cE,lE=/&(?:amp|lt|gt|quot|#39);/g,fE=RegExp(lE.source);function pE(t){return t=(0,Yv.Z)(t),t&&fE.test(t)?t.replace(lE,sE):t}var dE=pE,hE=lw((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),yE=hE,vE={camelCase:pw,capitalize:q_,deburr:lO,endsWith:hw,escape:Ow,escapeRegExp:jw,kebabCase:Pw,lowerCase:kw,lowerFirst:Tw,pad:Hw,padEnd:Xw,padStart:Uw,parseInt:qw,repeat:Jw,replace:tx,snakeCase:nx,split:ix,startCase:ux,startsWith:sx,template:Zx,templateSettings:Sx,toLower:zx,toUpper:Hx,trim:Kx,trimEnd:Jx,trimStart:eE,truncate:aE,unescape:dE,upperCase:yE,upperFirst:V_,words:aw},gE=(0,Mi.Z)((function(t,e){return(0,Pu.Z)(e,(function(e){e=(0,bi.Z)(e),(0,yu.Z)(t,e,ed(t[e],t))})),t})),bE=gE,mE="Expected a function";function _E(t){var e=null==t?0:t.length,n=Ar.Z;return t=e?(0,_r.Z)(t,(function(t){if("function"!=typeof t[1])throw new TypeError(mE);return[n(t[0]),t[1]]})):[],(0,Sr.Z)((function(n){var r=-1;while(++r<e){var o=t[r];if((0,Ga.Z)(o[0],this,n))return(0,Ga.Z)(o[1],this,n)}}))}var OE=_E;function wE(t){var e=(0,Lu.Z)(t);return function(n){return hh(n,t,e)}}var xE=wE,EE=1;function jE(t){return xE((0,ih.Z)(t,EE))}var SE=jE;function PE(t,e){return null==t||t!==t?e:t}var ME=PE,kE="Expected a function",AE=8,TE=32,NE=128,DE=256;function CE(t){return(0,Mi.Z)((function(e){var n=e.length,r=n,o=gf.prototype.thru;t&&e.reverse();while(r--){var i=e[r];if("function"!=typeof i)throw new TypeError(kE);if(o&&!a&&"wrapper"==yf(i))var a=new gf([],!0)}r=a?r:n;while(++r<n){i=e[r];var u=yf(i),c="wrapper"==u?sf(i):void 0;a=c&&jf(c[0])&&c[1]==(NE|AE|TE|DE)&&!c[4].length&&1==c[9]?a[yf(c[0])].apply(a,c[3]):1==i.length&&jf(i)?a[u]():a.thru(i)}return function(){var t=arguments,r=t[0];if(a&&1==t.length&&(0,hr.Z)(r))return a.plant(r).value();var o=0,i=n?e[o].apply(this,t):r;while(++o<n)i=e[o].call(this,i);return i}}))}var IE=CE,RE=IE(),LE=RE,ZE=IE(!0),BE=ZE,zE=1;function FE(t){return(0,Ar.Z)("function"==typeof t?t:(0,ih.Z)(t,zE))}var HE=FE,GE=n(85490),XE=1;function WE(t){return(0,GE.Z)((0,ih.Z)(t,XE))}var UE=WE,YE=n(59749),VE=1;function KE(t,e){return(0,YE.Z)(t,(0,ih.Z)(e,VE))}var qE=KE,$E=(0,Sr.Z)((function(t,e){return function(n){return Nc(n,t,e)}})),JE=$E,QE=(0,Sr.Z)((function(t,e){return function(n){return Nc(t,n,e)}})),tj=QE;function ej(t,e,n){var r=(0,Lu.Z)(e),o=um(e,r),i=!((0,zl.Z)(n)&&"chain"in n)||!!n.chain,a=(0,fy.Z)(t);return(0,Pu.Z)(o,(function(n){var r=e[n];t[n]=r,a&&(t.prototype[n]=function(){var e=this.__chain__;if(i||e){var n=t(this.__wrapped__),o=n.__actions__=(0,dr.Z)(this.__actions__);return o.push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,(0,fr.Z)([this.value()],arguments))})})),t}var nj=ej;function rj(t){return t=or(t),(0,Sr.Z)((function(e){return Vo(e,t)}))}var oj=rj;function ij(t){return(0,Mi.Z)((function(e){return e=(0,_r.Z)(e,(0,Or.Z)(Ar.Z)),(0,Sr.Z)((function(n){var r=this;return t(e,(function(t){return(0,Ga.Z)(t,r,n)}))}))}))}var aj=ij,uj=aj(_r.Z),cj=uj,sj=aj(Uu),lj=sj,fj=aj(Ol.Z),pj=fj,dj=n(19529);function hj(t){return function(e){return null==t?void 0:(0,yi.Z)(t,e)}}var yj=hj,vj=Math.ceil,gj=Math.max;function bj(t,e,n,r){var o=-1,i=gj(vj((e-t)/(n||1)),0),a=Array(i);while(i--)a[r?i:++o]=t,t+=n;return a}var mj=bj;function _j(t){return function(e,n,r){return r&&"number"!=typeof r&&(0,$n.Z)(e,n,r)&&(n=r=void 0),e=nr(e),void 0===n?(n=e,e=0):n=nr(n),r=void 0===r?e<n?1:-1:nr(r),mj(e,n,r,t)}}var Oj=_j,wj=Oj(),xj=wj,Ej=Oj(!0),jj=Ej,Sj=n(60532);function Pj(){return{}}var Mj=Pj;function kj(){return""}var Aj=kj;function Tj(){return!0}var Nj=Tj,Dj=9007199254740991,Cj=4294967295,Ij=Math.min;function Rj(t,e){if(t=or(t),t<1||t>Dj)return[];var n=Cj,r=Ij(t,Cj);e=ku(e),t-=Cj;var o=(0,Ba.Z)(r,e);while(++n<t)e(n);return o}var Lj=Rj,Zj=n(63267);function Bj(t){return(0,hr.Z)(t)?(0,_r.Z)(t,bi.Z):(0,ji.Z)(t)?[t]:(0,dr.Z)((0,Zj.Z)((0,Yv.Z)(t)))}var zj=Bj,Fj=0;function Hj(t){var e=++Fj;return(0,Yv.Z)(t)+e}var Gj=Hj,Xj={attempt:fx,bindAll:bE,cond:OE,conforms:SE,constant:_m.Z,defaultTo:ME,flow:LE,flowRight:BE,identity:Wi.Z,iteratee:HE,matches:UE,matchesProperty:qE,method:JE,methodOf:tj,mixin:nj,noop:uf.Z,nthArg:oj,over:cj,overEvery:lj,overSome:pj,property:dj.Z,propertyOf:yj,range:xj,rangeRight:jj,stubArray:Sj.Z,stubFalse:ky.Z,stubObject:Mj,stubString:Aj,stubTrue:Nj,times:Lj,toPath:zj,uniqueId:Gj};function Wj(){var t=new af(this.__wrapped__);return t.__actions__=(0,dr.Z)(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=(0,dr.Z)(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=(0,dr.Z)(this.__views__),t}var Uj=Wj;function Yj(){if(this.__filtered__){var t=new af(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}var Vj=Yj,Kj=Math.max,qj=Math.min;function $j(t,e,n){var r=-1,o=n.length;while(++r<o){var i=n[r],a=i.size;switch(i.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=qj(e,t+a);break;case"takeRight":t=Kj(t,e-a);break}}return{start:t,end:e}}var Jj=$j,Qj=1,tS=2,eS=Math.min;function nS(){var t=this.__wrapped__.value(),e=this.__dir__,n=(0,hr.Z)(t),r=e<0,o=n?t.length:0,i=Jj(0,o,this.__views__),a=i.start,u=i.end,c=u-a,s=r?u:a-1,l=this.__iteratees__,f=l.length,p=0,d=eS(c,this.__takeCount__);if(!n||!r&&o==c&&d==c)return B_(t,this.__actions__);var h=[];t:while(c--&&p<d){s+=e;var y=-1,v=t[s];while(++y<f){var g=l[y],b=g.iteratee,m=g.type,_=b(v);if(m==tS)v=_;else if(!_){if(m==Qj)continue t;break t}}h[p++]=v}return h}var rS=nS,oS="4.17.21",iS=2,aS=1,uS=3,cS=4294967295,sS=Array.prototype,lS=Object.prototype,fS=lS.hasOwnProperty,pS=uv.Z?uv.Z.iterator:void 0,dS=Math.max,hS=Math.min,yS=function(t){return function(e,n,r){if(null==r){var o=(0,zl.Z)(n),i=o&&(0,Lu.Z)(n),a=i&&i.length&&um(n,i);(a?a.length:o)||(r=n,n=e,e=this)}return t(e,n,r)}}(nj);xf.after=eh.after,xf.ary=eh.ary,xf.assign=m_.assign,xf.assignIn=m_.assignIn,xf.assignInWith=m_.assignInWith,xf.assignWith=m_.assignWith,xf.at=m_.at,xf.before=eh.before,xf.bind=eh.bind,xf.bindAll=Xj.bindAll,xf.bindKey=eh.bindKey,xf.castArray=Vv.castArray,xf.chain=X_.chain,xf.chunk=hu.chunk,xf.compact=hu.compact,xf.concat=hu.concat,xf.cond=Xj.cond,xf.conforms=Xj.conforms,xf.constant=Xj.constant,xf.countBy=Ml.countBy,xf.create=m_.create,xf.curry=eh.curry,xf.curryRight=eh.curryRight,xf.debounce=eh.debounce,xf.defaults=m_.defaults,xf.defaultsDeep=m_.defaultsDeep,xf.defer=eh.defer,xf.delay=eh.delay,xf.difference=hu.difference,xf.differenceBy=hu.differenceBy,xf.differenceWith=hu.differenceWith,xf.drop=hu.drop,xf.dropRight=hu.dropRight,xf.dropRightWhile=hu.dropRightWhile,xf.dropWhile=hu.dropWhile,xf.fill=hu.fill,xf.filter=Ml.filter,xf.flatMap=Ml.flatMap,xf.flatMapDeep=Ml.flatMapDeep,xf.flatMapDepth=Ml.flatMapDepth,xf.flatten=hu.flatten,xf.flattenDeep=hu.flattenDeep,xf.flattenDepth=hu.flattenDepth,xf.flip=eh.flip,xf.flow=Xj.flow,xf.flowRight=Xj.flowRight,xf.fromPairs=hu.fromPairs,xf.functions=m_.functions,xf.functionsIn=m_.functionsIn,xf.groupBy=Ml.groupBy,xf.initial=hu.initial,xf.intersection=hu.intersection,xf.intersectionBy=hu.intersectionBy,xf.intersectionWith=hu.intersectionWith,xf.invert=m_.invert,xf.invertBy=m_.invertBy,xf.invokeMap=Ml.invokeMap,xf.iteratee=Xj.iteratee,xf.keyBy=Ml.keyBy,xf.keys=Lu.Z,xf.keysIn=m_.keysIn,xf.map=Ml.map,xf.mapKeys=m_.mapKeys,xf.mapValues=m_.mapValues,xf.matches=Xj.matches,xf.matchesProperty=Xj.matchesProperty,xf.memoize=eh.memoize,xf.merge=m_.merge,xf.mergeWith=m_.mergeWith,xf.method=Xj.method,xf.methodOf=Xj.methodOf,xf.mixin=yS,xf.negate=as,xf.nthArg=Xj.nthArg,xf.omit=m_.omit,xf.omitBy=m_.omitBy,xf.once=eh.once,xf.orderBy=Ml.orderBy,xf.over=Xj.over,xf.overArgs=eh.overArgs,xf.overEvery=Xj.overEvery,xf.overSome=Xj.overSome,xf.partial=eh.partial,xf.partialRight=eh.partialRight,xf.partition=Ml.partition,xf.pick=m_.pick,xf.pickBy=m_.pickBy,xf.property=Xj.property,xf.propertyOf=Xj.propertyOf,xf.pull=hu.pull,xf.pullAll=hu.pullAll,xf.pullAllBy=hu.pullAllBy,xf.pullAllWith=hu.pullAllWith,xf.pullAt=hu.pullAt,xf.range=Xj.range,xf.rangeRight=Xj.rangeRight,xf.rearg=eh.rearg,xf.reject=Ml.reject,xf.remove=hu.remove,xf.rest=eh.rest,xf.reverse=hu.reverse,xf.sampleSize=Ml.sampleSize,xf.set=m_.set,xf.setWith=m_.setWith,xf.shuffle=Ml.shuffle,xf.slice=hu.slice,xf.sortBy=Ml.sortBy,xf.sortedUniq=hu.sortedUniq,xf.sortedUniqBy=hu.sortedUniqBy,xf.split=vE.split,xf.spread=eh.spread,xf.tail=hu.tail,xf.take=hu.take,xf.takeRight=hu.takeRight,xf.takeRightWhile=hu.takeRightWhile,xf.takeWhile=hu.takeWhile,xf.tap=X_.tap,xf.throttle=eh.throttle,xf.thru=O_,xf.toArray=Vv.toArray,xf.toPairs=m_.toPairs,xf.toPairsIn=m_.toPairsIn,xf.toPath=Xj.toPath,xf.toPlainObject=Vv.toPlainObject,xf.transform=m_.transform,xf.unary=eh.unary,xf.union=hu.union,xf.unionBy=hu.unionBy,xf.unionWith=hu.unionWith,xf.uniq=hu.uniq,xf.uniqBy=hu.uniqBy,xf.uniqWith=hu.uniqWith,xf.unset=m_.unset,xf.unzip=hu.unzip,xf.unzipWith=hu.unzipWith,xf.update=m_.update,xf.updateWith=m_.updateWith,xf.values=m_.values,xf.valuesIn=m_.valuesIn,xf.without=hu.without,xf.words=vE.words,xf.wrap=eh.wrap,xf.xor=hu.xor,xf.xorBy=hu.xorBy,xf.xorWith=hu.xorWith,xf.zip=hu.zip,xf.zipObject=hu.zipObject,xf.zipObjectDeep=hu.zipObjectDeep,xf.zipWith=hu.zipWith,xf.entries=m_.toPairs,xf.entriesIn=m_.toPairsIn,xf.extend=m_.assignIn,xf.extendWith=m_.assignInWith,yS(xf,xf),xf.add=Hg.add,xf.attempt=Xj.attempt,xf.camelCase=vE.camelCase,xf.capitalize=vE.capitalize,xf.ceil=Hg.ceil,xf.clamp=nb.clamp,xf.clone=Vv.clone,xf.cloneDeep=Vv.cloneDeep,xf.cloneDeepWith=Vv.cloneDeepWith,xf.cloneWith=Vv.cloneWith,xf.conformsTo=Vv.conformsTo,xf.deburr=vE.deburr,xf.defaultTo=Xj.defaultTo,xf.divide=Hg.divide,xf.endsWith=vE.endsWith,xf.eq=Vv.eq,xf.escape=vE.escape,xf.escapeRegExp=vE.escapeRegExp,xf.every=Ml.every,xf.find=Ml.find,xf.findIndex=hu.findIndex,xf.findKey=m_.findKey,xf.findLast=Ml.findLast,xf.findLastIndex=hu.findLastIndex,xf.findLastKey=m_.findLastKey,xf.floor=Hg.floor,xf.forEach=Ml.forEach,xf.forEachRight=Ml.forEachRight,xf.forIn=m_.forIn,xf.forInRight=m_.forInRight,xf.forOwn=m_.forOwn,xf.forOwnRight=m_.forOwnRight,xf.get=m_.get,xf.gt=Vv.gt,xf.gte=Vv.gte,xf.has=m_.has,xf.hasIn=m_.hasIn,xf.head=hu.head,xf.identity=Wi.Z,xf.includes=Ml.includes,xf.indexOf=hu.indexOf,xf.inRange=nb.inRange,xf.invoke=m_.invoke,xf.isArguments=Vv.isArguments,xf.isArray=hr.Z,xf.isArrayBuffer=Vv.isArrayBuffer,xf.isArrayLike=Vv.isArrayLike,xf.isArrayLikeObject=Vv.isArrayLikeObject,xf.isBoolean=Vv.isBoolean,xf.isBuffer=Vv.isBuffer,xf.isDate=Vv.isDate,xf.isElement=Vv.isElement,xf.isEmpty=Vv.isEmpty,xf.isEqual=Vv.isEqual,xf.isEqualWith=Vv.isEqualWith,xf.isError=Vv.isError,xf.isFinite=Vv.isFinite,xf.isFunction=Vv.isFunction,xf.isInteger=Vv.isInteger,xf.isLength=Vv.isLength,xf.isMap=Vv.isMap,xf.isMatch=Vv.isMatch,xf.isMatchWith=Vv.isMatchWith,xf.isNaN=Vv.isNaN,xf.isNative=Vv.isNative,xf.isNil=Vv.isNil,xf.isNull=Vv.isNull,xf.isNumber=Vv.isNumber,xf.isObject=zl.Z,xf.isObjectLike=Vv.isObjectLike,xf.isPlainObject=Vv.isPlainObject,xf.isRegExp=Vv.isRegExp,xf.isSafeInteger=Vv.isSafeInteger,xf.isSet=Vv.isSet,xf.isString=Vv.isString,xf.isSymbol=Vv.isSymbol,xf.isTypedArray=Vv.isTypedArray,xf.isUndefined=Vv.isUndefined,xf.isWeakMap=Vv.isWeakMap,xf.isWeakSet=Vv.isWeakSet,xf.join=hu.join,xf.kebabCase=vE.kebabCase,xf.last=Nr,xf.lastIndexOf=hu.lastIndexOf,xf.lowerCase=vE.lowerCase,xf.lowerFirst=vE.lowerFirst,xf.lt=Vv.lt,xf.lte=Vv.lte,xf.max=Hg.max,xf.maxBy=Hg.maxBy,xf.mean=Hg.mean,xf.meanBy=Hg.meanBy,xf.min=Hg.min,xf.minBy=Hg.minBy,xf.stubArray=Xj.stubArray,xf.stubFalse=Xj.stubFalse,xf.stubObject=Xj.stubObject,xf.stubString=Xj.stubString,xf.stubTrue=Xj.stubTrue,xf.multiply=Hg.multiply,xf.nth=hu.nth,xf.noop=Xj.noop,xf.now=Al.now,xf.pad=vE.pad,xf.padEnd=vE.padEnd,xf.padStart=vE.padStart,xf.parseInt=vE.parseInt,xf.random=nb.random,xf.reduce=Ml.reduce,xf.reduceRight=Ml.reduceRight,xf.repeat=vE.repeat,xf.replace=vE.replace,xf.result=m_.result,xf.round=Hg.round,xf.sample=Ml.sample,xf.size=Ml.size,xf.snakeCase=vE.snakeCase,xf.some=Ml.some,xf.sortedIndex=hu.sortedIndex,xf.sortedIndexBy=hu.sortedIndexBy,xf.sortedIndexOf=hu.sortedIndexOf,xf.sortedLastIndex=hu.sortedLastIndex,xf.sortedLastIndexBy=hu.sortedLastIndexBy,xf.sortedLastIndexOf=hu.sortedLastIndexOf,xf.startCase=vE.startCase,xf.startsWith=vE.startsWith,xf.subtract=Hg.subtract,xf.sum=Hg.sum,xf.sumBy=Hg.sumBy,xf.template=vE.template,xf.times=Xj.times,xf.toFinite=Vv.toFinite,xf.toInteger=or,xf.toLength=Vv.toLength,xf.toLower=vE.toLower,xf.toNumber=Vv.toNumber,xf.toSafeInteger=Vv.toSafeInteger,xf.toString=Vv.toString,xf.toUpper=vE.toUpper,xf.trim=vE.trim,xf.trimEnd=vE.trimEnd,xf.trimStart=vE.trimStart,xf.truncate=vE.truncate,xf.unescape=vE.unescape,xf.uniqueId=Xj.uniqueId,xf.upperCase=vE.upperCase,xf.upperFirst=vE.upperFirst,xf.each=Ml.forEach,xf.eachRight=Ml.forEachRight,xf.first=hu.head,yS(xf,function(){var t={};return(0,Ub.Z)(xf,(function(e,n){fS.call(xf.prototype,n)||(t[n]=e)})),t}(),{chain:!1}),xf.VERSION=oS,(xf.templateSettings=vE.templateSettings).imports._=xf,(0,Pu.Z)(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){xf[t].placeholder=xf})),(0,Pu.Z)(["drop","take"],(function(t,e){af.prototype[t]=function(n){n=void 0===n?1:dS(or(n),0);var r=this.__filtered__&&!e?new af(this):this.clone();return r.__filtered__?r.__takeCount__=hS(n,r.__takeCount__):r.__views__.push({size:hS(n,cS),type:t+(r.__dir__<0?"Right":"")}),r},af.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),(0,Pu.Z)(["filter","map","takeWhile"],(function(t,e){var n=e+1,r=n==aS||n==uS;af.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:(0,Ar.Z)(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}})),(0,Pu.Z)(["head","last"],(function(t,e){var n="take"+(e?"Right":"");af.prototype[t]=function(){return this[n](1).value()[0]}})),(0,Pu.Z)(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");af.prototype[t]=function(){return this.__filtered__?new af(this):this[n](1)}})),af.prototype.compact=function(){return this.filter(Wi.Z)},af.prototype.find=function(t){return this.filter(t).head()},af.prototype.findLast=function(t){return this.reverse().find(t)},af.prototype.invokeMap=(0,Sr.Z)((function(t,e){return"function"==typeof t?new af(this):this.map((function(n){return Nc(n,t,e)}))})),af.prototype.reject=function(t){return this.filter(as((0,Ar.Z)(t)))},af.prototype.slice=function(t,e){t=or(t);var n=this;return n.__filtered__&&(t>0||e<0)?new af(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),void 0!==e&&(e=or(e),n=e<0?n.dropRight(-e):n.take(e-t)),n)},af.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},af.prototype.toArray=function(){return this.take(cS)},(0,Ub.Z)(af.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),o=xf[r?"take"+("last"==e?"Right":""):e],i=r||/^find/.test(e);o&&(xf.prototype[e]=function(){var e=this.__wrapped__,a=r?[1]:arguments,u=e instanceof af,c=a[0],s=u||(0,hr.Z)(e),l=function(t){var e=o.apply(xf,(0,fr.Z)([t],a));return r&&f?e[0]:e};s&&n&&"function"==typeof c&&1!=c.length&&(u=s=!1);var f=this.__chain__,p=!!this.__actions__.length,d=i&&!f,h=u&&!p;if(!i&&s){e=h?e:new af(this);var y=t.apply(e,a);return y.__actions__.push({func:O_,args:[l],thisArg:void 0}),new gf(y,f)}return d&&h?t.apply(this,a):(y=this.thru(l),d?r?y.value()[0]:y.value():y)})})),(0,Pu.Z)(["pop","push","shift","sort","splice","unshift"],(function(t){var e=sS[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);xf.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var o=this.value();return e.apply((0,hr.Z)(o)?o:[],t)}return this[n]((function(n){return e.apply((0,hr.Z)(n)?n:[],t)}))}})),(0,Ub.Z)(af.prototype,(function(t,e){var n=xf[e];if(n){var r=n.name+"";fS.call(ff,r)||(ff[r]=[]),ff[r].push({name:e,func:n})}})),ff[_p(void 0,iS).name]=[{name:"wrapper",func:void 0}],af.prototype.clone=Uj,af.prototype.reverse=Vj,af.prototype.value=rS,xf.prototype.at=X_.at,xf.prototype.chain=X_.wrapperChain,xf.prototype.commit=X_.commit,xf.prototype.next=X_.next,xf.prototype.plant=X_.plant,xf.prototype.reverse=X_.reverse,xf.prototype.toJSON=xf.prototype.valueOf=xf.prototype.value=X_.value,xf.prototype.first=xf.prototype.head,pS&&(xf.prototype[pS]=X_.toIterator);var vS=xf,gS={width:40,height:40},bS={width:40,height:40},mS={width:100,height:80},_S={width:100,height:80},OS={width:100,height:80},wS={width:100,height:80},xS={width:100,height:80},ES={width:100,height:80},jS={width:100,height:80},SS={width:100,height:80},PS=function(){};PS.ObjTree=function(){return this},PS.ObjTree.VERSION="0.23",PS.ObjTree.prototype.xmlDecl='<?xml version="1.0" encoding="UTF-8" ?>\n',PS.ObjTree.prototype.attr_prefix="-",PS.ObjTree.prototype.parseXML=function(t){var e;if(window.DOMParser){var n=new DOMParser,r=n.parseFromString(t,"application/xml");if(!r)return;e=r.documentElement}else window.ActiveXObject&&(n=new ActiveXObject("Microsoft.XMLDOM"),n.async=!1,n.loadXML(t),e=n.documentElement);if(e){var o=this.parseDOM(e);return o}},PS.ObjTree.prototype.parseHTTP=function(t,e,n){var r,o={};for(var i in e)o[i]=e[i];if(o.method||("undefined"===typeof o.postBody&&"undefined"===typeof o.postbody&&"undefined"===typeof o.parameters?o.method="get":o.method="post"),n){o.asynchronous=!0;var a=this,u=n,c=o.onComplete;o.onComplete=function(t){var e;t&&t.responseXML&&t.responseXML.documentElement&&(e=a.parseDOM(t.responseXML.documentElement)),u(e,t),c&&c(t)}}else o.asynchronous=!1;if("undefined"!==typeof HTTP&&HTTP.Request){o.uri=t;var s=new HTTP.Request(o);s&&(r=s.transport)}else if("undefined"!==typeof Ajax&&Ajax.Request){s=new Ajax.Request(t,o);s&&(r=s.transport)}return n?r:r&&r.responseXML&&r.responseXML.documentElement?this.parseDOM(r.responseXML.documentElement):void 0},PS.ObjTree.prototype.parseDOM=function(t){if(t){if(this.__force_array={},this.force_array)for(var e=0;e<this.force_array.length;e++)this.__force_array[this.force_array[e]]=1;var n=this.parseElement(t);if(this.__force_array[t.nodeName]&&(n=[n]),11!==t.nodeType){var r={};r[t.nodeName]=n,n=r}return n}},PS.ObjTree.prototype.parseElement=function(t){if(7!==t.nodeType){if(3===t.nodeType||4===t.nodeType||8===t.nodeType){var e=t.nodeValue.match(/[^\x00-\x20]/);if(null==e)return;return t.nodeValue}var n=null,r={};if(t.attributes&&t.attributes.length){n={};for(var o=0;o<t.attributes.length;o++){var i=t.attributes[o].nodeName;if("string"===typeof i){var a=t.attributes[o].nodeValue;try{a=JSON.parse(t.attributes[o].nodeValue.replace(/'/g,'"'))}catch(s){a=t.attributes[o].nodeValue}null!==a&&void 0!==a&&(i=this.attr_prefix+i,"undefined"===typeof r[i]&&(r[i]=0),r[i]++,this.addNode(n,i,r[i],a))}}}if(t.childNodes&&t.childNodes.length){var u=!0;n&&(u=!1);for(o=0;o<t.childNodes.length&&u;o++){var c=t.childNodes[o].nodeType;3!==c&&4!==c&&8!==c&&(u=!1)}if(u){n||(n="");for(o=0;o<t.childNodes.length;o++)n+=t.childNodes[o].nodeValue}else{n||(n={});for(o=0;o<t.childNodes.length;o++){i=t.childNodes[o].nodeName;if("string"===typeof i){a=this.parseElement(t.childNodes[o]);a&&("undefined"===typeof r[i]&&(r[i]=0),r[i]++,this.addNode(n,i,r[i],a))}}}}else null===n&&(n={});return n}},PS.ObjTree.prototype.addNode=function(t,e,n,r){this.__force_array[e]?(1===n&&(t[e]=[]),t[e][t[e].length]=r):1===n?t[e]=r:2===n?t[e]=[t[e],r]:t[e][t[e].length]=r},PS.ObjTree.prototype.writeXML=function(t){var e=this.hash_to_xml(null,t);return this.xmlDecl+e},PS.ObjTree.prototype.hash_to_xml=function(t,e){var n=[],r=[];for(var o in e)if(null===e||void 0===e?void 0:e.hasOwnProperty(o)){var i=e[o];o.charAt(0)!==this.attr_prefix?"undefined"===typeof i||null==i?n[n.length]="<"+o+" />":"object"===typeof i&&i.constructor===Array?n[n.length]=this.array_to_xml(o,i):n[n.length]="object"===typeof i?this.hash_to_xml(o,i):this.scalar_to_xml(o,i):r[r.length]=" "+o.substring(1)+'="'+this.xml_escape(i)+'"'}var a=r.join(""),u=n.join("");return"undefined"===typeof t||null==t||(u=n.length>0?u.match(/\n/)?"<"+t+a+">\n"+u+"</"+t+">\n":"<"+t+a+">"+u+"</"+t+">\n":"<"+t+a+" />\n"),u},PS.ObjTree.prototype.array_to_xml=function(t,e){for(var n=[],r=0;r<e.length;r++){var o=e[r];"undefined"===typeof o||null==o?n[n.length]="<"+t+" />":"object"===typeof o&&o.constructor===Array?n[n.length]=this.array_to_xml(t,o):n[n.length]="object"===typeof o?this.hash_to_xml(t,o):this.scalar_to_xml(t,o)}return n.join("")},PS.ObjTree.prototype.scalar_to_xml=function(t,e){return"#text"===t?this.xml_escape(e):"<"+t+">"+this.xml_escape(e)+"</"+t+">\n"},PS.ObjTree.prototype.xml_escape=function(t){return t.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var MS=function(t){return(new PS.ObjTree).parseXML(t)};function kS(t){return Object.prototype.toString.call(t)}function AS(t){return"  ".repeat(t)}function TS(t){return"[object Object]"===kS(t)?Object.keys(t).reduce((function(e,n){var r=n;return"-"===n.charAt(0)&&(r=n.substring(1)),e[r]=TS(t[n]),e}),{}):Array.isArray(t)?t.map((function(t){return TS(t)})):t}function NS(t){var e=t;try{"string"!==typeof e&&(e=JSON.parse(t))}catch(n){e=JSON.stringify(TS(t)).replace(/"/g,"'")}return e}var DS="\t\n";function CS(t,e,n){var r=AS(n),o="",i=DS+r;if("-json"===e)return"";if("#text"===e)return i+t;if("#cdata-section"===e)return i+"<![CDATA["+t+"]]>";if("#comment"===e)return i+"\x3c!--"+t+"--\x3e";if("-"===(""+e).charAt(0))return" "+e.substring(1)+'="'+NS(t)+'"';if(Array.isArray(t))o+=t.map((function(t){return CS(t,e,n+1)})).join("");else if("[object Object]"===kS(t)){var a=Object.keys(t),u="",c=t["-json"]?DS+AS(n+1)+t["-json"]:"";o+=(0===n?"":i)+"<"+e,a.forEach((function(e){"-"===e.charAt(0)?u+=CS(t[e],e,n+1):c+=CS(t[e],e,n+1)})),o+=u+(""!==c?">"+c+i+"</"+e+">":" />")}else o+=i+"<"+e+">"+t.toString()+"</"+e+">";return o}function IS(t){var e="";for(var n in t)e+=CS(t[n],n,0);return e}var RS,LS=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ZS=function(){return ZS=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},ZS.apply(this,arguments)},BS=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n},zS=function(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},FS=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{while((void 0===e||e-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a},HS=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(FS(arguments[e]));return t};(function(t){t["START"]="bpmn:startEvent",t["END"]="bpmn:endEvent",t["INTERMEDIATE_CATCH"]="bpmn:intermediateCatchEvent",t["INTERMEDIATE_THROW"]="bpmn:intermediateThrowEvent",t["BOUNDARY"]="bpmn:boundaryEvent",t["PARALLEL_GATEWAY"]="bpmn:parallelGateway",t["INCLUSIVE_GATEWAY"]="bpmn:inclusiveGateway",t["EXCLUSIVE_GATEWAY"]="bpmn:exclusiveGateway",t["USER"]="bpmn:userTask",t["SYSTEM"]="bpmn:serviceTask",t["FLOW"]="bpmn:sequenceFlow",t["SUBPROCESS"]="bpmn:subProcess"})(RS||(RS={}));var GS=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef","-children"],XS=["properties","startPoint","endPoint","pointsList"],WS={in:[],out:["properties.panels","properties.nodeSize","properties.definitionId","properties.timerValue","properties.timerType","properties.definitionType","properties.parent","properties.isBoundaryEventTouchingTask"]},US=function(t,e){var n=Object.keys(e||{});return n.forEach((function(n){if(t[n]){var r=e[n],o=r.in,i=r.out;o&&(t[n].in=o),i&&(t[n].out=i)}else t[n]=e[n]})),t},YS={"bpmn:startEvent":{out:function(t){var e,n,r=t.properties;return(null===(n=null===(e=YS[r.definitionType])||void 0===e?void 0:e.out)||void 0===n?void 0:n.call(e,t))||{}}},"bpmn:intermediateCatchEvent":{out:function(t){var e,n,r=t.properties;return(null===(n=null===(e=YS[r.definitionType])||void 0===e?void 0:e.out)||void 0===n?void 0:n.call(e,t))||{}}},"bpmn:intermediateThrowEvent":{out:function(t){var e,n,r=t.properties;return(null===(n=null===(e=YS[r.definitionType])||void 0===e?void 0:e.out)||void 0===n?void 0:n.call(e,t))||{}}},"bpmn:boundaryEvent":{out:function(t){var e,n,r=t.properties;return(null===(n=null===(e=YS[r.definitionType])||void 0===e?void 0:e.out)||void 0===n?void 0:n.call(e,t))||{}}},"bpmn:sequenceFlow":{out:function(t){var e=t.properties,n=e.expressionType,r=e.condition;return r?"cdata"===n?{json:'<bpmn:conditionExpression xsi:type="bpmn2:tFormalExpression"><![CDATA[${'+r+"}]]></bpmn:conditionExpression>"}:{json:'<bpmn:conditionExpression xsi:type="bpmn2:tFormalExpression">'+r+"</bpmn:conditionExpression>"}:{json:""}}},"bpmn:timerEventDefinition":{out:function(t){var e=t.properties,n=e.timerType,r=e.timerValue,o=e.definitionId,i=function(){return"<bpmn:"+n+' xsi:type="bpmn:tFormalExpression">'+r+"</bpmn:"+n+">"};return{json:'<bpmn:timerEventDefinition id="'+o+'"'+(n&&r?">"+i()+"</bpmn:timerEventDefinition>":"/>")}},in:function(t,e){var n,r,o,i,a=t,u=e["-id"],c="",s="";try{for(var l=zS(Object.keys(e)),f=l.next();!f.done;f=l.next()){var p=f.value;p.includes("bpmn:")&&(o=FS(p.split(":"),2),c=o[1],s=null===(i=e[p])||void 0===i?void 0:i["#text"])}}catch(d){n={error:d}}finally{try{f&&!f.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}return{"-definitionId":u,"-definitionType":a,"-timerType":c,"-timerValue":s}}},"bpmn:conditionExpression":{in:function(t,e){var n,r="",o="";return e["#cdata-section"]?(o="cdata",r=(null===(n=/^\$\{(.*)\}$/g.exec(e["#cdata-section"]))||void 0===n?void 0:n[1])||""):e["#text"]&&(o="normal",r=e["#text"]),{"-condition":r,"-expressionType":o}}}};function VS(t){var e=null!==t&&void 0!==t?t:{},n=e.retainedAttrsFields,r=e.excludeFields,o=e.transformer,i=new Set(HS(XS,n||[])),a={in:new Set(HS(WS.in,(null===r||void 0===r?void 0:r.in)||[])),out:new Set(HS(WS.out,(null===r||void 0===r?void 0:r.out)||[]))};return YS=US(YS,o),function(t){var e=t.nodes,n=t.edges;function r(t,o){var u,c,s;if(1!==(null===t||void 0===t?void 0:t.flag)){var l;if((l=YS[t.type])&&l.out){var f=l.out(t),p=Object.keys(f);p.length>0&&p.forEach((function(e){t[e]=f[e]}))}(null===t||void 0===t?void 0:t.children)&&(t.children=t.children.map((function(t){var r=e.find((function(e){return e.id===t}))||n.find((function(e){return e.id===t}));return r||{}})));var d={};if("string"===typeof t)return t;if(Array.isArray(t))return t.map((function(t){return r(t,"")})).filter((function(t){return void 0!=t}));try{for(var h=zS(Object.entries(t)),y=h.next();!y.done;y=h.next()){var v=FS(y.value,2),g=v[0],b=v[1];if(1===(null===(s=b)||void 0===s?void 0:s["flag"]))return;var m=[o,g].filter((function(t){return t})).join(".");a.out.has(m)||("object"!==typeof b?0===g.indexOf("-")||["#text","#cdata-section","#comment"].includes(g)?d[g]=b:d["-"+g]=b:i.has(m)?d["-"+g]=r(b,m):d[g]=r(b,m))}}catch(_){u={error:_}}finally{try{y&&!y.done&&(c=h.return)&&c.call(h)}finally{if(u)throw u.error}}return d}}return r(t,"")}}function KS(t){var e,n,r={};try{for(var o=zS(Object.entries(t)),i=o.next();!i.done;i=o.next()){var a=FS(i.value,2),u=a[0],c=a[1];0===u.indexOf("-")?r[u.substring(1)]=TS(c):"string"===typeof c?r[u]=c:"[object Object]"===Object.prototype.toString.call(c)?r[u]=KS(c):Array.isArray(c)?r[u]=c.map((function(t){return KS(t)})):r[u]=c}}catch(s){e={error:s}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r}function qS(t,e,n){var r,o=new Map,i=VS(n)(e);i.nodes.forEach((function(e){var n=e["-id"],r=e["-type"],i=e.text,a=e.children,u=BS(e,["-id","-type","text","children"]),c={"-id":n};(null===i||void 0===i?void 0:i["-value"])&&(c["-name"]=i["-value"]),u["-json"]&&(c["-json"]=u["-json"]),u["-properties"]&&Object.assign(c,u["-properties"]),a&&(c.children=a),t[r]||(t[r]=[]),t[r].push(c),o.set(n,c)}));var a=i.edges.map((function(t){var e=t["-id"],n=(t["-type"],t["-sourceNodeId"]),r=t["-targetNodeId"],i=t.text,a=BS(t,["-id","-type","-sourceNodeId","-targetNodeId","text"]),u=o.get(r);u["bpmn:incoming"]||(u["bpmn:incoming"]=[]),u["bpmn:incoming"].push(e);var c={"-id":e,"-sourceRef":n,"-targetRef":r};return(null===i||void 0===i?void 0:i["-value"])&&(c["-name"]=i["-value"]),a["-json"]&&(c["-json"]=a["-json"]),a["-properties"]&&Object.assign(c,a["-properties"]),c}));return e.edges.forEach((function(t){var e=t.sourceNodeId,n=t.id,r=o.get(e);r["bpmn:outgoing"]||(r["bpmn:outgoing"]=[]),r["bpmn:outgoing"].push(n)})),null===(r=t["bpmn:subProcess"])||void 0===r||r.forEach((function(e){var n={"bpmn:incoming":new Set,"bpmn:outgoing":new Set},r=[];e.children.forEach((function(r){var i,a=o.get(r["-id"]);["bpmn:incoming","bpmn:outgoing"].forEach((function(t){a[t]&&a[t].forEach((function(e){n[t].add(e)}))}));var u=null===(i=t[r["-type"]])||void 0===i?void 0:i.findIndex((function(t){return t["-id"]===r["-id"]}));u>=0&&t[r["-type"]].splice(u,1),o.delete(r["-id"]),e[r["-type"]]||(e[r["-type"]]=[]),e[r["-type"]].push(a)}));var i=n["bpmn:incoming"],u=n["bpmn:outgoing"];u.forEach((function(t){i.has(t)&&r.push(t)}));for(var c,s=function(t){var n=a.findIndex((function(e){return e["-id"]===r[t]}));n>=0?(e["bpmn:sequenceFlow"]||(e["bpmn:sequenceFlow"]=[]),e["bpmn:sequenceFlow"].push(a[n]),a.splice(n,1)):t++,c=t},l=0;l<r.length;)s(l),l=c;delete e.children})),t[RS.FLOW]=a,t}function $S(t,e){t["bpmndi:BPMNEdge"]=e.edges.map((function(t){var e,n=t.id,r=t.pointsList.map((function(t){var e=t.x,n=t.y;return{"-x":e,"-y":n}})),o={"-id":n+"_di","-bpmnElement":n,"di:waypoint":r};return(null===(e=t.text)||void 0===e?void 0:e.value)&&(o["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":t.text.x-10*t.text.value.length/2,"-y":t.text.y-7,"-width":10*t.text.value.length,"-height":14}}),o})),t["bpmndi:BPMNShape"]=e.nodes.map((function(t){var e,n=t.id,r=100,o=80,i=t.x,a=t.y,u=oP.shapeConfigMap.get(t.type);u&&(r=u.width,o=u.height),i-=r/2,a-=o/2;var c={"-id":n+"_di","-bpmnElement":n,"dc:Bounds":{"-x":i,"-y":a,"-width":r,"-height":o}};return(null===(e=t.text)||void 0===e?void 0:e.value)&&(c["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":t.text.x-10*t.text.value.length/2,"-y":t.text.y-7,"-width":10*t.text.value.length,"-height":14}}),c}))}var JS=["bpmn:incoming","bpmn:outgoing"];function QS(t,e){var n=[],r=[],o=new Map,i=null!==e&&void 0!==e?e:{},a=i.transformer,u=i.excludeFields,c={in:new Set(HS(WS.in,(null===u||void 0===u?void 0:u.in)||[])),out:new Set(HS(WS.out,(null===u||void 0===u?void 0:u.out)||[]))};YS=US(YS,a);var s=t["bpmn:definitions"];if(s){var l=s["bpmn:process"];(function(t,e){e.forEach((function(e){try{Object.keys(t).forEach((function(t){try{e(t)}catch(n){console.error(n)}}))}catch(n){console.error(n)}}))})(l,[function(t){function e(t){t["-children"]||(t["-children"]=[]),Object.keys(t).forEach((function(e){var n;0!==e.indexOf("bpmn:")||JS.includes(e)||(l[e]||(l[e]=[]),!Array.isArray(l[e])&&(l[e]=[l[e]]),Array.isArray(t[e])?(n=l[e]).push.apply(n,HS(t[e])):l[e].push(t[e]),Array.isArray(t[e])?t[e].forEach((function(n){!e.includes("Flow")&&t["-children"].push(n["-id"])})):!e.includes("Flow")&&t["-children"].push(t[e]["-id"]),delete t[e])}))}if("bpmn:subProcess"===t){var n=l[t];Array.isArray(n)?n.forEach((function(n){"bpmn:subProcess"===t&&e(n)})):e(n)}},function(t){var e=function(t){Object.keys(t).forEach((function(e){var r,o;if(e.includes("bpmn:")){var i={};YS[e]&&YS[e].in?(i=null===(o=(r=YS[e]).in)||void 0===o?void 0:o.call(r,e,vS.cloneDeep(t[e])),delete t[e]):n(t[e]);var a=void 0;(a=Reflect.ownKeys(i)).length>0&&a.forEach((function(e){Reflect.set(t,e,i[e])}))}}))};function n(t){o.set(t["-id"],t),Array.isArray(t)?t.forEach((function(t){n(t)})):"object"===typeof t&&e(t)}n(l[t])},function(t){if(0===t.indexOf("bpmn:")){var e=l[t];if("bpmn:sequenceFlow"===t){var i=s["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];r=nP(e,i)}else{var a=s["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];if("bpmn:boundaryEvent"===t){var u=l[t],c=function(t){var e=t["-attachedToRef"],n=o.get(e);n["-boundaryEvents"]||(n["-boundaryEvents"]=[]),n["-boundaryEvents"].push(t["-id"])};Array.isArray(u)?u.forEach((function(t){c(t)})):c(u)}n=n.concat(tP(e,a,t))}}}])}var f=function(t,e,n){Object.keys(t).forEach((function(r){var o=n?n+"."+r:r;e.has(o)?delete t[r]:"object"===typeof t[r]&&f(t[r],e,o)}))};return n.forEach((function(t){var n,r;if(null===(n=null===e||void 0===e?void 0:e.mapping)||void 0===n?void 0:n.in){var o=null===(r=null===e||void 0===e?void 0:e.mapping)||void 0===r?void 0:r.in,i=t.type;o[i]&&(t.type=o[i])}f(t,c.in,"")})),r.forEach((function(t){var n,r;if(null===(n=null===e||void 0===e?void 0:e.mapping)||void 0===n?void 0:n.in){var o=null===(r=null===e||void 0===e?void 0:e.mapping)||void 0===r?void 0:r.in,i=t.type;o[i]&&(t.type=o[i])}f(t,c.in,"")})),{nodes:n,edges:r}}function tP(t,e,n){var r=[];if(Array.isArray(t))t.forEach((function(t){var o;o=Array.isArray(e)?e.find((function(e){return e["-bpmnElement"]===t["-id"]})):e;var i=eP(o,n,t);r.push(i)}));else{var o=void 0;o=Array.isArray(e)?e.find((function(e){return e["-bpmnElement"]===t["-id"]})):e;var i=eP(o,n,t);r.push(i)}return r}function eP(t,e,n){var r=Number(t["dc:Bounds"]["-x"]),o=Number(t["dc:Bounds"]["-y"]),i=n["-children"],a=n["-name"],u=oP.shapeConfigMap.get(e);u&&(r+=u.width/2,o+=u.height/2);var c,s={};if(Object.entries(n).forEach((function(t){var e=FS(t,2),n=e[0],r=e[1];GS.includes(n)||(s[n]=r)})),s=KS(s),a&&(c={x:r,y:o,value:a},t["bpmndi:BPMNLabel"]&&t["bpmndi:BPMNLabel"]["dc:Bounds"])){var l=t["bpmndi:BPMNLabel"]["dc:Bounds"];c.x=Number(l["-x"])+Number(l["-width"])/2,c.y=Number(l["-y"])+Number(l["-height"])/2}var f={id:t["-bpmnElement"],type:e,x:r,y:o,properties:s};return i&&(f.children=i),c&&(f.text=c),f}function nP(t,e){var n=[];if(Array.isArray(t))t.forEach((function(t){var r;r=Array.isArray(e)?e.find((function(e){return e["-bpmnElement"]===t["-id"]})):e,n.push(rP(r,t))}));else{var r=void 0;r=Array.isArray(e)?e.find((function(e){return e["-bpmnElement"]===t["-id"]})):e,n.push(rP(r,t))}return n}function rP(t,e){var n,r=e["-name"];if(r){var o=t["bpmndi:BPMNLabel"]["dc:Bounds"],i=0;r.split("\n").forEach((function(t){i<t.length&&(i=t.length)})),n={value:r,x:Number(o["-x"])+10*i/2,y:Number(o["-y"])+7}}var a={};Object.entries(e).forEach((function(t){var e=FS(t,2),n=e[0],r=e[1];GS.includes(n)||(a[n]=r)})),a=KS(a);var u=t["di:waypoint"].map((function(t){return{x:Number(t["-x"]),y:Number(t["-y"])}})),c={id:e["-id"],type:RS.FLOW,pointsList:u,sourceNodeId:e["-sourceRef"],targetNodeId:e["-targetRef"],properties:a};return n&&(c.text=n),c}var oP=function(){function t(t){var e=this,n=t.lf;this.adapterOut=function(t,n){var r,o,i=ZS({},e.processAttributes);qS(i,t,n);var a={"-id":"BPMNPlane_1","-bpmnElement":i["-id"]};$S(a,t);var u=e.definitionAttributes;u["bpmn:process"]=i,u["bpmndi:BPMNDiagram"]={"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":a};var c={"bpmn:definitions":u};if(null===(r=null===n||void 0===n?void 0:n.mapping)||void 0===r?void 0:r.out){var s=null===(o=null===n||void 0===n?void 0:n.mapping)||void 0===o?void 0:o.out,l=function(t){Array.isArray(t)&&t.forEach((function(t){return l(t)})),"object"===typeof t&&Object.keys(t).forEach((function(e){var n;(n=s[e])?(t[n]=vS.cloneDeep(t[e]),delete t[e],l(t[n])):l(t[e])}))};l(c)}return c},this.adapterIn=function(t,e){if(t)return QS(t,e)},n.adapterIn=this.adapterIn,n.adapterOut=this.adapterOut,this.processAttributes={"-isExecutable":"true","-id":"Process"},this.definitionAttributes={"-id":"Definitions","-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://logic-flow.org","-exporter":"logicflow","-exporterVersion":"1.2.10"}}return t.prototype.setCustomShape=function(e,n){t.shapeConfigMap.set(e,n)},t.pluginName="bpmn-adapter",t.shapeConfigMap=new Map,t}();oP.shapeConfigMap.set(RS.START,{width:gS.width,height:gS.height}),oP.shapeConfigMap.set(RS.END,{width:bS.width,height:bS.height}),oP.shapeConfigMap.set(RS.INTERMEDIATE_CATCH,{width:_S.width,height:_S.height}),oP.shapeConfigMap.set(RS.INTERMEDIATE_THROW,{width:_S.width,height:_S.height}),oP.shapeConfigMap.set(RS.BOUNDARY,{width:mS.width,height:mS.height}),oP.shapeConfigMap.set(RS.PARALLEL_GATEWAY,{width:OS.width,height:OS.height}),oP.shapeConfigMap.set(RS.INCLUSIVE_GATEWAY,{width:wS.width,height:wS.height}),oP.shapeConfigMap.set(RS.EXCLUSIVE_GATEWAY,{width:xS.width,height:xS.height}),oP.shapeConfigMap.set(RS.SYSTEM,{width:ES.width,height:ES.height}),oP.shapeConfigMap.set(RS.USER,{width:jS.width,height:jS.height}),oP.shapeConfigMap.set(RS.SUBPROCESS,{width:SS.width,height:SS.height});(function(t){function e(e){var n=t.call(this,e)||this;n.adapterXmlIn=function(t){var e=MS(t);return n.adapterIn(e,n.props)},n.adapterXmlOut=function(t){var e=n.adapterOut(t,n.props);return IS(e)};var r=e.lf,o=e.props;return r.adapterIn=n.adapterXmlIn,r.adapterOut=n.adapterXmlOut,n.props=o,n}LS(e,t),e.pluginName="BPMNAdapter"})(oP);var iP=function(){function t(t){var e=this,n=t.lf;this.lf=n,this.customCssRules="",this.useGlobalRules=!0,n.getSnapshot=function(t,n){e.getSnapshot(t,n)},n.getSnapshotBlob=function(t){return e.getSnapshotBlob(t)},n.getSnapshotBase64=function(t){return e.getSnapshotBase64(t)}}return t.prototype.getSvgRootElement=function(t){var e=t.container.querySelector(".lf-canvas-overlay");return e},t.prototype.triggerDownload=function(t){var e=new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0}),n=document.createElement("a");n.setAttribute("download",this.fileName),n.setAttribute("href",t),n.setAttribute("target","_blank"),n.dispatchEvent(e)},t.prototype.removeAnchor=function(t){for(var e=t.childNodes,n=t.childNodes&&t.childNodes.length,r=0;r<n;r++){var o=e[r],i=o.classList&&Array.from(o.classList)||[];i.indexOf("lf-anchor")>-1&&(t.removeChild(t.childNodes[r]),n--,r--)}},t.prototype.getSnapshot=function(t,e){var n=this;this.fileName=t||"logic-flow."+Date.now()+".png";var r=this.getSvgRootElement(this.lf);this.getCanvasData(r,e).then((function(t){var e=t.toDataURL("image/png").replace("image/png","image/octet-stream");n.triggerDownload(e)}))},t.prototype.getSnapshotBase64=function(t){var e=this,n=this.getSvgRootElement(this.lf);return new Promise((function(r){e.getCanvasData(n,t).then((function(t){var e=t.toDataURL("image/png");r({data:e,width:t.width,height:t.height})}))}))},t.prototype.getSnapshotBlob=function(t){var e=this,n=this.getSvgRootElement(this.lf);return new Promise((function(r){e.getCanvasData(n,t).then((function(t){t.toBlob((function(e){r({data:e,width:t.width,height:t.height})}),"image/png")}))}))},t.prototype.getClassRules=function(){var t="";if(this.useGlobalRules)for(var e=document.styleSheets,n=0;n<e.length;n++)for(var r=e[n],o=0;o<r.cssRules.length;o++)t+=r.cssRules[o].cssText;return this.customCssRules&&(t+=this.customCssRules),t},t.prototype.getCanvasData=function(t,e){var n=this,r=t.cloneNode(!0),o=r.lastChild,i=o.childNodes&&o.childNodes.length;if(i)for(var a=0;a<i;a++){var u=o.childNodes[a],c=u.classList&&Array.from(u.classList);if(c&&c.indexOf("lf-base")<0)o.removeChild(o.childNodes[a]),i--,a--;else{var s=o.childNodes[a];s&&s.childNodes.forEach((function(t){var e=t;n.removeAnchor(e.firstChild)}))}}var l=window.devicePixelRatio||1;l<1&&(l=1);var f=document.createElement("canvas"),p=this.lf.graphModel.rootEl.querySelector(".lf-base"),d=p.getBoundingClientRect(),h=document.querySelector(".lf-canvas-overlay").getBoundingClientRect(),y=d.x-h.x,v=d.y-h.y,g=this.lf.graphModel,b=g.transformModel,m=b.SCALE_X,_=b.SCALE_Y,O=b.TRANSLATE_X,w=b.TRANSLATE_Y;r.lastChild.style.transform="matrix(1, 0, 0, 1, "+((-y+O)*(1/m)+10)+", "+((-v+w)*(1/_)+10)+")";var x=Math.ceil(d.width/m),E=Math.ceil(d.height/_);f.style.width=x+"px",f.style.height=E+"px",f.width=x*l+80,f.height=E*l+80;var j=f.getContext("2d");j.clearRect(0,0,f.width,f.height),j.scale(l,l),e?(j.fillStyle=e,j.fillRect(0,0,x*l+80,E*l+80)):j.clearRect(0,0,x,E);var S=new Image,P=document.createElement("style");P.innerHTML=this.getClassRules();var M=document.createElement("foreignObject");return M.appendChild(P),r.appendChild(M),new Promise((function(t){S.onload=function(){var e=navigator.userAgent.indexOf("Firefox")>-1;try{e?createImageBitmap(S,{resizeWidth:f.width,resizeHeight:f.height}).then((function(e){j.drawImage(e,0,0),t(f)})):(j.drawImage(S,0,0),t(f))}catch(n){j.drawImage(S,0,0),t(f)}};var e="data:image/svg+xml;charset=utf-8,"+(new XMLSerializer).serializeToString(r),n=e.replace(/\n/g,"").replace(/\t/g,"").replace(/#/g,"%23");S.src=n}))},t.pluginName="snapshot",t}(),aP=function(){return aP=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},aP.apply(this,arguments)},uP=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{while((void 0===e||e-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a},cP={SEQUENCE_FLOW:1,START_EVENT:2,END_EVENT:3,USER_TASK:4,EXCLUSIVE_GATEWAY:6},sP={1:"bpmn:sequenceFlow",2:"bpmn:startEvent",3:"bpmn:endEvent",4:"bpmn:userTask",6:"bpmn:exclusiveGateway"};function lP(t){switch(t){case"bpmn:sequenceFlow":return cP.SEQUENCE_FLOW;case"bpmn:startEvent":return cP.START_EVENT;case"bpmn:endEvent":return cP.END_EVENT;case"bpmn:userTask":return cP.USER_TASK;case"bpmn:exclusiveGateway":return cP.EXCLUSIVE_GATEWAY;default:return t}}function fP(t){var e=t.id,n=(t.type,t.x),r=t.y,o=t.text,i=void 0===o?"":o,a=t.properties;return{incoming:[],outgoing:[],dockers:[],type:lP(t.type),properties:aP(aP({},a),{name:i&&i.value||"",x:n,y:r,text:i}),key:e}}function pP(t){var e=t.id,n=t.type,r=t.sourceNodeId,o=t.targetNodeId,i=t.startPoint,a=t.endPoint,u=t.pointsList,c=t.text,s=void 0===c?"":c,l=t.properties;return{incoming:[r],outgoing:[o],type:lP(n),dockers:[],properties:aP(aP({},l),{name:s&&s.value||"",text:s,startPoint:JSON.stringify(i),endPoint:JSON.stringify(a),pointsList:JSON.stringify(u)}),key:e}}function dP(t){var e=new Map,n={flowElementList:[]};return t.nodes.forEach((function(t){var r=fP(t);n.flowElementList.push(r),e.set(t.id,r)})),t.edges.forEach((function(t){var r=pP(t),o=e.get(t.sourceNodeId);o.outgoing.push(r.key);var i=e.get(t.targetNodeId);i.incoming.push(r.key),n.flowElementList.push(r)})),n}function hP(t){var e=t.incoming,n=t.outgoing,r=t.properties,o=t.key,i=t.type,a=r.text,u=r.name,c=r.startPoint,s=r.endPoint,l=r.pointsList,f={id:o,type:sP[i],sourceNodeId:e[0],targetNodeId:n[0],text:a||u,properties:{}};c&&(f.startPoint=JSON.parse(c)),s&&(f.endPoint=JSON.parse(s)),l&&(f.pointsList=JSON.parse(l));var p=["startPoint","endPoint","pointsList","text"];return Object.keys(t.properties).forEach((function(e){-1===p.indexOf(e)&&(f.properties[e]=t.properties[e])})),f}function yP(t){var e=t.properties,n=t.key,r=t.type,o=t.bounds,i=e.x,a=e.y,u=e.text;if(void 0===i){var c=uP(o,2),s=c[0],l=s.x,f=s.y,p=c[1],d=p.x,h=p.y;i=(l+d)/2,a=(f+h)/2}var y={id:n,type:sP[r],x:i,y:a,text:u,properties:{}},v=["x","y","text"];return Object.keys(t.properties).forEach((function(e){-1===v.indexOf(e)&&(y.properties[e]=t.properties[e])})),y}function vP(t){var e={nodes:[],edges:[]},n=t.flowElementList;return n&&n.length>0&&n.forEach((function(t){if(t.type===cP.SEQUENCE_FLOW){var n=hP(t);e.edges.push(n)}else{var r=yP(t);e.nodes.push(r)}})),e}var gP;(function(){function t(t){var e=t.lf;e.adapterIn=this.adapterIn,e.adapterOut=this.adapterOut}t.prototype.adapterOut=function(t){if(t)return dP(t)},t.prototype.adapterIn=function(t){if(t)return vP(t)},t.pluginName="turboAdapter"})();(function(t){t["HORIZONTAL"]="horizontal",t["VERTICAL"]="vertical"})(gP||(gP={}));var bP=function(t,e,n,r){void 0===r&&(r=0);var o=wP(t,e,n);return o<=r};function mP(t){return t*t}function _P(t,e){return mP(t.x-e.x)+mP(t.y-e.y)}var OP=function(t,e,n){var r=_P(e,n);if(0===r)return _P(t,e);var o=((t.x-e.x)*(n.x-e.x)+(t.y-e.y)*(n.y-e.y))/r;return o=Math.max(0,Math.min(1,o)),_P(t,{x:e.x+o*(n.x-e.x),y:e.y+o*(n.y-e.y)})},wP=function(t,e,n){return Math.sqrt(OP(t,e,n))},xP=function(t){var e=t.x,n=t.y,r=t.width,o=t.height,i={minX:e-r/2,minY:n-o/2,maxX:e+r/2,maxY:n+o/2,x:e,y:n,width:r,height:o,centerX:e,centerY:n};return i},EP=function(t,e){var n;return t.x===e.x?n=gP.VERTICAL:t.y===e.y&&(n=gP.HORIZONTAL),n},jP=function(t,e,n){var r=xP(t),o=EP(e,n),i=Math.max(e.x,n.x),a=Math.min(e.x,n.x),u=Math.max(e.y,n.y),c=Math.min(e.y,n.y),s=t.x,l=t.y,f=t.width,p=t.height;if(o===gP.HORIZONTAL){if(i>=r.maxX&&a<=r.minX)return{startCrossPoint:{x:e.x>n.x?s+f/2:s-f/2,y:e.y},endCrossPoint:{x:e.x>n.x?s-f/2:s+f/2,y:e.y}}}else if(o===gP.VERTICAL&&u>=r.maxY&&c<=r.minY)return{startCrossPoint:{x:e.x,y:e.y>n.y?l+p/2:l-p/2},endCrossPoint:{x:e.x,y:e.y>n.y?l-p/2:l+p/2}}},SP=function(t,e,n){void 0===n&&(n=0);for(var r=t.x,o=t.y,i=e.pointsList,a=0;a<i.length-1;a++)if(bP({x:r,y:o},i[a],i[a+1],n)){var u=jP(t,i[a],i[a+1]);if(u)return{crossIndex:a+1,crossPoints:u}}return{crossIndex:-1,crossPoints:{startCrossPoint:{x:0,y:0},endCrossPoint:{x:0,y:0}}}},PP=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{while((void 0===e||e-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a},MP=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(PP(arguments[e]));return t},kP=(function(){function t(t){var e=t.lf;this._lf=e,this.deviation=20,this.dndAdd=!0,this.dropAdd=!0,this.eventHandler()}t.prototype.eventHandler=function(){var t=this;this.dndAdd&&this._lf.on("node:dnd-add",(function(e){var n=e.data;t.insetNode(n)})),this.dropAdd&&this._lf.on("node:drop",(function(e){for(var n=e.data,r=t._lf.graphModel.edges,o=n.id,i=!0,a=0;a<r.length;a++)if(r[a].sourceNodeId===o||r[a].targetNodeId===o){i=!1;break}i&&t.insetNode(n)}))},t.prototype.checkRuleBeforeInsetNode=function(t,e,n,o,i){var a=this._lf.getNodeModelById(t),u=this._lf.getNodeModelById(e),c=a.getAnchorInfo(n),s=u.getAnchorInfo(o),l=a.isAllowConnectedAsSource(i,c,s),f=u.isAllowConnectedAsTarget(i,c,s),p=(0,r.formateAnchorConnectValidateData)(l),d=p.isAllPass,h=p.msg,y=(0,r.formateAnchorConnectValidateData)(f),v=y.isAllPass,g=y.msg;return{isPass:d&&v,sourceMsg:h,targetMsg:g}},t.prototype.insetNode=function(t){for(var e=this,n=this._lf.graphModel.edges,o=this._lf.getNodeModelById(t.id),i=0;i<n.length;i++){var a=SP(o,n[i],this.deviation),u=a.crossIndex,c=a.crossPoints;if(u>=0){var s=n[i],l=s.sourceNodeId,f=s.targetNodeId,p=s.id,d=s.type,h=s.pointsList,y=s.sourceAnchorId,v=s.targetAnchorId,g=(0,oh.Z)(h[0]),b=(0,oh.Z)(c.startCrossPoint);this._lf.deleteEdge(p);var m=this.checkRuleBeforeInsetNode(l,f,y,v,t);if(this._lf.addEdge({type:d,sourceNodeId:l,targetNodeId:t.id,startPoint:g,endPoint:b,pointsList:MP(h.slice(0,u),[c.startCrossPoint])}),this._lf.addEdge({type:d,sourceNodeId:t.id,targetNodeId:f,startPoint:(0,oh.Z)(c.endCrossPoint),endPoint:(0,oh.Z)(h[h.length-1]),pointsList:MP([c.endCrossPoint],h.slice(u))}),m.isPass)break;this._lf.graphModel.eventCenter.emit(r.EventType.CONNECTION_NOT_ALLOWED,{data:t,msg:m.targetMsg||m.sourceMsg}),setTimeout((function(){e._lf.undo()}),200);break}}},t.pluginName="insertNodeInPolyline"}(),function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{while((void 0===e||e-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a}),AP=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(kP(arguments[e]));return t},TP=(function(){function t(t){var e=this,n=t.lf;this.controlItems=[{key:"zoom-out",iconClass:"lf-control-zoomOut",title:"缩小流程图",text:"缩小",onClick:function(){e.lf.zoom(!1)}},{key:"zoom-in",iconClass:"lf-control-zoomIn",title:"放大流程图",text:"放大",onClick:function(){e.lf.zoom(!0)}},{key:"reset",iconClass:"lf-control-fit",title:"恢复流程原有尺寸",text:"适应",onClick:function(){e.lf.resetZoom()}},{key:"undo",iconClass:"lf-control-undo",title:"回到上一步",text:"上一步",onClick:function(){e.lf.undo()}},{key:"redo",iconClass:"lf-control-redo",title:"移到下一步",text:"下一步",onClick:function(){e.lf.redo()}}],this.lf=n}t.prototype.render=function(t,e){this.destroy();var n=this.getControlTool();this.toolEl=n,e.appendChild(n),this.domContainer=e},t.prototype.destroy=function(){this.domContainer&&this.toolEl&&this.domContainer.contains(this.toolEl)&&this.domContainer.removeChild(this.toolEl)},t.prototype.addItem=function(t){this.controlItems.push(t)},t.prototype.removeItem=function(t){var e=this.controlItems.findIndex((function(e){return e.key===t}));return-1==e?null:this.controlItems.splice(e,1)[0]},t.prototype.getControlTool=function(){var t=this,e="lf-control-item",n="lf-control-item disabled",r=document.createElement("div"),o=[];return r.className="lf-control",this.controlItems.forEach((function(r){var i=document.createElement("div"),a=document.createElement("i"),u=document.createElement("span");switch(i.className=n,r.onClick&&(i.onclick=r.onClick.bind(null,t.lf)),r.onMouseEnter&&(i.onmouseenter=r.onMouseEnter.bind(null,t.lf)),r.onMouseLeave&&(i.onmouseleave=r.onMouseLeave.bind(null,t.lf)),a.className=r.iconClass,u.className="lf-control-text",u.title=r.title,u.innerText=r.text,i.append(a,u),r.text){case"上一步":t.lf.on("history:change",(function(t){var r=t.data.undoAble;i.className=r?e:n}));break;case"下一步":t.lf.on("history:change",(function(t){var r=t.data.redoAble;i.className=r?e:n}));break;default:i.className=e;break}o.push(i)})),r.append.apply(r,AP(o)),r},t.pluginName="control"}(),function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{while((void 0===e||e-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a}),NP=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(TP(arguments[e]));return t},DP="lf:defaultNodeMenu",CP="lf:defaultEdgeMenu",IP="lf:defaultGraphMenu",RP="lf:defaultSelectionMenu",LP=function(){function t(t){var e=this,n=t.lf;this.__menuDOM=document.createElement("ul"),this.lf=n,this.menuTypeMap=new Map,this.init(),this.lf.setMenuConfig=function(t){e.setMenuConfig(t)},this.lf.addMenuConfig=function(t){e.addMenuConfig(t)},this.lf.setMenuByType=function(t){e.setMenuByType(t)}}return t.prototype.init=function(){var t=this,e=[{text:"删除",callback:function(e){t.lf.deleteNode(e.id)}},{text:"编辑文本",callback:function(e){t.lf.graphModel.editText(e.id)}},{text:"复制",callback:function(e){t.lf.cloneNode(e.id)}}];this.menuTypeMap.set(DP,e);var n=[{text:"删除",callback:function(e){t.lf.deleteEdge(e.id)}},{text:"编辑文本",callback:function(e){t.lf.graphModel.editText(e.id)}}];this.menuTypeMap.set(CP,n),this.menuTypeMap.set(IP,[]);var r=[{text:"删除",callback:function(e){t.lf.clearSelectElements(),e.edges.forEach((function(e){return t.lf.deleteEdge(e.id)})),e.nodes.forEach((function(e){return t.lf.deleteNode(e.id)}))}}];this.menuTypeMap.set(RP,r)},t.prototype.render=function(t,e){var n=this;this.__container=e,this.__currentData=null,this.__menuDOM.className="lf-menu",e.appendChild(this.__menuDOM),this.__menuDOM.addEventListener("click",(function(t){t.stopPropagation();var e=t.target;while(-1===Array.from(e.classList).indexOf("lf-menu-item")&&-1===Array.from(e.classList).indexOf("lf-menu"))e=e.parentElement;Array.from(e.classList).indexOf("lf-menu-item")>-1?(e.onclickCallback(n.__currentData),n.__menuDOM.style.display="none",n.__currentData=null):console.warn("点击区域不在菜单项内，请检查代码！")}),!0),this.lf.on("node:contextmenu",(function(t){var e=t.data,r=t.position,o=t.e,i=r.domOverlayPosition,a=i.x,u=i.y,c=e.id,s=n.lf.graphModel.getNodeModelById(c),l=[],f=n.menuTypeMap.get(s.type);l=s&&s.menu&&Array.isArray(s.menu)?s.menu:f||n.menuTypeMap.get(DP),n.__currentData=e,n.showMenu(a,u,l,{width:s.width,height:s.height,clientX:o.clientX,clientY:o.clientY})})),this.lf.on("edge:contextmenu",(function(t){var e=t.data,r=t.position,o=t.e,i=r.domOverlayPosition,a=i.x,u=i.y,c=e.id,s=n.lf.graphModel.getEdgeModelById(c),l=[],f=n.menuTypeMap.get(s.type);l=s&&s.menu&&Array.isArray(s.menu)?s.menu:f||n.menuTypeMap.get(CP),n.__currentData=e,n.showMenu(a,u,l,{width:s.width,height:s.height,clientX:o.clientX,clientY:o.clientY})})),this.lf.on("blank:contextmenu",(function(t){var e=t.position,r=n.menuTypeMap.get(IP),o=e.domOverlayPosition,i=o.x,a=o.y;n.showMenu(i,a,r)})),this.lf.on("selection:contextmenu",(function(t){var e=t.data,r=t.position,o=n.menuTypeMap.get(RP),i=r.domOverlayPosition,a=i.x,u=i.y;n.__currentData=e,n.showMenu(a,u,o)})),this.lf.on("node:mousedown",(function(){n.__menuDOM.style.display="none"})),this.lf.on("edge:click",(function(){n.__menuDOM.style.display="none"})),this.lf.on("blank:click",(function(){n.__menuDOM.style.display="none"}))},t.prototype.destroy=function(){var t;null===(t=null===this||void 0===this?void 0:this.__container)||void 0===t||t.removeChild(this.__menuDOM),this.__menuDOM=null},t.prototype.showMenu=function(t,e,n,r){if(n&&n.length){var o=this.__menuDOM;if(o.innerHTML="",o.append.apply(o,NP(this.__getMenuDom(n))),o.children.length){if(o.style.display="block",!r)return o.style.top=e+"px",void(o.style.left=t+"px");var i=r.width,a=r.height,u=r.clientX,c=r.clientY,s=this.lf.graphModel,l=o.offsetWidth,f=!0,p=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,d=p-u,h=s.rootEl.getBoundingClientRect(),y=h.left+h.width;y<p&&(d=y-u),d<l&&(f=!1),o.style.left=f?t+"px":t-i+"px";var v=o.offsetHeight,g=!0,b=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,m=b-c,_=h.top+h.height;_<b&&(m=_-c),m<v&&(g=!1),o.style.top=g?e+"px":e-a+"px"}}},t.prototype.setMenuByType=function(t){t.type&&t.menu&&this.menuTypeMap.set(t.type,t.menu)},t.prototype.__getMenuDom=function(t){var e=[];return t&&t.length>0&&t.forEach((function(t){var n=document.createElement("li");if(t.className?n.className="lf-menu-item "+t.className:n.className="lf-menu-item",!0===t.icon){var r=document.createElement("span");r.className="lf-menu-item-icon",n.appendChild(r)}var o=document.createElement("span");o.className="lf-menu-item-text",t.text&&(o.innerText=t.text),n.appendChild(o),n.onclickCallback=t.callback,e.push(n)})),e},t.prototype.setMenuConfig=function(t){t&&(void 0!==t.nodeMenu&&this.menuTypeMap.set(DP,t.nodeMenu?t.nodeMenu:[]),void 0!==t.edgeMenu&&this.menuTypeMap.set(CP,t.edgeMenu?t.edgeMenu:[]),void 0!==t.graphMenu&&this.menuTypeMap.set(IP,t.graphMenu?t.graphMenu:[]))},t.prototype.addMenuConfig=function(t){if(t){if(Array.isArray(t.nodeMenu)){var e=this.menuTypeMap.get(DP);this.menuTypeMap.set(DP,e.concat(t.nodeMenu))}if(Array.isArray(t.edgeMenu)){e=this.menuTypeMap.get(CP);this.menuTypeMap.set(CP,e.concat(t.edgeMenu))}if(Array.isArray(t.graphMenu)){e=this.menuTypeMap.get(IP);this.menuTypeMap.set(IP,e.concat(t.graphMenu))}}},t.prototype.changeMenuItem=function(t,e){if("add"===t)this.addMenuConfig(e);else{if("reset"!==t)throw new Error("The first parameter of changeMenuConfig should be 'add' or 'reset'");this.setMenuConfig(e)}},t.pluginName="menu",t}(),ZP=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{while((void 0===e||e-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a},BP="menu-common",zP=200,FP=100,HP=(function(){function t(t){var e=this,n=t.lf;this.menuTypeMap=new Map,this.listenDelete=function(){e.hideContextMenu()},this.lf=n,this.__menuDOM=document.createElement("div"),this.__menuDOM.className="lf-inner-context",this.menuTypeMap.set(BP,[]),this.lf.setContextMenuByType=function(t,n){e.setContextMenuByType(t,n)},this.lf.setContextMenuItems=function(t){e.setContextMenuItems(t)},this.lf.showContextMenu=function(t){e.showContextMenu(t)},this.lf.hideContextMenu=function(){e.hideContextMenu()}}t.prototype.render=function(t,e){var n=this;this.container=e,t.on("node:click",(function(t){var e=t.data;n._activeData=e,n.createContextMenu()})),t.on("edge:click",(function(t){var e=t.data;n._activeData=e,n.createContextMenu()})),t.on("blank:click",(function(){n.hideContextMenu()}))},t.prototype.setContextMenuByType=function(t,e){this.menuTypeMap.set(t,e)},t.prototype.hideContextMenu=function(){this.__menuDOM.innerHTML="",this.__menuDOM.style.display="none",this.isShow&&this.container.removeChild(this.__menuDOM),this.lf.off("node:delete,edge:delete,node:drag,graph:transform",this.listenDelete),this.isShow=!1},t.prototype.showContextMenu=function(t){t&&t.id?(this._activeData=t,this.createContextMenu()):console.warn("请检查传入的参数")},t.prototype.setContextMenuItems=function(t){this.menuTypeMap.set(BP,t)},t.prototype.getContextMenuPosition=function(){var t=this._activeData,e=this.lf.graphModel.getElement(t.id);if(e){var n,r;if("edge"===e.BaseType){n=Number.MIN_SAFE_INTEGER,r=Number.MAX_SAFE_INTEGER;var o=e.getData();n=Math.max(o.startPoint.x,n),r=Math.min(o.startPoint.y,r),n=Math.max(o.endPoint.x,n),r=Math.min(o.endPoint.y,r),o.pointsList&&o.pointsList.forEach((function(t){n=Math.max(t.x,n),r=Math.min(t.y,r)}))}return"node"===e.BaseType&&(n=t.x+e.width/2,r=t.y-e.height/2),this.lf.graphModel.transformModel.CanvasPointToHtmlPoint([n,r])}console.warn("找不到元素"+t.id)},t.prototype.createContextMenu=function(){var t=this,e=this.lf.options.isSilentMode;if(!e){var n=this.menuTypeMap.get(this._activeData.type)||[];n=n.concat(this.menuTypeMap.get(BP));var r=document.createDocumentFragment();n.forEach((function(e){var n=document.createElement("div");n.className="lf-context-item";var o=document.createElement("img");o.src=e.icon,o.className="lf-context-img",e.className&&(n.className=n.className+" "+e.className),o.addEventListener("click",(function(){t.hideContextMenu(),e.callback?e.callback(t._activeData):t.addNode({sourceId:t._activeData.id,x:t._activeData.x,y:t._activeData.y,properties:e.properties,type:e.type})})),n.appendChild(o),r.appendChild(n)})),this.__menuDOM.innerHTML="",this.__menuDOM.appendChild(r),this.showMenu()}},t.prototype.addNode=function(t,e){var n=void 0!==e;void 0===e&&(e=t.y);var r=this.lf.getNodeModelById(t.sourceId),o=t.x-r.width+zP,i=e-t.y/2-20,a=t.x+r.width+zP,u=e+t.y/2+20,c=this.lf.getAreaElement([o,i],[a,u]);if(c.length)return e+=FP,void this.addNode(t,e);var s,l,f=this.lf.addNode({type:t.type,x:t.x+200,y:e,properties:t.properties});n&&(s={x:t.x,y:t.y+r.height/2},l={x:f.x-f.width/2,y:f.y}),this.lf.addEdge({sourceNodeId:t.sourceId,targetNodeId:f.id,startPoint:s,endPoint:l})},t.prototype.showMenu=function(){var t=ZP(this.getContextMenuPosition(),2),e=t[0],n=t[1];this.__menuDOM.style.display="flex",this.__menuDOM.style.top=n+"px",this.__menuDOM.style.left=e+10+"px",this.container.appendChild(this.__menuDOM),!this.isShow&&this.lf.on("node:delete,edge:delete,node:drag,graph:transform",this.listenDelete),this.isShow=!0},t.pluginName="contextMenu"}(),function(){function t(t){var e=this,n=t.lf;this.lf=n,this.lf.setPatternItems=function(t){e.setPatternItems(t)}}t.prototype.render=function(t,e){var n=this;this.destroy(),this.shapeList&&0!==this.shapeList.length?(this.panelEl=document.createElement("div"),this.panelEl.className="lf-dndpanel",this.shapeList.forEach((function(t){n.panelEl.appendChild(n.createDndItem(t))})),e.appendChild(this.panelEl),this.domContainer=e):this.domContainer=e},t.prototype.destroy=function(){this.domContainer&&this.panelEl&&this.domContainer.contains(this.panelEl)&&this.domContainer.removeChild(this.panelEl)},t.prototype.setPatternItems=function(t){this.shapeList=t,this.domContainer&&this.render(this.lf,this.domContainer)},t.prototype.createDndItem=function(t){var e=this,n=document.createElement("div");n.className=t.className?"lf-dnd-item "+t.className:"lf-dnd-item";var r=document.createElement("div");if(r.className="lf-dnd-shape",t.icon&&(r.style.backgroundImage="url("+t.icon+")"),n.appendChild(r),t.label){var o=document.createElement("div");o.innerText=t.label,o.className="lf-dnd-text",n.appendChild(o)}return n.onmousedown=function(){t.type&&e.lf.dnd.startDrag({type:t.type,properties:t.properties,text:t.text}),t.callback&&t.callback(e.lf,e.domContainer)},n.ondblclick=function(n){e.lf.graphModel.eventCenter.emit("dnd:panel-dbclick",{e:n,data:t})},n.onclick=function(n){e.lf.graphModel.eventCenter.emit("dnd:panel-click",{e:n,data:t})},n.oncontextmenu=function(n){e.lf.graphModel.eventCenter.emit("dnd:panel-contextmenu",{e:n,data:t})},n},t.pluginName="dndPanel"}(),function(){function t(t){var e=this,n=t.lf;this.__disabled=!1,this.isDefaultStopMoveGraph=!1,this.isWholeNode=!0,this.isWholeEdge=!0,this.__draw=function(t){var n=e.lf.getPointByClient(t.clientX,t.clientY).domOverlayPosition,r=n.x,o=n.y;e.endPoint={x:r,y:o};var i=e.startPoint,a=i.x,u=i.y,c=e.wrapper.style,s=a,l=u,f=r-a,p=o-u;r<a&&(s=r,f=a-r),o<u&&(l=o,p=u-o),c.left=s+"px",c.top=l+"px",c.width=f+"px",c.height=p+"px"},this.__drawOff=function(){document.removeEventListener("mousemove",e.__draw),document.removeEventListener("mouseup",e.__drawOff),e.wrapper.oncontextmenu=null,e.__domContainer.removeChild(e.wrapper);var t=e.startPoint,n=t.x,r=t.y,o=e.endPoint,i=o.x,a=o.y;if(!(Math.abs(i-n)<10&&Math.abs(a-r)<10)){var u=[Math.min(n,i),Math.min(r,a)],c=[Math.max(n,i),Math.max(r,a)],s=e.lf.graphModel.getAreaElement(u,c,e.isWholeEdge,e.isWholeNode,!0),l=e.lf.graphModel.group;s.forEach((function(t){l&&l.getNodeGroup(t.id)||e.lf.selectElementById(t.id,!0)})),e.lf.emit("selection:selected",s)}},this.lf=n;var r=n.getEditConfig().stopMoveGraph;this.isDefaultStopMoveGraph=r,n.openSelectionSelect=function(){e.openSelectionSelect()},n.closeSelectionSelect=function(){e.closeSelectionSelect()}}t.prototype.render=function(t,e){var n=this;this.__domContainer=e,t.on("blank:mousedown",(function(r){var o=r.e,i=t.getEditConfig();if(i.stopMoveGraph&&!n.__disabled){var a=2===o.button;if(!a){var u=t.getPointByClient(o.clientX,o.clientY).domOverlayPosition,c=u.x,s=u.y;n.startPoint={x:c,y:s},n.endPoint={x:c,y:s};var l=document.createElement("div");l.className="lf-selection-select",l.oncontextmenu=function(t){t.preventDefault()},l.style.top=n.startPoint.y+"px",l.style.left=n.startPoint.x+"px",e.appendChild(l),n.wrapper=l,document.addEventListener("mousemove",n.__draw),document.addEventListener("mouseup",n.__drawOff)}}}))},t.prototype.setSelectionSense=function(t,e){void 0===t&&(t=!0),void 0===e&&(e=!0),this.isWholeEdge=t,this.isWholeNode=e},t.prototype.openSelectionSelect=function(){var t=this.lf.getEditConfig().stopMoveGraph;t||(this.isDefaultStopMoveGraph=!1,this.lf.updateEditConfig({stopMoveGraph:!0})),this.open()},t.prototype.closeSelectionSelect=function(){this.isDefaultStopMoveGraph||this.lf.updateEditConfig({stopMoveGraph:!1}),this.close()},t.prototype.open=function(){this.__disabled=!1},t.prototype.close=function(){this.__disabled=!0},t.pluginName="selectionSelect"}(),function(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")});(function(){function t(t){var e=this,n=t.lf,r=t.LogicFlow,o=t.options;this.lf=null,this.container=null,this.miniMapWrap=null,this.miniMapContainer=null,this.lfMap=null,this.viewport=null,this.width=150,this.height=220,this.leftPosition=void 0,this.topPosition=void 0,this.rightPosition=void 0,this.bottomPosition=void 0,this.miniMapWidth=450,this.miniMapHeight=660,this.viewPortTop=0,this.viewPortLeft=0,this.startPosition=null,this.viewPortScale=1,this.viewPortWidth=150,this.viewPortHeight=75,this.resetDataX=0,this.resetDataY=0,this.LogicFlow=null,this.isShow=!1,this.isShowHeader=!0,this.isShowCloseIcon=!0,this.dragging=!1,this.disabledPlugins=["miniMap","control","selectionSelect"],this.show=function(t,n){e.setView(),e.isShow||e.createMiniMap(t,n),e.isShow=!0},this.hide=function(){e.isShow&&e.removeMiniMap(),e.isShow=!1},this.reset=function(){e.lf.resetTranslate(),e.lf.resetZoom(),e.hide(),e.show()},this.startDrag=function(t){document.addEventListener("mousemove",e.drag),document.addEventListener("mouseup",e.drop),e.startPosition={x:t.x,y:t.y}},this.moveViewport=function(t,n){var r=e.viewport.style;e.viewPortTop=t,e.viewPortLeft=n,r.top=e.viewPortTop+"px",r.left=e.viewPortLeft+"px"},this.drag=function(t){e.dragging=!0;var n=e.viewPortTop+t.y-e.startPosition.y,r=e.viewPortLeft+t.x-e.startPosition.x;e.moveViewport(n,r),e.startPosition={x:t.x,y:t.y};var o=(e.viewPortLeft+e.viewPortWidth/2)/e.viewPortScale,i=(e.viewPortTop+e.viewPortHeight/2)/e.viewPortScale;e.lf.focusOn({coordinate:{x:o+e.resetDataX,y:i+e.resetDataY}})},this.drop=function(){document.removeEventListener("mousemove",e.drag),document.removeEventListener("mouseup",e.drop);var t=e.viewPortTop,n=e.viewPortLeft;e.viewPortLeft>e.width&&(n=e.width-e.viewPortWidth),e.viewPortTop>e.height&&(t=e.height-e.viewPortHeight),e.viewPortLeft<-e.width&&(n=0),e.viewPortTop<-e.height&&(t=0),e.moveViewport(t,n)},this.mapClick=function(t){if(e.dragging)e.dragging=!1;else{var n=t.layerX,r=t.layerY,o=n,i=r,a=e.lf.getGraphRawData(),u=e.getBounds(a),c=u.left,s=u.top,l=c+o/e.viewPortScale,f=s+i/e.viewPortScale;e.lf.focusOn({coordinate:{x:l,y:f}})}},this.lf=n,o&&o.MiniMap&&this.setOption(o),this.miniMapWidth=n.graphModel.width,this.miniMapHeight=n.graphModel.width*this.height/this.width,this.LogicFlow=r,this.initMiniMap()}t.prototype.render=function(t,e){var n=this;this.container=e,this.lf.on("history:change",(function(){n.isShow&&n.setView()})),this.lf.on("graph:transform",(0,qd.Z)((function(){n.isShow&&!n.dragging&&n.setView()}),300))},t.prototype.init=function(t){this.disabledPlugins=this.disabledPlugins.concat(t.disabledPlugins||[])},t.prototype.setOption=function(t){var e=t.MiniMap,n=e.width,r=void 0===n?150:n,o=e.height,i=void 0===o?220:o,a=e.isShowHeader,u=void 0===a||a,c=e.isShowCloseIcon,s=void 0===c||c,l=e.leftPosition,f=void 0===l?0:l,p=e.topPosition,d=void 0===p?0:p,h=e.rightPosition,y=e.bottomPosition;this.width=r,this.height=i,this.isShowHeader=u,this.isShowCloseIcon=s,this.viewPortWidth=r,this.leftPosition=f,this.topPosition=d,this.rightPosition=h,this.bottomPosition=y},t.prototype.initMiniMap=function(){var t=document.createElement("div");t.className="lf-mini-map-graph",t.style.width=this.width+4+"px",t.style.height=this.height+"px",this.lfMap=new this.LogicFlow({container:t,isSilentMode:!0,stopZoomGraph:!0,stopScrollGraph:!0,stopMoveGraph:!0,hideAnchors:!0,hoverOutline:!1,disabledPlugins:this.disabledPlugins}),this.lfMap.adapterIn=function(t){return t},this.lfMap.adapterOut=function(t){return t},this.miniMapWrap=t,this.createViewPort(),t.addEventListener("click",this.mapClick)},t.prototype.createMiniMap=function(e,n){var r=document.createElement("div");r.appendChild(this.miniMapWrap),"undefined"!==typeof e||"undefined"!==typeof n?(r.style.left=(e||0)+"px",r.style.top=(n||0)+"px"):("undefined"!==typeof this.rightPosition?r.style.right=this.rightPosition+"px":"undefined"!==typeof this.leftPosition&&(r.style.left=this.leftPosition+"px"),"undefined"!==typeof this.bottomPosition?r.style.bottom=this.bottomPosition+"px":"undefined"!==typeof this.topPosition&&(r.style.top=this.topPosition+"px")),r.style.position="absolute",r.className="lf-mini-map",this.isShowCloseIcon||r.classList.add("lf-mini-map-no-close-icon"),this.isShowHeader||r.classList.add("lf-mini-map-no-header"),this.container.appendChild(r),this.miniMapWrap.appendChild(this.viewport);var o=document.createElement("div");o.className="lf-mini-map-header",o.innerText=t.headerTitle,r.appendChild(o);var i=document.createElement("span");i.className="lf-mini-map-close",i.addEventListener("click",this.hide),r.appendChild(i),this.miniMapContainer=r},t.prototype.removeMiniMap=function(){this.container.removeChild(this.miniMapContainer)},t.prototype.getBounds=function(t){var e=0,n=this.miniMapWidth,r=0,o=this.miniMapHeight,i=t.nodes;return i&&i.length>0&&i.forEach((function(t){var i=t.x,a=t.y,u=t.width,c=void 0===u?200:u,s=t.height,l=void 0===s?200:s,f=i-c/2,p=i+c/2,d=a-l/2,h=a+l/2;e=f<e?f:e,n=p>n?p:n,r=d<r?d:r,o=h>o?h:o})),{left:e,top:r,bottom:o,right:n}},t.prototype.resetData=function(t){var e=t.nodes,n=t.edges,r=0,o=0;return e&&e.length>0&&(e.forEach((function(t){var e=t.x,n=t.y,i=t.width,a=void 0===i?200:i,u=t.height,c=void 0===u?200:u,s=e-a/2,l=n-c/2;r=s<r?s:r,o=l<o?l:o})),(r<0||o<0)&&(this.resetDataX=r,this.resetDataY=o,e.forEach((function(t){t.x=t.x-r,t.y=t.y-o,t.text&&(t.text.x=t.text.x-r,t.text.y=t.text.y-o)})),n.forEach((function(t){t.startPoint&&(t.startPoint.x=t.startPoint.x-r,t.startPoint.y=t.startPoint.y-o),t.endPoint&&(t.endPoint.x=t.endPoint.x-r,t.endPoint.y=t.endPoint.y-o),t.text&&(t.text.x=t.text.x-r,t.text.y=t.text.y-o),t.pointsList&&t.pointsList.forEach((function(t){t.x=t.x-r,t.y=t.y-o}))})))),t},t.prototype.setView=function(){var t,e,n=this.lf.getGraphRawData(),r=this.resetData(n),o=this.lf.viewMap,i=this.lf.graphModel.modelMap,a=this.lfMap.viewMap;try{for(var u=HP(o.keys()),c=u.next();!c.done;c=u.next()){var s=c.value;a.has(s)||(this.lfMap.setView(s,o.get(s)),this.lfMap.graphModel.modelMap.set(s,i.get(s)))}}catch(m){t={error:m}}finally{try{c&&!c.done&&(e=u.return)&&e.call(u)}finally{if(t)throw t.error}}this.lfMap.render(r);var l=this.getBounds(r),f=l.left,p=l.top,d=l.right,h=l.bottom,y=this.width/(d-f),v=this.height/(h-p),g=this.miniMapWrap.firstChild.style,b=Math.min(y,v);g.transform="matrix("+b+", 0, 0, "+b+", 0, 0)",g.transformOrigin="left top",g.height=h-Math.min(p,0)+"px",g.width=d-Math.min(f,0)+"px",this.viewPortScale=b,this.setViewPort(b,{left:f,top:p,right:d,bottom:h})},t.prototype.setViewPort=function(t,e){var n=e.left,r=e.right,o=(e.top,e.bottom,this.viewport.style);o.width=this.viewPortWidth+"px",o.height=this.viewPortWidth/(this.lf.graphModel.width/this.lf.graphModel.height)+"px";var i=this.lf.getTransform(),a=i.TRANSLATE_X,u=i.TRANSLATE_Y,c=i.SCALE_X,s=i.SCALE_Y,l=r-n,f=this.width/(l/this.lf.graphModel.width),p=this.width*(f/this.width),d=this.lf.graphModel.width/this.lf.graphModel.height,h=p/d,y=this.lf.getGraphRawData(),v=this.getBounds(y),g=v.left,b=v.top,m=g,_=b;m+=a/c,_+=u/s,this.viewPortTop=_>0?0:-_*t,this.viewPortLeft=m>0?0:-m*t,this.viewPortWidth=p,this.viewPortHeight=h,o.top=this.viewPortTop+"px",o.left=this.viewPortLeft+"px",o.width=p/c+"px",o.height=h/s+"px"},t.prototype.createViewPort=function(){var t=document.createElement("div");t.className="lf-minimap-viewport",t.addEventListener("mousedown",this.startDrag),this.viewport=t},t.pluginName="miniMap",t.width=150,t.height=220,t.viewPortWidth=150,t.viewPortHeight=75,t.isShowHeader=!0,t.isShowCloseIcon=!0,t.leftPosition=0,t.topPosition=0,t.rightPosition=null,t.bottomPosition=null,t.headerTitle="导航"})();function GP(t){if(t.length<=1)return!1;var e=0,n=t.length-1;while(e!==n&&e+1!==n&&n-1!==e)e++,n--;return e===n?[--e,n]:[e,n]}var XP=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),WP=function(){return WP=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},WP.apply(this,arguments)},UP=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{while((void 0===e||e-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a},YP=(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}XP(e,t),e.prototype.pointFilter=function(t){var e=t,n=1;while(n<e.length-1){var r=UP(e[n-1],2),o=r[0],i=r[1],a=UP(e[n],2),u=a[0],c=a[1],s=UP(e[n+1],2),l=s[0],f=s[1];o===u&&u===l||i===c&&c===f?e.splice(n,1):n++}return e},e.prototype.getEdge=function(){var t=this.props.model,e=t.points,n=t.isAnimation,o=t.arrowConfig,i=t.radius,a=void 0===i?5:i,u=t.getEdgeStyle(),c=t.getEdgeAnimationStyle(),s=this.pointFilter(e.split(" ").map((function(t){return t.split(",").map((function(t){return Number(t)}))}))),l=GP(s);if(l){var f=UP(l,2),p=f[0],d=f[1],h=s[p],y=s[d],v=h.some((function(t,e){return t===y[e]}));if(!v){var g=(y[1]-h[1])/2,b=[y[0],y[1]-g],m=[h[0],h[1]+g];s.splice(p+1,0,m,b)}}for(var _=UP(s[0],2),O=_[0],w=_[1],x="M"+O+" "+w,E=1;E<s.length-1;E++){var j=UP(s[E-1],2),S=j[0],P=j[1],M=UP(s[E],2),k=M[0],A=M[1],T=UP(s[E+1],2),N=T[0],D=T[1];if(k===S&&A!==P){var C=A>P?A-a:A+a;x=x+" L "+k+" "+C}if(A===P&&k!==S){var I=k>S?k-a:k+a;x=x+" L "+I+" "+A}if(x=x+" Q "+k+" "+A,k===N&&A!==D){C=A>D?A-a:A+a;x=x+" "+k+" "+C}if(A===D&&k!==N){I=k>N?k-a:k+a;x=x+" "+I+" "+A}}var R=UP(s[s.length-1],2),L=R[0],Z=R[1];x=x+" L "+L+" "+Z;var B=WP(WP(WP({d:x,style:n?c:{}},u),o),{fill:"none"});return(0,r.h)("path",WP({d:x},B))}}(r.PolylineEdge),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}XP(e,t)}(r.PolylineEdgeModel),function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{while((void 0===e||e-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a}),VP=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(YP(arguments[e]));return t},KP=(function(){function t(t){var e=this,n=t.lf;this.lf=n,this.pathes=[],n.getPathes=function(){if(!e.startNodeType)throw new Error("需要预先指定开始节点类型");return e.getPathes()},n.setRawPathes=function(t){e.setPathes(t)},n.getRawPathes=function(){return e.pathes},n.setStartNodeType=function(t){e.startNodeType=t}}t.prototype.setPathes=function(t){this.pathes=t.map((function(t){var e=t.routeId,n=t.name,r=t.elements,o=t.type;return{routeId:e,name:n,elements:r,type:o,similarElement:null,weight:0}}))},t.prototype.getPathes=function(){var t=this,e=this.lf.getGraphRawData(),n=new Map,r=[];e.nodes.forEach((function(e){n.set(e.id,{id:e.id,data:e,nextNodes:[]}),e.type===t.startNodeType&&r.push(e.id)})),e.edges.forEach((function(t){var e=n.get(t.sourceNodeId);e.nextNodes.push(t.targetNodeId)}));var o=[];return r.forEach((function(e){o=o.concat(t.findPathElements(n.get(e),n,[]))})),this.getNewPathes(o)},t.prototype.findPathElements=function(t,e,n){void 0===n&&(n=[]);var r=VP(n);if(r.push(t.id),0===t.nextNodes.length)return[r];for(var o=[],i=0;i<t.nextNodes.length;i++){var a=e.get(t.nextNodes[i]),u=void 0,c=r.indexOf(a.id);u=-1!==c?[VP(r.slice(c),[a.id])]:this.findPathElements(a,e,VP(r)),o=o.concat(u)}return o},t.prototype.getNewPathes=function(t){var e=this,n=[],r=new Set;t.forEach((function(t){var o=e.getNewId("path"),i=e.getNewId("路径"),a=e.isLoopPath(t),u=t.join(",");r.has(u)||(r.add(u),n.push({routeId:o,name:i,elements:t,type:a,weight:0,similarElement:""}))}));var o=JSON.parse(JSON.stringify(this.pathes));return n.forEach((function(t){for(var n=0;n<o.length;n++){var r=o[n],i=e.similar2Path(VP(t.elements),VP(r.elements));i>t.weight&&r.weight<=i&&(t.weight=i,t.similarElement=r,i===r.weight&&r.similarElement?(r.similarElement.similarElement=null,r.similarElement.weight=0,r.similarElement=null,r.weight=0):(r.similarElement=t,r.weight=i))}})),n.forEach((function(t){t.similarElement&&t.similarElement.similarElement===t&&(t.routeId=t.similarElement.routeId,t.name=t.similarElement.name),delete t.similarElement,delete t.weight})),this.setPathes(n),n},t.prototype.similar2Path=function(t,e){var n=0,r=t.length+e.length;t.sort(),e.sort();var o=t.shift(),i=e.shift();while(void 0!==o&&void 0!==i)o===i?(n++,o=t.shift(),i=e.shift()):o<i?o=t.shift():o>i&&(i=e.shift());return n/r*200},t.prototype.getNewId=function(t){return t+"_"+a()},t.prototype.isLoopPath=function(t){var e=t.length;return t.indexOf(t[e-1])!==e-1?1:0},t.pluginName="flowPath"}(),function(){return KP=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},KP.apply(this,arguments)}),qP={LEFT_TOP:-1,LEFT:0,LEFT_BOTTOM:1},$P=(function(){function t(t){var e=this,n=t.lf;this.lf=n,this.trunk=[],n.layout=function(t){var n=e.lf.getGraphRawData();e.lf.setStartNodeType(t);var r=e.lf.getPathes();return e.levelHeight=[],e.newNodeMap=new Map,e.layout(n,r)}}t.prototype.layout=function(t,e){var n=this,r=[];e.forEach((function(t){var e=t.elements;e.length>r.length?r=e:e.length===r.length&&JSON.stringify(e)===JSON.stringify(n.trunk)&&(r=n.trunk)})),this.trunk=r;for(var o=this.formatData(t),i={nodes:[],edges:[]},a=r.length-1;a>=0;a--)this.setNodePosition(r[a],o,i,a,1);this.lf.graphModel.graphDataToModel(i)},t.prototype.setNodePosition=function(t,e,n,r,o){var i=this,a=e[t],u=a.text,c=a.type,s=a.next,l=a.properties,f=160*r+40,p=120*o,d={id:t,x:f,text:u,y:p,type:c,properties:l};return u&&"object"===typeof u&&(d.text=KP(KP({},u),{x:f+u.x,y:p+u.y})),this.newNodeMap.set(d.id,{x:d.x,y:d.y,type:c}),n.nodes.push(d),a.isFixed=!0,this.addLevelHeight(r,1),s&&s.length>0&&s.forEach((function(o){var a=e[o.nodeId];if(!a.isFixed){var u=i.getLevelHeight(r+1);i.addLevelHeight(r,1),i.setNodePosition(o.nodeId,e,n,r+1,u+1)}n.edges.push(KP({id:o.edgeId,type:o.edgeType,sourceNodeId:t,targetNodeId:o.nodeId,properties:o.properties,text:o.text},i.getEdgeDataPoints(t,o.nodeId)))})),d},t.prototype.getEdgeDataPoints=function(t,e){var n=this.newNodeMap.get(t),r=this.newNodeMap.get(e),o=this.getShape(t),i=o.width,a=o.height,u=this.getShape(e),c=u.width,s=u.height,l=this.getRelativePosition(n,r),f={x:n.x,y:n.y},p={x:r.x,y:r.y};switch(l){case qP.LEFT:f.x=n.x+i/2,p.x=r.x-c/2;break;case qP.LEFT_TOP:f.y=n.y+a/2,p.x=r.x-c/2;break;case qP.LEFT_BOTTOM:f.x=n.x+i/2,p.y=r.y+s/2;break;default:break}return{startPoint:f,endPoint:p}},t.prototype.getRelativePosition=function(t,e){var n,r=t.y,o=e.y;return n=r<o?-1:r===o?0:1,n},t.prototype.getShape=function(t){var e=this.lf.getNodeModelById(t);return{height:e.height,width:e.width}},t.prototype.formatData=function(t){var e=t.nodes.reduce((function(t,e){var n=e.type,r=e.properties,o=e.text,i=e.x,a=e.y;return o&&"object"===typeof o&&(o.x=o.x-i,o.y=o.y-a),t[e.id]={type:n,properties:r,text:o,prev:[],next:[]},t}),{});return t.edges.forEach((function(t){var n=t.sourceNodeId,r=t.targetNodeId,o=t.id,i=t.properties,a=t.text,u=a;"object"===typeof a&&(u=a.value),e[n].next.push({edgeId:o,nodeId:r,edgeType:t.type,properties:i,text:u}),e[r].prev.push({edgeId:o,nodeId:n,properties:i,text:u})})),e},t.prototype.addLevelHeight=function(t,e,n){void 0===e&&(e=1),void 0===n&&(n=!1);var r=this.levelHeight[t];r||(r={positiveHeight:0,negativeHeight:0},this.levelHeight[t]=r),n?r.negativeHeight-=e:r.positiveHeight+=e},t.prototype.getLevelHeight=function(t,e){void 0===e&&(e=!1);var n=this.levelHeight[t];return n?e?n.negativeHeight:n.positiveHeight:0},t.pluginName="AutoLayout"}(),function(){return $P=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},$P.apply(this,arguments)}),JP=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{while((void 0===e||e-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a},QP=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(JP(arguments[e]));return t},tM=function(t,e){var n=e.getModelById(t);return eM("node"===n.BaseType?n:n.targetNode,e)},eM=function(t,e){var n=[],r=[],o=function(t,r,i){void 0===i&&(i=null),i&&r.unshift.apply(r,QP(e.getEdgeModels({sourceNodeId:t.id,targetNodeId:i.id}).map((function(t){return t.id})))),r.includes(t.id)?n.push(r):(r.unshift(t.id),t.incoming.nodes.length?t.incoming.nodes.forEach((function(e){o(e,r.slice(),t)})):n.push(r))},i=function(t,n,o){void 0===o&&(o=null),o&&n.push.apply(n,QP(e.getEdgeModels({sourceNodeId:o.id,targetNodeId:t.id}).map((function(t){return t.id})))),n.includes(t.id)?r.push(n):(n.push(t.id),t.outgoing.nodes.length?t.outgoing.nodes.forEach((function(e){i(e,n.slice(),t)})):r.push(n))};return o(t,[]),i(t,[]),QP(new Set(QP(n.flat(),r.flat())))};(function(){function t(t){var e=t.lf;this.mode="path",this.manual=!1,this.tempStyles={},this.lf=e}t.prototype.setMode=function(t){this.mode=t},t.prototype.setManual=function(t){this.manual=t},t.prototype.highlightSingle=function(t){var e=this.lf.getModelById(t);"node"===e.BaseType?e.updateStyles(this.tempStyles[t]):"edge"===e.BaseType&&(e.updateStyles(this.tempStyles[t]),e.sourceNode.updateStyles(this.tempStyles[e.sourceNode.id]),e.targetNode.updateStyles(this.tempStyles[e.targetNode.id]))},t.prototype.highlightPath=function(t){var e=this,n=tM(t,this.lf);n.forEach((function(t){e.lf.getModelById(t).updateStyles(e.tempStyles[t])}))},t.prototype.highlight=function(t,e){var n=this;if(void 0===e&&(e=this.mode),!this.manual){Object.keys(this.tempStyles).length&&this.restoreHighlight(),Object.values(this.lf.graphModel.modelsMap).forEach((function(t){var e="node"===t.BaseType?t.getNodeStyle():t.getEdgeStyle();n.tempStyles[t.id]=$P({},e),t.setStyles({opacity:.1})}));var r={single:this.highlightSingle.bind(this),path:this.highlightPath.bind(this)};r[e](t)}},t.prototype.restoreHighlight=function(){var t=this;Object.keys(this.tempStyles).length&&(Object.values(this.lf.graphModel.modelsMap).forEach((function(e){var n,r=null!==(n=t.tempStyles[e.id])&&void 0!==n?n:{};e.updateStyles($P({},r))})),this.tempStyles={})},t.prototype.render=function(t,e){var n=this;this.lf.on("node:mouseenter",(function(t){var e=t.data;return n.highlight(e.id)})),this.lf.on("edge:mouseenter",(function(t){var e=t.data;return n.highlight(e.id)})),this.lf.on("node:mouseleave",this.restoreHighlight.bind(this)),this.lf.on("edge:mouseleave",this.restoreHighlight.bind(this)),this.lf.on("history:change",this.restoreHighlight.bind(this))},t.prototype.destroy=function(){},t.pluginName="highlight"})()},94728:function(){}}]);