/*!
 *  build: Vue  Admin Plus
 *  copyright: vue-admin-beautiful.com
 *  time: 2023-08-23 08:09:43
 */
"use strict";(self["webpackChunkadmin_plus"]=self["webpackChunkadmin_plus"]||[]).push([[215],{99089:function(e,t,o){o.d(t,{gp:function(){return r}});var a=o(52806);function r(e){return a.Z.get("/knowledge/getList",e)}},80935:function(e,t,o){var a=o(60428),r=o(2262),n=o(66252);t.Z=()=>{const e=(0,r.iH)([]),t=(0,r.iH)(!1);return(0,n.bv)((async()=>{t.value=!0;const{data:o}=await(0,a.gp)();e.value=o.list,t.value=!1})),{list:e,isLoading:t}}},18689:function(e,t,o){o.d(t,{u:function(){return u},x:function(){return s}});var a=o(50837),r=o(80129),n=o.n(r);let l,i;function s(e,t){return new Promise(((o,a)=>{l=window.open(`${e}?${n().stringify(t)}`),i=setInterval((()=>{if(l&&l.closed){clearInterval(i);const e=JSON.parse(localStorage.getItem("socialData")||"{}");localStorage.removeItem("socialData"),e?o(e):a(e)}}),200)}))}function u(){let e=a.ZP.currentRoute.value.query;"{}"===JSON.stringify(e)&&(e=n().parse(document.location.search.slice(1))),localStorage.setItem("socialData",JSON.stringify(e))}},23692:function(e,t,o){o.r(t),o.d(t,{default:function(){return c}});var a=o(66252);const r={class:"callback-container"};function n(e,t,o,n,l,i){return(0,a.wg)(),(0,a.iD)("div",r)}var l=o(18689),i=(0,a.aZ)({name:"Callback",setup(){const e=(0,a.f3)("$baseLoading");(0,l.u)(),window.open(" ","_self"),window.close(),(0,a.Ah)((()=>{e.close()}))}});function s(e){e.__source="src/views/callback/index.vue"}var u=o(83744);"function"===typeof s&&s(i);const d=(0,u.Z)(i,[["render",n]]);var c=d},26428:function(e,t,o){o.r(t),o.d(t,{default:function(){return m}});o(57658);var a=o(66252),r=o(2262),n=o(3577),l=o(59674),i=o(99089),s=o(33090),u=o(22201);const d=(0,a.aZ)({name:"DirectiveDetail"});var c=(0,a.aZ)({...d,setup(e){const t=(0,u.tv)(),o=((0,r.iH)("Python"),(0,r.iH)("c++")),d=(0,r.iH)(null),c=(0,r.qj)({list:[],listLoading:!0,layout:"total, sizes, prev, pager, next, jumper",total:0,selectRows:""}),h=async()=>{c.listLoading=!0;const e=await(0,i.gp)({});console.log(e),c.list=e.data.list,c.listLoading=!1},p=()=>{d.value.showDialog("目录","添加",null)},m=e=>{d.value.showDialog("知识点","添加",e)},f=e=>{t.push(`/directive/${e.id}`)},g=e=>{d.value.showDialog("目录","修改",e)};return(0,a.YP)(o,(()=>{console.log("1",o),h()}),{immediate:!0}),(e,t)=>((0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(l["default"],{list:(0,r.SU)(c).list,title:"添加指令","item-type":"指令","has-op":"",onViewContainer:f,onAddContainer:p,onAddItem:m,onEditContainer:g},{header:(0,a.w5)((()=>[(0,a._)("h3",null,"当前的科目是 Scratch , 分类是 "+(0,n.zw)(e.$route.params.id),1)])),_:1},8,["list"]),(0,a.Wm)(s["default"],{ref_key:"editRef",ref:d,onFetchData:h},null,512)]))}});function h(e){e.__source="src/views/directive/detail.vue"}"function"===typeof h&&h(c);const p=c;var m=p},31200:function(e,t,o){o.r(t),o.d(t,{default:function(){return w}});var a=o(73481),r=(o(3241),o(62029),o(15659)),n=(o(10444),o(20129)),l=(o(69840),o(87692)),i=(o(45393),o(81691),o(57018)),s=(o(74367),o(6589),o(14132)),u=(o(50986),o(61715),o(66252)),d=o(2262),c=o(3577),h=o(80935),p=o(60428),m=(0,u.aZ)({__name:"directive-dialog",emits:["fetch-data"],setup(e,{expose:t,emit:o}){const m=(0,u.f3)("$baseMessage"),{list:f}=(0,h.Z)(),g=(0,d.qj)({subjectId:-1,name:"测试标题",intro:"",type:"图片",image:"",order:1,remark:"备注"}),w={title:[{required:!0,trigger:"blur",message:"请输入标题"}]},v=(0,d.iH)(null),y=(0,d.iH)(!1),b=(0,d.qj)({opName:"添加",objectName:"目录"}),C=(0,u.Fl)((()=>`${b.objectName}-${b.opName}`)),_=(e="目录",t="添加",o=-1,a=null)=>{b.objectName=e,b.opName=t,g.subjectId=o,a&&(g.order=a.order||1),y.value=!0},k=()=>{v.value.resetFields(),y.value=!1},x=async e=>{"科目"===b.objectName&&"添加"===b.opName&&await(0,p.ox)(e),m("添加成功","success","vab-hey-message-success"),o("fetch-data")},D=()=>{v.value.validate((async e=>{e&&(await x(g),k())}))};return t({showDialog:_}),(e,t)=>{const o=s.BT,h=s.ElSelect,p=n.nH,m=i.EZ,_=(0,u.up)("MyUploadImge"),x=l.rh,S=l.KD,U=n.ly,A=r.ElButton,T=a.d0;return(0,u.wg)(),(0,u.j4)(T,{modelValue:(0,d.SU)(y),"onUpdate:modelValue":t[7]||(t[7]=e=>(0,d.dq)(y)?y.value=e:null),title:(0,d.SU)(C),width:"500px",onClose:k},{footer:(0,u.w5)((()=>[(0,u.Wm)(A,{type:"primary",onClick:D},{default:(0,u.w5)((()=>[(0,u.Uk)("确 定")])),_:1}),(0,u.Wm)(A,{onClick:k},{default:(0,u.w5)((()=>[(0,u.Uk)("取 消")])),_:1})])),default:(0,u.w5)((()=>[(0,u.Wm)(U,{ref_key:"formRef",ref:v,model:(0,d.SU)(g),rules:w,"label-position":"top"},{default:(0,u.w5)((()=>["指令分类"===(0,d.SU)(b).objectName?((0,u.wg)(),(0,u.j4)(p,{key:0,label:"选择科目",prop:"subject"},{default:(0,u.w5)((()=>[(0,u.Wm)(h,{modelValue:(0,d.SU)(g).subjectId,"onUpdate:modelValue":t[0]||(t[0]=e=>(0,d.SU)(g).subjectId=e),placeholder:"请选择"},{default:(0,u.w5)((()=>[((0,u.wg)(!0),(0,u.iD)(u.HY,null,(0,u.Ko)((0,d.SU)(f),(e=>((0,u.wg)(),(0,u.j4)(o,{key:e.id,value:e.id,label:e.title},{default:(0,u.w5)((()=>[(0,u.Uk)((0,c.zw)(e.title),1)])),_:2},1032,["value","label"])))),128))])),_:1},8,["modelValue"])])),_:1})):(0,u.kq)("",!0),(0,u.Wm)(p,{label:(0,d.SU)(b).objectName+"名称",prop:"name"},{default:(0,u.w5)((()=>[(0,u.Wm)(m,{modelValue:(0,d.SU)(g).name,"onUpdate:modelValue":t[1]||(t[1]=e=>(0,d.SU)(g).name=e),"aria-placeholder":"请输入"},null,8,["modelValue"])])),_:1},8,["label"]),(0,u.Wm)(p,{label:(0,d.SU)(b).objectName+"描述",prop:"intro"},{default:(0,u.w5)((()=>[(0,u.Wm)(m,{modelValue:(0,d.SU)(g).intro,"onUpdate:modelValue":t[2]||(t[2]=e=>(0,d.SU)(g).intro=e),type:"textarea","aria-placeholder":"请输入"},null,8,["modelValue"])])),_:1},8,["label"]),(0,u.Wm)(p,{label:(0,d.SU)(b).objectName+"图片",prop:"intro"},{default:(0,u.w5)((()=>[(0,u.Wm)(_,{modelValue:(0,d.SU)(g).image,"onUpdate:modelValue":t[3]||(t[3]=e=>(0,d.SU)(g).image=e)},null,8,["modelValue"])])),_:1},8,["label"]),"指令分类"===(0,d.SU)(b).objectName?((0,u.wg)(),(0,u.j4)(p,{key:1,label:(0,d.SU)(b).objectName+"类型",prop:"intro"},{default:(0,u.w5)((()=>[(0,u.Wm)(S,{modelValue:(0,d.SU)(g).type,"onUpdate:modelValue":t[4]||(t[4]=e=>(0,d.SU)(g).type=e)},{default:(0,u.w5)((()=>[(0,u.Wm)(x,{label:"图片"},{default:(0,u.w5)((()=>[(0,u.Uk)("图片")])),_:1}),(0,u.Wm)(x,{label:"文字"},{default:(0,u.w5)((()=>[(0,u.Uk)("文字")])),_:1})])),_:1},8,["modelValue"])])),_:1},8,["label"])):(0,u.kq)("",!0),(0,u.Wm)(p,{label:"显示排序",prop:"order"},{default:(0,u.w5)((()=>[(0,u.Wm)(m,{modelValue:(0,d.SU)(g).order,"onUpdate:modelValue":t[5]||(t[5]=e=>(0,d.SU)(g).order=e),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])])),_:1}),(0,u.Wm)(p,{label:(0,d.SU)(b).objectName+"备注",prop:"remark"},{default:(0,u.w5)((()=>[(0,u.Wm)(m,{modelValue:(0,d.SU)(g).remark,"onUpdate:modelValue":t[6]||(t[6]=e=>(0,d.SU)(g).remark=e),type:"textarea"},null,8,["modelValue"])])),_:1},8,["label"])])),_:1},8,["model"])])),_:1},8,["modelValue","title"])}}});function f(e){e.__source="src/views/directive/directive-dialog.vue"}"function"===typeof f&&f(m);const g=m;var w=g},57660:function(e,t,o){o.r(t),o.d(t,{default:function(){return p}});o(57658);var a=o(66252),r=o(2262),n=o(3577),l=o(22201),i=o(99089),s=o(31200);const u=(0,a.aZ)({name:"DirectiveIndex"});var d=(0,a.aZ)({...u,setup(e){const t=(0,l.tv)(),o=(0,r.iH)({id:-1,title:""}),u=(0,r.iH)("c++"),d=(0,r.iH)(null),c=(0,r.qj)({list:[],listLoading:!0,layout:"total, sizes, prev, pager, next, jumper",total:0,selectRows:""}),h=async()=>{c.listLoading=!0;const e=await(0,i.gp)({});console.log(e),c.list=e.data.list,c.listLoading=!1},p=()=>{d.value.showDialog("指令分类","添加",o.value.id,null)},m=e=>{d.value.showDialog("指令","添加",o.value.id,e)},f=e=>{t.push(`/directive/${e.id}`)},g=e=>{d.value.showDialog("目录","修改",e)};return(0,a.YP)(u,(()=>{console.log("1",u),h()}),{immediate:!0}),(e,t)=>{const l=(0,a.up)("my-subject"),i=(0,a.up)("my-page");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(i,{list:(0,r.SU)(c).list,title:"添加指令分类","item-type":"指令","has-op":"",onViewContainer:f,onAddContainer:p,onAddItem:m,onEditContainer:g},{header:(0,a.w5)((()=>[(0,a._)("h3",null,"选择科目，当前科目是:"+(0,n.zw)((0,r.SU)(o).title),1),(0,a.Wm)(l,{modelValue:(0,r.SU)(o),"onUpdate:modelValue":t[0]||(t[0]=e=>(0,r.dq)(o)?o.value=e:null)},null,8,["modelValue"])])),_:1},8,["list"]),(0,a.Wm)(s["default"],{ref_key:"editRef",ref:d,"subject-id":(0,r.SU)(o).id,onFetchData:h},null,8,["subject-id"])])}}});function c(e){e.__source="src/views/directive/index.vue"}"function"===typeof c&&c(d);const h=d;var p=h},85694:function(e,t,o){o.r(t),o.d(t,{default:function(){return f}});var a=o(57534),r=(o(3241),o(92471),o(66252)),n=o(2262),l=o(3577),i=o(99089),s=o(33090);const u={class:"knowledge-group"},d=["onClick"],c=(0,r.aZ)({name:"KnowledgeIndex"});var h=(0,r.aZ)({...c,setup(e){const t=(0,n.iH)("Python"),o=(0,n.iH)("c++"),c=(0,n.iH)(null),h=(0,n.qj)({list:[],listLoading:!0,layout:"total, sizes, prev, pager, next, jumper",total:0,selectRows:""}),p=async()=>{h.listLoading=!0;const e=await(0,i.gp)({});console.log(e),h.list=e.data.list,h.listLoading=!1},m=()=>{c.value.showDialog("目录","添加",null)},f=e=>{c.value.showDialog("知识点","添加",e)},g=e=>{c.value.showDialog("知识点","修改",e)},w=e=>{alert(1),console.log("knowledge")},v=e=>{c.value.showDialog("目录","修改",e)};return(0,r.YP)(o,(()=>{console.log("1",o),p()}),{immediate:!0}),(e,o)=>{const i=(0,r.up)("my-subject"),y=a.Ks,b=(0,r.up)("my-page");return(0,r.wg)(),(0,r.iD)("div",null,[(0,r.Wm)(b,{list:(0,n.SU)(h).list,"item-type":"知识点",onAddContainer:m,onAddItem:f,onEditContainer:v},{header:(0,r.w5)((()=>[(0,r._)("h3",null,"选择科目，当前科目是"+(0,l.zw)((0,n.SU)(t)),1),(0,r.Wm)(i,{modelValue:(0,n.SU)(t),"onUpdate:modelValue":o[0]||(o[0]=e=>(0,n.dq)(t)?t.value=e:null)},null,8,["modelValue"])])),default:(0,r.w5)((({item:e})=>[(0,r._)("div",u,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.children,(e=>((0,r.wg)(),(0,r.j4)(y,{key:e.id,class:"knowledge-group-item",closable:"",onClose:t=>w(e)},{default:(0,r.w5)((()=>[(0,r._)("span",{title:"点击查看",style:{cursor:"pointer"},onClick:t=>g(e)},(0,l.zw)(e.title),9,d)])),_:2},1032,["onClose"])))),128))])])),_:1},8,["list"]),(0,r.Wm)(s["default"],{ref_key:"editRef",ref:c,onFetchData:p},null,512)])}}});function p(e){e.__source="src/views/exercises/index.vue"}"function"===typeof p&&p(h);const m=h;var f=m},12767:function(e,t,o){o.r(t),o.d(t,{default:function(){return f}});var a=o(57534),r=(o(3241),o(92471),o(66252)),n=o(2262),l=o(3577),i=o(99089),s=o(33090);const u={class:"knowledge-group"},d=["onClick"],c=(0,r.aZ)({name:"KnowledgeIndex"});var h=(0,r.aZ)({...c,setup(e){const t=(0,n.iH)({}),o=(0,n.iH)("c++"),c=(0,n.iH)(null),h=(0,n.qj)({list:[],listLoading:!0,layout:"total, sizes, prev, pager, next, jumper",total:0,selectRows:""}),p=async()=>{h.listLoading=!0;const e=await(0,i.gp)({});console.log(e),h.list=e.data.list,h.listLoading=!1},m=()=>{c.value.showDialog("目录","添加",null)},f=e=>{c.value.showDialog("知识点","添加",e)},g=e=>{c.value.showDialog("知识点","修改",e)},w=e=>{alert(1),console.log("knowledge")},v=e=>{c.value.showDialog("目录","修改",e)};return(0,r.YP)(o,(()=>{console.log("1",o),p()}),{immediate:!0}),(e,o)=>{const i=(0,r.up)("my-subject"),y=a.Ks,b=(0,r.up)("my-page");return(0,r.wg)(),(0,r.iD)("div",null,[(0,r.Wm)(b,{list:(0,n.SU)(h).list,"item-type":"知识点","has-op-top":"",onAddContainer:m,onAddItem:f,onEditContainer:v},{header:(0,r.w5)((()=>[(0,r._)("h3",null,"选择科目，当前科目是:"+(0,l.zw)((0,n.SU)(t).title),1),(0,r.Wm)(i,{modelValue:(0,n.SU)(t),"onUpdate:modelValue":o[0]||(o[0]=e=>(0,n.dq)(t)?t.value=e:null)},null,8,["modelValue"])])),default:(0,r.w5)((({item:e})=>[(0,r._)("div",u,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.children,(e=>((0,r.wg)(),(0,r.j4)(y,{key:e.id,class:"knowledge-group-item",closable:"",onClose:t=>w(e)},{default:(0,r.w5)((()=>[(0,r._)("span",{title:"点击查看",style:{cursor:"pointer"},onClick:t=>g(e)},(0,l.zw)(e.title),9,d)])),_:2},1032,["onClose"])))),128))])])),_:1},8,["list"]),(0,r.Wm)(s["default"],{ref_key:"editRef",ref:c,onFetchData:p},null,512)])}}});function p(e){e.__source="src/views/knowledge/index.vue"}"function"===typeof p&&p(h);const m=h;var f=m},45703:function(e,t,o){o.r(t),o.d(t,{default:function(){return f}});var a=o(57534),r=(o(3241),o(92471),o(66252)),n=o(2262),l=o(3577),i=o(99089),s=o(33090);const u={class:"knowledge-group"},d=["onClick"],c=(0,r.aZ)({name:"KnowledgeIndex"});var h=(0,r.aZ)({...c,setup(e){const t=(0,n.iH)("Python"),o=(0,n.iH)("c++"),c=(0,n.iH)(null),h=(0,n.qj)({list:[],listLoading:!0,layout:"total, sizes, prev, pager, next, jumper",total:0,selectRows:""}),p=async()=>{h.listLoading=!0;const e=await(0,i.gp)({});console.log(e),h.list=e.data.list,h.listLoading=!1},m=()=>{c.value.showDialog("目录","添加",null)},f=e=>{c.value.showDialog("知识点","添加",e)},g=e=>{c.value.showDialog("知识点","修改",e)},w=e=>{alert(1),console.log("knowledge")},v=e=>{c.value.showDialog("目录","修改",e)};return(0,r.YP)(o,(()=>{console.log("1",o),p()}),{immediate:!0}),(e,o)=>{const i=(0,r.up)("my-subject"),y=a.Ks,b=(0,r.up)("my-page");return(0,r.wg)(),(0,r.iD)("div",null,[(0,r.Wm)(b,{list:(0,n.SU)(h).list,"item-type":"知识点",onAddContainer:m,onAddItem:f,onEditContainer:v},{header:(0,r.w5)((()=>[(0,r._)("h3",null,"选择科目，当前科目是"+(0,l.zw)((0,n.SU)(t)),1),(0,r.Wm)(i,{modelValue:(0,n.SU)(t),"onUpdate:modelValue":o[0]||(o[0]=e=>(0,n.dq)(t)?t.value=e:null)},null,8,["modelValue"])])),default:(0,r.w5)((({item:e})=>[(0,r._)("div",u,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.children,(e=>((0,r.wg)(),(0,r.j4)(y,{key:e.id,class:"knowledge-group-item",closable:"",onClose:t=>w(e)},{default:(0,r.w5)((()=>[(0,r._)("span",{title:"点击查看",style:{cursor:"pointer"},onClick:t=>g(e)},(0,l.zw)(e.title),9,d)])),_:2},1032,["onClose"])))),128))])])),_:1},8,["list"]),(0,r.Wm)(s["default"],{ref_key:"editRef",ref:c,onFetchData:p},null,512)])}}});function p(e){e.__source="src/views/lession/index.vue"}"function"===typeof p&&p(h);const m=h;var f=m},19349:function(e,t,o){o.r(t),o.d(t,{default:function(){return P}});var a=o(97930),r=o(73632),n=(o(3241),o(74965),o(20129)),l=(o(69840),o(15659)),i=(o(10444),o(61046)),s=(o(19414),o(6589),o(57018)),u=(o(74367),o(22040)),d=(o(99426),o(66252)),c=o(3577),h=o(49963);const p=e=>((0,d.dD)("data-v-3fea50e2"),e=e(),(0,d.Cn)(),e),m={class:"login-container"},f=p((()=>(0,d._)("div",{style:{color:"transparent"}},"占位符",-1))),g=p((()=>(0,d._)("div",{class:"title"},"hello !",-1))),w={class:"title-tips"},v=p((()=>(0,d._)("div",{style:{color:"transparent"}},"占位符",-1)));function y(e,t,o,p,y,b){const C=u.Dv,_=(0,d.up)("vab-icon"),k=s.EZ,x=n.nH,D=i.F8,S=l.ElButton,U=(0,d.up)("router-link"),A=n.ly,T=r.dq,P=a.Z,B=(0,d.Q2)("focus");return(0,d.wg)(),(0,d.iD)("div",m,[(0,d.Wm)(T,null,{default:(0,d.w5)((()=>[(0,d.Wm)(C,{lg:14,md:11,sm:24,xl:14,xs:24},{default:(0,d.w5)((()=>[f])),_:1}),(0,d.Wm)(C,{lg:9,md:12,sm:24,xl:9,xs:24},{default:(0,d.w5)((()=>[(0,d.Wm)(A,{ref:"formRef",class:"login-form","label-position":"left",model:e.form,rules:e.rules},{default:(0,d.w5)((()=>[g,(0,d._)("div",w,(0,c.zw)(e.translateTitle("欢迎来到"))+(0,c.zw)(e.title)+"！ ",1),(0,d.Wm)(x,{prop:"username"},{default:(0,d.w5)((()=>[(0,d.wy)(((0,d.wg)(),(0,d.j4)(k,{modelValue:e.form.username,"onUpdate:modelValue":t[0]||(t[0]=t=>e.form.username=t),modelModifiers:{trim:!0},placeholder:e.translateTitle("请输入用户名"),tabindex:"1",type:"text"},{prefix:(0,d.w5)((()=>[(0,d.Wm)(_,{icon:"user-line"})])),_:1},8,["modelValue","placeholder"])),[[B]])])),_:1}),(0,d.Wm)(x,{prop:"password"},{default:(0,d.w5)((()=>[((0,d.wg)(),(0,d.j4)(k,{key:e.passwordType,ref:"passwordRef",modelValue:e.form.password,"onUpdate:modelValue":t[1]||(t[1]=t=>e.form.password=t),modelModifiers:{trim:!0},placeholder:e.translateTitle("请输入密码"),tabindex:"2",type:e.passwordType,onKeyup:(0,h.D2)(e.handleLogin,["enter"])},(0,d.Nv)({prefix:(0,d.w5)((()=>[(0,d.Wm)(_,{icon:"lock-line"})])),_:2},["password"===e.passwordType?{name:"suffix",fn:(0,d.w5)((()=>[(0,d.Wm)(_,{class:"show-password",icon:"eye-off-line",onClick:e.handlePassword},null,8,["onClick"])])),key:"0"}:{name:"suffix",fn:(0,d.w5)((()=>[(0,d.Wm)(_,{class:"show-password",icon:"eye-line",onClick:e.handlePassword},null,8,["onClick"])])),key:"1"}]),1032,["modelValue","placeholder","type","onKeyup"]))])),_:1}),(0,d.Wm)(x,{prop:"verificationCode"},{default:(0,d.w5)((()=>[(0,d.Wm)(k,{modelValue:e.form.verificationCode,"onUpdate:modelValue":t[2]||(t[2]=t=>e.form.verificationCode=t),modelModifiers:{trim:!0},placeholder:e.translateTitle("验证码")+e.previewText,tabindex:"3",type:"text"},{prefix:(0,d.w5)((()=>[(0,d.Wm)(_,{icon:"barcode-box-line"})])),_:1},8,["modelValue","placeholder"]),(0,d.Wm)(D,{class:"code",src:e.codeUrl,onClick:e.changeCode},null,8,["src","onClick"])])),_:1}),(0,d.Wm)(x,null,{default:(0,d.w5)((()=>[(0,d.Wm)(S,{class:"login-btn",loading:e.loading,type:"primary",onClick:e.handleLogin},{default:(0,d.w5)((()=>[(0,d.Uk)((0,c.zw)(e.translateTitle("登录")),1)])),_:1},8,["loading","onClick"])])),_:1}),(0,d.Wm)(x,null,{default:(0,d.w5)((()=>[(0,d.Wm)(U,{to:"/register"},{default:(0,d.w5)((()=>[(0,d.Uk)((0,c.zw)(e.translateTitle("注册")),1)])),_:1})])),_:1})])),_:1},8,["model","rules"])])),_:1}),(0,d.Wm)(C,{lg:1,md:1,sm:24,xl:1,xs:24},{default:(0,d.w5)((()=>[v])),_:1})])),_:1}),(0,d.Wm)(P)])}o(57658);var b=o(58109),C=o(30582),_=o(7605),k=o(25498),x=o(2262),D=o(22201),S=(0,d.aZ)({name:"Login",directives:{focus:{mounted(e){e.querySelector("input").focus()}}},setup(){const e=(0,D.yj)(),t=(0,D.tv)(),o=(0,C.L)(),a=(0,b.F)(),r=e=>o.login(e),n=(e,t,o)=>{""===t?o(new Error((0,_.Iu)("用户名不能为空"))):o()},l=(e,t,o)=>{(0,k.L6)(t)?o():o(new Error((0,_.Iu)("密码不能少于6位")))},i=(0,x.qj)({formRef:null,passwordRef:null,form:{username:"",password:"",verificationCode:""},rules:{username:[{required:!0,trigger:"blur",validator:n}],password:[{required:!0,trigger:"blur",validator:l}]},loading:!1,passwordType:"password",redirect:void 0,timer:0,codeUrl:"https://www.oschina.net/action/user/captcha",previewText:""}),s=()=>"/404"===i.redirect||"/403"===i.redirect?"/":i.redirect,u=()=>{"password"===i.passwordType?i.passwordType="":i.passwordType="password",(0,d.Y3)((()=>{i["passwordRef"].focus()}))},c=async()=>{i["formRef"].validate((async e=>{if(e)try{i.loading=!0,await r(i.form).catch((()=>{})),await t.push(s())}finally{i.loading=!1}}))},h=()=>{i.codeUrl=`https://www.oschina.net/action/user/captcha?timestamp=${(new Date).getTime()}`},p=(0,x.iH)(!1);return(0,d.wF)((()=>{i.form.username="admin",i.form.password="123456","vue-admin-beautiful.com"!==location.hostname&&"chu1204505056.gitee.io"!==location.hostname||(p.value=!0,i.previewText="（演示地址验证码可不填）",i.timer=setTimeout((()=>{c()}),5e3))})),(0,d.m0)((()=>{i.redirect=e.query&&e.query.redirect||"/"})),(0,D.iS)(((e,t,o)=>{clearInterval(i.timer),o()})),{translateTitle:_.Iu,...(0,x.BK)(i),title:a.getTitle,handlePassword:u,handleLogin:c,changeCode:h}}});function U(e){e.__source="src/views/login/index.vue"}var A=o(83744);"function"===typeof U&&U(S);const T=(0,A.Z)(S,[["render",y],["__scopeId","data-v-3fea50e2"]]);var P=T},598:function(e,t,o){o.r(t),o.d(t,{default:function(){return g}});var a=o(66263),r=(o(3241),o(33790),o(66252));const n={class:"test2-container"};function l(e,t,o,l,i,s){const u=a.v,d=(0,r.up)("vab-json-viewer");return(0,r.wg)(),(0,r.iD)("div",n,[(0,r.Wm)(u,{closable:!1,"show-icon":"",title:"query",type:"success"}),(0,r.Wm)(d,{copyable:"","expand-depth":5,sort:"",value:e.route},null,8,["value"])])}var i=o(91536),s=o(90699),u=o.n(s),d=o(2262),c=o(22201),h=(0,r.aZ)({name:"Test2",components:{VabJsonViewer:u()},setup(){const e=(0,c.yj)(),t=(0,i.I)(),{changeTabsMeta:o}=t,a=(0,d.qj)({route:{}}),n=()=>{(0,r.Y3)((()=>{o({title:"Query",meta:{title:`Query Id=${e.query.id}`}}),a.route={path:e.path,query:e.query,name:e.name,meta:e.meta}}))};return(0,r.bv)((()=>{n()})),{...(0,d.BK)(a)}}});function p(e){e.__source="src/views/other/dynamicSegment/test2.vue"}var m=o(83744);"function"===typeof p&&p(h);const f=(0,m.Z)(h,[["render",l]]);var g=f},51365:function(e,t,o){o.r(t),o.d(t,{default:function(){return g}});var a=o(15659),r=(o(3241),o(10444),o(66252)),n=o(3577);const l={class:"social-container"},i={key:0};function s(e,t,o,s,u,d){const c=a.ElButton;return(0,r.wg)(),(0,r.iD)("div",l,[(0,r.Wm)(c,{type:"primary",onClick:e.handleSocialLogin},{default:(0,r.w5)((()=>[(0,r.Uk)(" 点击进行Github登录 ")])),_:1},8,["onClick"]),e.data?((0,r.wg)(),(0,r.iD)("p",i,(0,n.zw)(e.data),1)):(0,r.kq)("",!0)])}var u=o(30582),d=o(18689),c=o(2262),h=(0,r.aZ)({name:"Social",setup(){const e=(0,r.f3)("$baseLoading"),t=(0,r.f3)("$baseMessage"),o=(0,u.L)(),a=e=>o.socialLogin(e),n=(0,c.iH)(),l=()=>{const o=e();(0,d.x)("https://github.com/login/oauth/authorize",{client_id:"e104bdc488d009840c4f"}).then((async e=>{n.value=e,await a(e)})).catch((()=>{t("第三方登录失败，未返回令牌","error","vab-hey-message-error")})).finally((()=>{o.close()}))};return{data:n,handleSocialLogin:l}}});function p(e){e.__source="src/views/other/social/index.vue"}var m=o(83744);"function"===typeof p&&p(h);const f=(0,m.Z)(h,[["render",s]]);var g=f},51374:function(e,t,o){o.r(t),o.d(t,{default:function(){return f}});var a=o(57534),r=(o(3241),o(92471),o(66252)),n=o(2262),l=o(3577),i=o(99089),s=o(33090);const u={class:"knowledge-group"},d=["onClick"],c=(0,r.aZ)({name:"KnowledgeIndex"});var h=(0,r.aZ)({...c,setup(e){const t=(0,n.iH)("Python"),o=(0,n.iH)("c++"),c=(0,n.iH)(null),h=(0,n.qj)({list:[],listLoading:!0,layout:"total, sizes, prev, pager, next, jumper",total:0,selectRows:""}),p=async()=>{h.listLoading=!0;const e=await(0,i.gp)({});console.log(e),h.list=e.data.list,h.listLoading=!1},m=()=>{c.value.showDialog("目录","添加",null)},f=e=>{c.value.showDialog("知识点","添加",e)},g=e=>{c.value.showDialog("知识点","修改",e)},w=e=>{alert(1),console.log("knowledge")},v=e=>{c.value.showDialog("目录","修改",e)};return(0,r.YP)(o,(()=>{console.log("1",o),p()}),{immediate:!0}),(e,o)=>{const i=(0,r.up)("my-subject"),y=a.Ks,b=(0,r.up)("my-page");return(0,r.wg)(),(0,r.iD)("div",null,[(0,r.Wm)(b,{list:(0,n.SU)(h).list,"item-type":"知识点",onAddContainer:m,onAddItem:f,onEditContainer:v},{header:(0,r.w5)((()=>[(0,r._)("h3",null,"选择科目，当前科目是"+(0,l.zw)((0,n.SU)(t)),1),(0,r.Wm)(i,{modelValue:(0,n.SU)(t),"onUpdate:modelValue":o[0]||(o[0]=e=>(0,n.dq)(t)?t.value=e:null)},null,8,["modelValue"])])),default:(0,r.w5)((({item:e})=>[(0,r._)("div",u,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.children,(e=>((0,r.wg)(),(0,r.j4)(y,{key:e.id,class:"knowledge-group-item",closable:"",onClose:t=>w(e)},{default:(0,r.w5)((()=>[(0,r._)("span",{title:"点击查看",style:{cursor:"pointer"},onClick:t=>g(e)},(0,l.zw)(e.title),9,d)])),_:2},1032,["onClose"])))),128))])])),_:1},8,["list"]),(0,r.Wm)(s["default"],{ref_key:"editRef",ref:c,onFetchData:p},null,512)])}}});function p(e){e.__source="src/views/paper/index.vue"}"function"===typeof p&&p(h);const m=h;var f=m},61729:function(e,t,o){o.r(t),o.d(t,{default:function(){return A}});var a=o(73632),r=(o(3241),o(74965),o(20129)),n=(o(69840),o(15659)),l=(o(10444),o(6589),o(57018)),i=(o(74367),o(22040)),s=(o(99426),o(66252)),u=o(3577),d=o(49963);const c=e=>((0,s.dD)("data-v-29a185ee"),e=e(),(0,s.Cn)(),e),h={class:"register-container"},p=c((()=>(0,s._)("div",{style:{color:"transparent"}},"占位符",-1))),m=c((()=>(0,s._)("div",{class:"title"},"hello !",-1))),f={class:"title-tips"},g=c((()=>(0,s._)("div",{style:{color:"transparent"}},"占位符",-1)));function w(e,t,o,c,w,v){const y=i.Dv,b=(0,s.up)("vab-icon"),C=l.EZ,_=r.nH,k=n.ElButton,x=(0,s.up)("router-link"),D=r.ly,S=a.dq,U=(0,s.Q2)("focus");return(0,s.wg)(),(0,s.iD)("div",h,[(0,s.Wm)(S,null,{default:(0,s.w5)((()=>[(0,s.Wm)(y,{lg:14,md:11,sm:24,xl:14,xs:24},{default:(0,s.w5)((()=>[p])),_:1}),(0,s.Wm)(y,{lg:9,md:12,sm:24,xl:9,xs:24},{default:(0,s.w5)((()=>[(0,s.Wm)(D,{ref:"registerFormRef",class:"register-form",model:e.form,rules:e.registerRules},{default:(0,s.w5)((()=>[m,(0,s._)("div",f,(0,u.zw)(e.translateTitle("注册")),1),(0,s.Wm)(_,{prop:"username"},{default:(0,s.w5)((()=>[(0,s.wy)(((0,s.wg)(),(0,s.j4)(C,{modelValue:e.form.username,"onUpdate:modelValue":t[0]||(t[0]=t=>e.form.username=t),modelModifiers:{trim:!0},"auto-complete":"off",placeholder:e.translateTitle("请输入用户名"),type:"text"},{prefix:(0,s.w5)((()=>[(0,s.Wm)(b,{icon:"user-line"})])),_:1},8,["modelValue","placeholder"])),[[U]])])),_:1}),(0,s.Wm)(_,{prop:"phone"},{default:(0,s.w5)((()=>[(0,s.Wm)(C,{modelValue:e.form.phone,"onUpdate:modelValue":t[1]||(t[1]=t=>e.form.phone=t),modelModifiers:{trim:!0},maxlength:"11",placeholder:e.translateTitle("请输入手机号"),"show-word-limit":"",type:"text"},{prefix:(0,s.w5)((()=>[(0,s.Wm)(b,{icon:"smartphone-line"})])),_:1},8,["modelValue","placeholder"])])),_:1}),(0,s.Wm)(_,{prop:"phoneCode",style:{position:"relative"}},{default:(0,s.w5)((()=>[(0,s.Wm)(C,{modelValue:e.form.phoneCode,"onUpdate:modelValue":t[2]||(t[2]=t=>e.form.phoneCode=t),modelModifiers:{trim:!0},placeholder:e.translateTitle("请输入手机验证码"),type:"text"},{prefix:(0,s.w5)((()=>[(0,s.Wm)(b,{icon:"barcode-box-line"})])),_:1},8,["modelValue","placeholder"]),(0,s.Wm)(k,{class:"phone-code",disabled:e.isGetPhone,type:"primary",onClick:e.getPhoneCode},{default:(0,s.w5)((()=>[(0,s.Uk)((0,u.zw)(e.phoneCode),1)])),_:1},8,["disabled","onClick"])])),_:1}),(0,s.Wm)(_,{prop:"password"},{default:(0,s.w5)((()=>[(0,s.Wm)(C,{modelValue:e.form.password,"onUpdate:modelValue":t[3]||(t[3]=t=>e.form.password=t),modelModifiers:{trim:!0},autocomplete:"new-password",placeholder:e.translateTitle("请输入密码"),type:"password"},{prefix:(0,s.w5)((()=>[(0,s.Wm)(b,{icon:"lock-line"})])),_:1},8,["modelValue","placeholder"])])),_:1}),(0,s.Wm)(_,null,{default:(0,s.w5)((()=>[(0,s.Wm)(k,{class:"register-btn",type:"primary",onClick:(0,d.iM)(e.handleRegister,["prevent"])},{default:(0,s.w5)((()=>[(0,s.Uk)((0,u.zw)(e.translateTitle("注册")),1)])),_:1},8,["onClick"])])),_:1}),(0,s.Wm)(_,null,{default:(0,s.w5)((()=>[(0,s.Wm)(x,{to:"/login"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,u.zw)(e.translateTitle("登录")),1)])),_:1})])),_:1})])),_:1},8,["model","rules"])])),_:1}),(0,s.Wm)(y,{lg:1,md:1,sm:24,xl:1,xs:24},{default:(0,s.w5)((()=>[g])),_:1})])),_:1})])}o(57658);var v=o(7605),y=o(25498),b=o(12688),C=o(30582),_=o(2262),k=o(22201),x=(0,s.aZ)({name:"Register",directives:{focus:{inserted(e){e.querySelector("input").focus()}}},setup(){const e=(0,s.f3)("$baseConfirm"),t=(0,k.tv)(),o=(0,C.L)(),{setToken:a}=o,r=(e,t,o)=>{""===t?o(new Error((0,v.Iu)("用户名不能为空"))):o()},n=(e,t,o)=>{(0,y.L6)(t)?o():o(new Error((0,v.Iu)("密码不能少于6位")))},l=(e,t,o)=>{(0,y.Mn)(t)?o():o(new Error((0,v.Iu)("请输入正确的手机号")))},i=(0,_.qj)({registerFormRef:null,isGetPhone:!1,timer:null,phoneCode:(0,v.Iu)("获取验证码"),showRegister:!1,form:{},registerRules:{username:[{required:!0,trigger:"blur",message:(0,v.Iu)("请输入用户名")},{validator:r,trigger:"blur"}],phone:[{required:!0,trigger:"blur",message:(0,v.Iu)("请输入手机号")},{validator:l,trigger:"blur"}],password:[{required:!0,trigger:"blur",message:(0,v.Iu)("请输入密码")},{validator:n,trigger:"blur"}],phoneCode:[{required:!0,trigger:"blur",message:(0,v.Iu)("请输入手机验证码")}]},loading:!1,passwordType:"password"}),u=()=>{if(!(0,y.Mn)(i.form.phone))return void i["registerFormRef"].validateField("phone");i.isGetPhone=!0;let e=60;i.timer=setInterval((()=>{e>0?(e--,i.phoneCode=`${(0,v.Iu)("获取验证码 ")+e}s`):(clearInterval(i.timer),i.phoneCode=(0,v.Iu)("获取验证码"),i.timer=null,i.isGetPhone=!1)}),1e3)},d=()=>{i["registerFormRef"].validate((async o=>{if(o){const{msg:o,data:{token:r}}=await(0,b.z2)(i.form).catch((()=>{}));e(`${o}，点击确定模拟进入拥有【editor】角色的首页`,null,(async()=>{a(r),await t.push("/index")}))}}))};return(0,k.iS)(((e,t,o)=>{clearInterval(i.timer),o()})),{translateTitle:v.Iu,...(0,_.BK)(i),getPhoneCode:u,handleRegister:d}}});function D(e){e.__source="src/views/register/index.vue"}var S=o(83744);"function"===typeof D&&D(x);const U=(0,S.Z)(x,[["render",w],["__scopeId","data-v-29a185ee"]]);var A=U},64604:function(e,t,o){o.r(t),o.d(t,{default:function(){return m}});var a=o(20129),r=(o(3241),o(69840),o(57018)),n=(o(74367),o(6589),o(15659)),l=(o(10444),o(66252)),i=o(2262),s=o(3577),u=o(26593);const d={class:"eye-dropper-container"};var c={__name:"EyeDropper",setup(e){const{isSupported:t,open:o,sRGBHex:c}=(0,u.sn3)();return(e,u)=>{const h=n.ElButton,p=a.nH,m=r.EZ,f=a.ly;return(0,l.wg)(),(0,l.iD)("div",d,[(0,l.Wm)(f,{inline:""},{default:(0,l.w5)((()=>[(0,l.Wm)(p,{label:""},{default:(0,l.w5)((()=>[(0,l.Wm)(h,{disabled:!(0,i.SU)(t),type:"primary",onClick:(0,i.SU)(o)},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)((0,i.SU)(t)?"打开取色器":"取色器不支持您的电脑"),1)])),_:1},8,["disabled","onClick"])])),_:1}),(0,i.SU)(t)?((0,l.wg)(),(0,l.j4)(p,{key:0,label:""},{default:(0,l.w5)((()=>[(0,l.Wm)(m,{modelValue:(0,i.SU)(c),"onUpdate:modelValue":u[0]||(u[0]=e=>(0,i.dq)(c)?c.value=e:null)},null,8,["modelValue"])])),_:1})):(0,l.kq)("",!0)])),_:1})])}}};function h(e){e.__source="src/views/tools/EyeDropper.vue"}"function"===typeof h&&h(c);const p=c;var m=p},78248:function(e,t,o){o.r(t),o.d(t,{default:function(){return v}});var a=o(16273),r=o(33751),n=(o(3241),o(59739),o(66252));const l=e=>((0,n.dD)("data-v-341bba6a"),e=e(),(0,n.Cn)(),e),i={class:"date-picker-container"},s=l((()=>(0,n._)("span",null,"选择日",-1))),u=l((()=>(0,n._)("span",null,"其他日期单位",-1))),d=l((()=>(0,n._)("span",null,"选择日期范围",-1))),c=l((()=>(0,n._)("span",null,"选择月份范围",-1)));function h(e,t,o,l,h,p){const m=r.iJ,f=a.Z;return(0,n.wg)(),(0,n.iD)("div",i,[(0,n.Wm)(f,{shadow:"hover"},{header:(0,n.w5)((()=>[s])),default:(0,n.w5)((()=>[(0,n.Wm)(m,{modelValue:e.value1,"onUpdate:modelValue":t[0]||(t[0]=t=>e.value1=t),placeholder:"选择日期",type:"date"},null,8,["modelValue"]),(0,n.Wm)(m,{modelValue:e.value2,"onUpdate:modelValue":t[1]||(t[1]=t=>e.value2=t),"disabled-date":e.disabledDate,placeholder:"选择日期",shortcuts:e.shortcuts,type:"date"},null,8,["modelValue","disabled-date","shortcuts"])])),_:1}),(0,n.Wm)(f,{shadow:"hover"},{header:(0,n.w5)((()=>[u])),default:(0,n.w5)((()=>[(0,n.Wm)(m,{modelValue:e.value3,"onUpdate:modelValue":t[2]||(t[2]=t=>e.value3=t),format:"yyyy 第 WW 周",placeholder:"选择周",type:"week"},null,8,["modelValue"]),(0,n.Wm)(m,{modelValue:e.value4,"onUpdate:modelValue":t[3]||(t[3]=t=>e.value4=t),placeholder:"选择月",type:"month"},null,8,["modelValue"]),(0,n.Wm)(m,{modelValue:e.value5,"onUpdate:modelValue":t[4]||(t[4]=t=>e.value5=t),placeholder:"选择年",type:"year"},null,8,["modelValue"]),(0,n.Wm)(m,{modelValue:e.value6,"onUpdate:modelValue":t[5]||(t[5]=t=>e.value6=t),placeholder:"选择一个或多个日期",type:"dates"},null,8,["modelValue"])])),_:1}),(0,n.Wm)(f,{shadow:"hover"},{header:(0,n.w5)((()=>[d])),default:(0,n.w5)((()=>[(0,n.Wm)(m,{modelValue:e.value7,"onUpdate:modelValue":t[6]||(t[6]=t=>e.value7=t),"end-placeholder":"结束日期","range-separator":"至","start-placeholder":"开始日期",type:"daterange"},null,8,["modelValue"])])),_:1}),(0,n.Wm)(f,{shadow:"hover"},{header:(0,n.w5)((()=>[c])),default:(0,n.w5)((()=>[(0,n.Wm)(m,{modelValue:e.value8,"onUpdate:modelValue":t[7]||(t[7]=t=>e.value8=t),"end-placeholder":"结束月份","range-separator":"至","start-placeholder":"开始月份",type:"monthrange"},null,8,["modelValue"])])),_:1})])}var p=o(2262),m=(0,n.aZ)({name:"DatePicker",setup(){const e=(0,p.qj)({disabledDate(e){return e.getTime()>Date.now()},shortcuts:[{text:"今天",value:new Date},{text:"昨天",value:()=>{const e=new Date;return e.setTime(e.getTime()-864e5),e}},{text:"一周前",value:()=>{const e=new Date;return e.setTime(e.getTime()-6048e5),e}}],value1:"",value2:"",value3:"",value4:"",value5:"",value6:"",value7:"",value8:""});return{...(0,p.BK)(e)}}});function f(e){e.__source="src/views/vab/form/datePicker.vue"}var g=o(83744);"function"===typeof f&&f(m);const w=(0,g.Z)(m,[["render",h],["__scopeId","data-v-341bba6a"]]);var v=w},60712:function(e,t,o){o.r(t),o.d(t,{default:function(){return D}});var a=o(16273),r=o(47223),n=(o(3241),o(96624),o(66252));const l=e=>((0,n.dD)("data-v-7bb57f24"),e=e(),(0,n.Cn)(),e),i={class:"slider-container"},s=l((()=>(0,n._)("span",null,"基础用法",-1))),u=l((()=>(0,n._)("span",{class:"demonstration"},"默认",-1))),d=l((()=>(0,n._)("span",{class:"demonstration"},"自定义初始值",-1))),c=l((()=>(0,n._)("span",{class:"demonstration"},"隐藏 Tooltip",-1))),h=l((()=>(0,n._)("span",{class:"demonstration"},"格式化 Tooltip",-1))),p=l((()=>(0,n._)("span",{class:"demonstration"},"禁用",-1))),m=l((()=>(0,n._)("span",null,"离散值",-1))),f=l((()=>(0,n._)("span",{class:"demonstration"},"不显示间断点",-1))),g=l((()=>(0,n._)("span",{class:"demonstration"},"显示间断点",-1))),w=l((()=>(0,n._)("span",null,"带有输入框",-1))),v=l((()=>(0,n._)("span",null,"范围选择",-1)));function y(e,t,o,l,y,b){const C=r.BM,_=a.Z;return(0,n.wg)(),(0,n.iD)("div",i,[(0,n.Wm)(_,{shadow:"hover"},{header:(0,n.w5)((()=>[s])),default:(0,n.w5)((()=>[u,(0,n.Wm)(C,{modelValue:e.value1,"onUpdate:modelValue":t[0]||(t[0]=t=>e.value1=t)},null,8,["modelValue"]),d,(0,n.Wm)(C,{modelValue:e.value2,"onUpdate:modelValue":t[1]||(t[1]=t=>e.value2=t)},null,8,["modelValue"]),c,(0,n.Wm)(C,{modelValue:e.value3,"onUpdate:modelValue":t[2]||(t[2]=t=>e.value3=t),"show-tooltip":!1},null,8,["modelValue"]),h,(0,n.Wm)(C,{modelValue:e.value4,"onUpdate:modelValue":t[3]||(t[3]=t=>e.value4=t),"format-tooltip":e.formatTooltip},null,8,["modelValue","format-tooltip"]),p,(0,n.Wm)(C,{modelValue:e.value5,"onUpdate:modelValue":t[4]||(t[4]=t=>e.value5=t),disabled:""},null,8,["modelValue"])])),_:1}),(0,n.Wm)(_,{shadow:"hover"},{header:(0,n.w5)((()=>[m])),default:(0,n.w5)((()=>[f,(0,n.Wm)(C,{modelValue:e.value6,"onUpdate:modelValue":t[5]||(t[5]=t=>e.value6=t),step:10},null,8,["modelValue"]),g,(0,n.Wm)(C,{modelValue:e.value6,"onUpdate:modelValue":t[6]||(t[6]=t=>e.value6=t),"show-stops":"",step:10},null,8,["modelValue"])])),_:1}),(0,n.Wm)(_,{shadow:"hover"},{header:(0,n.w5)((()=>[w])),default:(0,n.w5)((()=>[(0,n.Wm)(C,{modelValue:e.value7,"onUpdate:modelValue":t[7]||(t[7]=t=>e.value7=t),"show-input":""},null,8,["modelValue"])])),_:1}),(0,n.Wm)(_,{shadow:"hover"},{header:(0,n.w5)((()=>[v])),default:(0,n.w5)((()=>[(0,n.Wm)(C,{modelValue:e.value8,"onUpdate:modelValue":t[8]||(t[8]=t=>e.value8=t),max:10,range:"","show-stops":""},null,8,["modelValue"])])),_:1})])}var b=o(2262),C=(0,n.aZ)({name:"Slider",setup(){const e=(0,b.qj)({value1:0,value2:50,value3:36,value4:48,value5:42,value6:0,value7:0,value8:[4,8],value9:0}),t=e=>e/100;return{...(0,b.BK)(e),formatTooltip:t}}});function _(e){e.__source="src/views/vab/form/slider.vue"}var k=o(83744);"function"===typeof _&&_(C);const x=(0,k.Z)(C,[["render",y],["__scopeId","data-v-7bb57f24"]]);var D=x},17416:function(e,t,o){o.r(t),o.d(t,{default:function(){return v}});var a=o(73481),r=(o(3241),o(62029),o(15659)),n=(o(10444),o(20129)),l=(o(69840),o(31040)),i=(o(86709),o(87692)),s=(o(45393),o(81691),o(57018)),u=(o(74367),o(6589),o(14132)),d=(o(50986),o(61715),o(66252)),c=o(2262),h=o(3577),p=o(80935),m=o(60428),f=(0,d.aZ)({__name:"directive-dialog",emits:["fetch-data"],setup(e,{expose:t,emit:o}){const f=(0,d.f3)("$baseMessage"),{list:g}=(0,p.Z)(),w=(0,c.qj)({subjectId:-1,name:"测试标题",intro:"",type:"图片",image:"",order:1,remark:"备注"}),v={title:[{required:!0,trigger:"blur",message:"请输入标题"}]},y=(0,c.iH)(null),b=(0,c.iH)(!1),C=(0,c.qj)({opName:"添加",objectName:"目录"}),_=(0,d.Fl)((()=>`${C.objectName}-${C.opName}`)),k=(e="目录",t="添加",o=-1,a=null)=>{C.objectName=e,C.opName=t,w.subjectId=o,a&&(w.order=a.order||1),b.value=!0},x=()=>{y.value.resetFields(),b.value=!1},D=async e=>{"科目"===C.objectName&&"添加"===C.opName&&await(0,m.ox)(e),f("添加成功","success","vab-hey-message-success"),o("fetch-data")},S=()=>{y.value.validate((async e=>{e&&(await D(w),x())}))};return t({showDialog:k}),(e,t)=>{const o=u.BT,p=u.ElSelect,m=n.nH,f=s.EZ,k=(0,d.up)("my-upload-image"),D=i.rh,U=i.KD,A=l.d6,T=n.ly,P=r.ElButton,B=a.d0;return(0,d.wg)(),(0,d.j4)(B,{modelValue:(0,c.SU)(b),"onUpdate:modelValue":t[7]||(t[7]=e=>(0,c.dq)(b)?b.value=e:null),title:(0,c.SU)(_),width:"500px",onClose:x},{footer:(0,d.w5)((()=>[(0,d.Wm)(P,{type:"primary",onClick:S},{default:(0,d.w5)((()=>[(0,d.Uk)("确 定")])),_:1}),(0,d.Wm)(P,{onClick:x},{default:(0,d.w5)((()=>[(0,d.Uk)("取 消")])),_:1})])),default:(0,d.w5)((()=>[(0,d.Wm)(T,{ref_key:"formRef",ref:y,model:(0,c.SU)(w),rules:v,"label-position":"top"},{default:(0,d.w5)((()=>["指令分类"===(0,c.SU)(C).objectName?((0,d.wg)(),(0,d.j4)(m,{key:0,label:"选择科目",prop:"subject"},{default:(0,d.w5)((()=>[(0,d.Wm)(p,{modelValue:(0,c.SU)(w).subjectId,"onUpdate:modelValue":t[0]||(t[0]=e=>(0,c.SU)(w).subjectId=e),placeholder:"请选择"},{default:(0,d.w5)((()=>[((0,d.wg)(!0),(0,d.iD)(d.HY,null,(0,d.Ko)((0,c.SU)(g),(e=>((0,d.wg)(),(0,d.j4)(o,{key:e.id,value:e.id,label:e.title},{default:(0,d.w5)((()=>[(0,d.Uk)((0,h.zw)(e.title),1)])),_:2},1032,["value","label"])))),128))])),_:1},8,["modelValue"])])),_:1})):(0,d.kq)("",!0),(0,d.Wm)(m,{label:(0,c.SU)(C).objectName+"名称",prop:"name"},{default:(0,d.w5)((()=>[(0,d.Wm)(f,{modelValue:(0,c.SU)(w).name,"onUpdate:modelValue":t[1]||(t[1]=e=>(0,c.SU)(w).name=e),"aria-placeholder":"请输入"},null,8,["modelValue"])])),_:1},8,["label"]),(0,d.Wm)(m,{label:(0,c.SU)(C).objectName+"描述",prop:"intro"},{default:(0,d.w5)((()=>[(0,d.Wm)(f,{modelValue:(0,c.SU)(w).intro,"onUpdate:modelValue":t[2]||(t[2]=e=>(0,c.SU)(w).intro=e),type:"textarea","aria-placeholder":"请输入"},null,8,["modelValue"])])),_:1},8,["label"]),(0,d.Wm)(m,{label:(0,c.SU)(C).objectName+"图片上传",prop:"intro"},{default:(0,d.w5)((()=>[(0,d.Wm)(k,{modelValue:(0,c.SU)(w).image,"onUpdate:modelValue":t[3]||(t[3]=e=>(0,c.SU)(w).image=e)},null,8,["modelValue"])])),_:1},8,["label"]),"指令分类"===(0,c.SU)(C).objectName?((0,d.wg)(),(0,d.j4)(m,{key:1,label:(0,c.SU)(C).objectName+"类型",prop:"intro"},{default:(0,d.w5)((()=>[(0,d.Wm)(U,{modelValue:(0,c.SU)(w).type,"onUpdate:modelValue":t[4]||(t[4]=e=>(0,c.SU)(w).type=e)},{default:(0,d.w5)((()=>[(0,d.Wm)(D,{label:"图片"},{default:(0,d.w5)((()=>[(0,d.Uk)("图片")])),_:1}),(0,d.Wm)(D,{label:"文字"},{default:(0,d.w5)((()=>[(0,d.Uk)("文字")])),_:1})])),_:1},8,["modelValue"])])),_:1},8,["label"])):(0,d.kq)("",!0),(0,d.Wm)(m,{label:"显示排序",prop:"order"},{default:(0,d.w5)((()=>[(0,d.Wm)(A,{modelValue:(0,c.SU)(w).order,"onUpdate:modelValue":t[5]||(t[5]=e=>(0,c.SU)(w).order=e),step:1},null,8,["modelValue"])])),_:1}),(0,d.Wm)(m,{label:(0,c.SU)(C).objectName+"备注",prop:"remark"},{default:(0,d.w5)((()=>[(0,d.Wm)(f,{modelValue:(0,c.SU)(w).remark,"onUpdate:modelValue":t[6]||(t[6]=e=>(0,c.SU)(w).remark=e),type:"textarea"},null,8,["modelValue"])])),_:1},8,["label"])])),_:1},8,["model"])])),_:1},8,["modelValue","title"])}}});function g(e){e.__source="src/views/work/directive-dialog.vue"}"function"===typeof g&&g(f);const w=f;var v=w},94990:function(e,t,o){o.r(t),o.d(t,{default:function(){return g}});var a=o(57534),r=(o(3241),o(92471),o(57658),o(66252)),n=o(2262),l=o(3577),i=o(99089),s=o(17416),u=o(50837);const d={class:"knowledge-group"},c=["onClick"],h=(0,r.aZ)({name:"KnowledgeIndex"});var p=(0,r.aZ)({...h,setup(e){const t=(0,n.iH)({id:-1,title:""}),o=(0,n.iH)("c++"),h=(0,n.iH)(null),p=(0,n.qj)({list:[],listLoading:!0,layout:"total, sizes, prev, pager, next, jumper",total:0,selectRows:""}),m=async()=>{p.listLoading=!0;const e=await(0,i.gp)({});console.log(e),p.list=e.data.list,p.listLoading=!1},f=()=>{h.value.showDialog("作品分类","添加",null)},g=e=>{u.ZP.push("/work/add")},w=e=>{h.value.showDialog("作品","修改",e)},v=e=>{alert(1),console.log("knowledge")},y=e=>{h.value.showDialog("目录","修改",e)};return(0,r.YP)(o,(()=>{console.log("1",o),m()}),{immediate:!0}),(e,o)=>{const i=(0,r.up)("my-subject"),u=a.Ks,b=(0,r.up)("my-page");return(0,r.wg)(),(0,r.iD)("div",null,[(0,r.Wm)(b,{title:"作品分类","has-op-top":"",list:(0,n.SU)(p).list,"item-type":"作品",onAddContainer:f,onAddItem:g,onEditContainer:y},{header:(0,r.w5)((()=>[(0,r._)("h3",null,"选择科目，当前科目是:"+(0,l.zw)((0,n.SU)(t).title),1),(0,r.Wm)(i,{modelValue:(0,n.SU)(t),"onUpdate:modelValue":o[0]||(o[0]=e=>(0,n.dq)(t)?t.value=e:null)},null,8,["modelValue"])])),default:(0,r.w5)((({item:e})=>[(0,r._)("div",d,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.children,(e=>((0,r.wg)(),(0,r.j4)(u,{key:e.id,class:"knowledge-group-item",closable:"",onClose:t=>v(e)},{default:(0,r.w5)((()=>[(0,r._)("span",{title:"点击查看",style:{cursor:"pointer"},onClick:t=>w(e)},(0,l.zw)(e.title),9,c)])),_:2},1032,["onClose"])))),128))])])),_:1},8,["list"]),(0,r.Wm)(s["default"],{ref_key:"editRef",ref:h,onFetchData:m},null,512)])}}});function m(e){e.__source="src/views/work/index.vue"}"function"===typeof m&&m(p);const f=p;var g=f},88330:function(e,t,o){o.d(t,{Z:function(){return At}});var a=o(66252);const r=["src"];function n(e,t,o,n,l,i){return o.bindElement?((0,a.wg)(),(0,a.iD)("img",{key:0,style:{display:"inline-block"},src:l.imgUrl},null,8,r)):(0,a.kq)("",!0)}function l(e){return""===e?e:"true"===e||"1"==e}function i(e,t){return new Promise(((t,o)=>{var a=new XMLHttpRequest;a.responseType="blob",a.onload=function(){var e=new FileReader;e.onloadend=function(){t(e.result)},e.readAsArrayBuffer(a.response)},a.open("GET",e),a.send()}))}var s=i;function u(e){if("string"!==typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function d(e,t){for(var o,a="",r=0,n=-1,l=0,i=0;i<=e.length;++i){if(i<e.length)o=e.charCodeAt(i);else{if(47===o)break;o=47}if(47===o){if(n===i-1||1===l);else if(n!==i-1&&2===l){if(a.length<2||2!==r||46!==a.charCodeAt(a.length-1)||46!==a.charCodeAt(a.length-2))if(a.length>2){var s=a.lastIndexOf("/");if(s!==a.length-1){-1===s?(a="",r=0):(a=a.slice(0,s),r=a.length-1-a.lastIndexOf("/")),n=i,l=0;continue}}else if(2===a.length||1===a.length){a="",r=0,n=i,l=0;continue}t&&(a.length>0?a+="/..":a="..",r=2)}else a.length>0?a+="/"+e.slice(n+1,i):a=e.slice(n+1,i),r=i-n-1;n=i,l=0}else 46===o&&-1!==l?++l:l=-1}return a}function c(e,t){var o=t.dir||t.root,a=t.base||(t.name||"")+(t.ext||"");return o?o===t.root?o+a:o+e+a:a}var h={resolve:function(){for(var e,t="",o=!1,a=arguments.length-1;a>=-1&&!o;a--){var r;a>=0?r=arguments[a]:(void 0===e&&(e=process.cwd()),r=e),u(r),0!==r.length&&(t=r+"/"+t,o=47===r.charCodeAt(0))}return t=d(t,!o),o?t.length>0?"/"+t:"/":t.length>0?t:"."},normalize:function(e){if(u(e),0===e.length)return".";var t=47===e.charCodeAt(0),o=47===e.charCodeAt(e.length-1);return e=d(e,!t),0!==e.length||t||(e="."),e.length>0&&o&&(e+="/"),t?"/"+e:e},isAbsolute:function(e){return u(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,t=0;t<arguments.length;++t){var o=arguments[t];u(o),o.length>0&&(void 0===e?e=o:e+="/"+o)}return void 0===e?".":h.normalize(e)},relative:function(e,t){if(u(e),u(t),e===t)return"";if(e=h.resolve(e),t=h.resolve(t),e===t)return"";for(var o=1;o<e.length;++o)if(47!==e.charCodeAt(o))break;for(var a=e.length,r=a-o,n=1;n<t.length;++n)if(47!==t.charCodeAt(n))break;for(var l=t.length,i=l-n,s=r<i?r:i,d=-1,c=0;c<=s;++c){if(c===s){if(i>s){if(47===t.charCodeAt(n+c))return t.slice(n+c+1);if(0===c)return t.slice(n+c)}else r>s&&(47===e.charCodeAt(o+c)?d=c:0===c&&(d=0));break}var p=e.charCodeAt(o+c),m=t.charCodeAt(n+c);if(p!==m)break;47===p&&(d=c)}var f="";for(c=o+d+1;c<=a;++c)c!==a&&47!==e.charCodeAt(c)||(0===f.length?f+="..":f+="/..");return f.length>0?f+t.slice(n+d):(n+=d,47===t.charCodeAt(n)&&++n,t.slice(n))},_makeLong:function(e){return e},dirname:function(e){if(u(e),0===e.length)return".";for(var t=e.charCodeAt(0),o=47===t,a=-1,r=!0,n=e.length-1;n>=1;--n)if(t=e.charCodeAt(n),47===t){if(!r){a=n;break}}else r=!1;return-1===a?o?"/":".":o&&1===a?"//":e.slice(0,a)},basename:function(e,t){if(void 0!==t&&"string"!==typeof t)throw new TypeError('"ext" argument must be a string');u(e);var o,a=0,r=-1,n=!0;if(void 0!==t&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";var l=t.length-1,i=-1;for(o=e.length-1;o>=0;--o){var s=e.charCodeAt(o);if(47===s){if(!n){a=o+1;break}}else-1===i&&(n=!1,i=o+1),l>=0&&(s===t.charCodeAt(l)?-1===--l&&(r=o):(l=-1,r=i))}return a===r?r=i:-1===r&&(r=e.length),e.slice(a,r)}for(o=e.length-1;o>=0;--o)if(47===e.charCodeAt(o)){if(!n){a=o+1;break}}else-1===r&&(n=!1,r=o+1);return-1===r?"":e.slice(a,r)},extname:function(e){u(e);for(var t=-1,o=0,a=-1,r=!0,n=0,l=e.length-1;l>=0;--l){var i=e.charCodeAt(l);if(47!==i)-1===a&&(r=!1,a=l+1),46===i?-1===t?t=l:1!==n&&(n=1):-1!==t&&(n=-1);else if(!r){o=l+1;break}}return-1===t||-1===a||0===n||1===n&&t===a-1&&t===o+1?"":e.slice(t,a)},format:function(e){if(null===e||"object"!==typeof e)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return c("/",e)},parse:function(e){u(e);var t={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return t;var o,a=e.charCodeAt(0),r=47===a;r?(t.root="/",o=1):o=0;for(var n=-1,l=0,i=-1,s=!0,d=e.length-1,c=0;d>=o;--d)if(a=e.charCodeAt(d),47!==a)-1===i&&(s=!1,i=d+1),46===a?-1===n?n=d:1!==c&&(c=1):-1!==n&&(c=-1);else if(!s){l=d+1;break}return-1===n||-1===i||0===c||1===c&&n===i-1&&n===l+1?-1!==i&&(t.base=t.name=0===l&&r?e.slice(1,i):e.slice(l,i)):(0===l&&r?(t.name=e.slice(1,n),t.base=e.slice(1,i)):(t.name=e.slice(l,n),t.base=e.slice(l,i)),t.ext=e.slice(n,i)),l>0?t.dir=e.slice(0,l-1):r&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};h.posix=h;const p=h.extname,m=h.basename;class f{constructor(){let e=(()=>"undefined"==typeof o.g)(),t="image/png",a="image/jpeg",r="image/jpeg",n="image/webp",l="application/pdf",i="image/svg+xml";Object.assign(this,{toMime:this.toMime.bind(this),fromMime:this.fromMime.bind(this),expected:e?'"png", "jpg", or "webp"':'"png", "jpg", "pdf", or "svg"',formats:e?{png:t,jpg:a,jpeg:r,webp:n}:{png:t,jpg:a,jpeg:r,pdf:l,svg:i},mimes:e?{[t]:"png",[a]:"jpg",[n]:"webp"}:{[t]:"png",[a]:"jpg",[l]:"pdf",[i]:"svg"}})}toMime(e){return this.formats[(e||"").replace(/^\./,"").toLowerCase()]}fromMime(e){return this.mimes[e]}}function g(e,{filename:t="",extension:o="",format:a,page:r,quality:n,matte:l,density:i,outline:s,archive:u}={}){var{fromMime:d,toMime:c,expected:h}=new f,g=(u=u||"canvas",a||o.replace(/@\d+x$/i,"")||p(t)),w=(a=d(c(g)||g),c(a)),v=e.length;if(!g)throw new Error("Cannot determine image format (use a filename extension or 'format' argument)");if(!a)throw new Error(`Unsupported file format "${g}" (expected ${h})`);if(!v)throw new RangeError("Canvas has no associated contexts (try calling getContext or newPage first)");let y,b,C=t.replace(/{(\d*)}/g,((e,t)=>(b=!0,t=parseInt(t,10),y=isFinite(t)?t:isFinite(y)?y:-1,"{}"))),_=r>0?r-1:r<0?v+r:void 0;if(isFinite(_)&&_<0||_>=v)throw new RangeError(1==v?`Canvas only has a ‘page 1’ (${_} is out of bounds)`:`Canvas has pages 1–${v} (${_} is out of bounds)`);if(e=isFinite(_)?[e[_]]:b||"pdf"==a?e:e.slice(-1),void 0===n)n=.92;else if("number"!=typeof n||!isFinite(n)||n<0||n>1)throw new TypeError("The quality option must be an number in the 0.0–1.0 range");if(void 0===i){let e=(o||m(t,g)).match(/@(\d+)x$/i);i=e?parseInt(e[1],10):1}else if("number"!=typeof i||!Number.isInteger(i)||i<1)throw new TypeError("The density option must be a non-negative integer");return void 0===s?s=!0:"svg"==a&&(s=!!s),{filename:t,pattern:C,format:a,mime:w,pages:e,padding:y,quality:n,matte:l,density:i,outline:s,archive:u}}class w{static for(e){return(new w).append(e).get()}constructor(){this.crc=-1}get(){return~this.crc}append(e){for(var t=0|this.crc,o=this.table,a=0,r=0|e.length;a<r;a++)t=t>>>8^o[255&(t^e[a])];return this.crc=t,this}}function v(e){let t=new Uint8Array(e),o=new DataView(t.buffer),a={array:t,view:o,size:e,set8(e,t){return o.setUint8(e,t),a},set16(e,t){return o.setUint16(e,t,!0),a},set32(e,t){return o.setUint32(e,t,!0),a},bytes(e,o){return t.set(o,e),a}};return a}w.prototype.table=(()=>{var e,t,o,a=[];for(e=0;e<256;e++){for(o=e,t=0;t<8;t++)o=1&o?o>>>1^3988292384:o>>>1;a[e]=o}return a})();class y{constructor(e){let t=new Date;Object.assign(this,{directory:e,offset:0,files:[],time:(t.getHours()<<6|t.getMinutes())<<5|t.getSeconds()/2,date:(t.getFullYear()-1980<<4|t.getMonth()+1)<<5|t.getDate()}),this.add(e)}async add(e,t){let o=!t,a=y.encoder.encode(`${this.directory}/${o?"":e}`),r=new Uint8Array(o?0:await t.arrayBuffer()),n=30+a.length,l=n+r.length,i=16,{offset:s}=this,u=v(26).set32(0,134742036).set16(6,this.time).set16(8,this.date).set32(10,w.for(r)).set32(14,r.length).set32(18,r.length).set16(22,a.length);s+=n;let d=v(n+r.length+i).set32(0,67324752).bytes(4,u.array).bytes(30,a).bytes(n,r);s+=r.length,d.set32(l,134695760).bytes(l+4,u.array.slice(10,22)),s+=i,this.files.push({offset:s,folder:o,name:a,header:u,payload:d}),this.offset=s}toBuffer(){let e=this.files.reduce(((e,{name:t})=>46+t.length+e),0),t=v(e+22),o=0;for(var{offset:a,name:r,header:n,folder:l}of this.files)t.set32(o,33639248).set16(o+4,20).bytes(o+6,n.array).set8(o+38,l?16:0).set32(o+42,a).bytes(o+46,r),o+=46+r.length;t.set32(o,101010256).set16(o+8,this.files.length).set16(o+10,this.files.length).set32(o+12,e).set32(o+16,this.offset);let i=new Uint8Array(this.offset+t.size),s=0;for(var{payload:u}of this.files)i.set(u.array,s),s+=u.size;return i.set(t.array,s),i}get blob(){return new Blob([this.toBuffer()],{type:"application/zip"})}}y.encoder=new TextEncoder;const b=(e,t,o,a)=>{if(a){let{width:t,height:o}=e,r=Object.assign(document.createElement("canvas"),{width:t,height:o}),n=r.getContext("2d");n.fillStyle=a,n.fillRect(0,0,t,o),n.drawImage(e,0,0),e=r}return new Promise(((a,r)=>e.toBlob(a,t,o)))},C=(...e)=>b(...e).then((e=>e.arrayBuffer())),_=async(e,t,o,a,r)=>{x(r,await b(e,t,o,a))},k=async(e,t,o,a,r,n,l)=>{let i=e=>n.replace("{}",String(e+1).padStart(l,"0")),s=m(r,".zip")||"archive",u=new y(s);await Promise.all(e.map((async(e,r)=>{let n=i(r);await u.add(n,await b(e,t,o,a))}))),x(`${s}.zip`,u.blob)},x=(e,t)=>{const o=window.URL.createObjectURL(t),a=document.createElement("a");a.style.display="none",a.href=o,a.setAttribute("download",e),"undefined"===typeof a.download&&a.setAttribute("target","_blank"),document.body.appendChild(a),a.click(),document.body.removeChild(a),setTimeout((()=>window.URL.revokeObjectURL(o)),100)},D=(e,t,o)=>e.map((e=>{if(1==t&&!o)return e.canvas;let a=document.createElement("canvas"),r=a.getContext("2d"),n=e.canvas?e.canvas:e;return a.width=n.width*t,a.height=n.height*t,o&&(r.fillStyle=o,r.fillRect(0,0,a.width,a.height)),r.scale(t,t),r.drawImage(n,0,0),a})),S={asBuffer:C,asDownload:_,asZipDownload:k,atScale:D,options:g};var U=S;const{asBuffer:A,asDownload:T,asZipDownload:P,atScale:B,options:E}=U,V=Symbol.for("toDataURL"),I=e=>new Promise(((t,o)=>Object.assign(new M,{crossOrigin:"Anonymous",onload:t,onerror:o,src:e})));class R{constructor(e,t){let o=document.createElement("canvas"),a=[];for(var[r,n]of(Object.defineProperty(o,"async",{value:!0,writable:!1,enumerable:!0}),Object.entries({png:()=>A(o,"image/png"),jpg:()=>A(o,"image/jpeg"),pages:()=>a.concat(o).map((e=>e.getContext("2d")))})))Object.defineProperty(o,r,{get:n});return Object.assign(o,{width:e,height:t,newPage(...e){var{width:t,height:r}=o,n=Object.assign(document.createElement("canvas"),{width:t,height:r});n.getContext("2d").drawImage(o,0,0),a.push(n);var[t,r]=e.length?e:[t,r];return Object.assign(o,{width:t,height:r}).getContext("2d")},saveAs(e,t){t="number"==typeof t?{quality:t}:t;let o=E(this.pages,{filename:e,...t}),{pattern:a,padding:r,mime:n,quality:l,matte:i,density:s,archive:u}=o,d=B(o.pages,s);return void 0==r?T(d[0],n,l,i,e):P(d,n,l,i,u,a,r)},toBuffer(e="png",t={}){t="number"==typeof t?{quality:t}:t;let o=E(this.pages,{extension:e,...t}),{mime:a,quality:r,matte:n,pages:l,density:i}=o,s=B(l,i,n)[0];return A(s,a,r,n)},[V]:o.toDataURL.bind(o),toDataURL(e="png",t={}){t="number"==typeof t?{quality:t}:t;let a=E(this.pages,{extension:e,...t}),{mime:r,quality:n,matte:l,pages:i,density:s}=a,u=B(i,s,l)[0],d=u[u===o?V:"toDataURL"](r,n);return Promise.resolve(d)}})}}const{CanvasRenderingContext2D:L,CanvasGradient:W,CanvasPattern:j,Image:M,ImageData:N,Path2D:O,DOMMatrix:q,DOMRect:z,DOMPoint:H}=window,F={Canvas:R,loadImage:I,CanvasRenderingContext2D:L,CanvasGradient:W,CanvasPattern:j,Image:M,ImageData:N,Path2D:O,DOMMatrix:q,DOMRect:z,DOMPoint:H};var $=F;const Z=(e,t,o={},a=o)=>{if(Array.isArray(t))t.forEach((t=>Z(e,t,o,a)));else if("function"===typeof t)t(e,o,a,Z);else{const r=Object.keys(t)[0];Array.isArray(t[r])?(a[r]={},Z(e,t[r],o,a[r])):a[r]=t[r](e,o,a,Z)}return o},G=(e,t)=>(o,a,r,n)=>{t(o,a,r)&&n(o,e,a,r)},K=(e,t)=>(o,a,r,n)=>{const l=[];let i=o.pos;while(t(o,a,r)){const t={};if(n(o,e,a,t),o.pos===i)break;i=o.pos,l.push(t)}return l},Y=e=>({data:e,pos:0}),Q=()=>e=>e.data[e.pos++],J=(e=0)=>t=>t.data[t.pos+e],X=e=>t=>t.data.subarray(t.pos,t.pos+=e),ee=e=>t=>t.data.subarray(t.pos,t.pos+e),te=e=>t=>Array.from(X(e)(t)).map((e=>String.fromCharCode(e))).join(""),oe=e=>t=>{const o=X(2)(t);return e?(o[1]<<8)+o[0]:(o[0]<<8)+o[1]},ae=(e,t)=>(o,a,r)=>{const n="function"===typeof t?t(o,a,r):t,l=X(e),i=new Array(n);for(var s=0;s<n;s++)i[s]=l(o);return i},re=(e,t,o)=>{for(var a=0,r=0;r<o;r++)a+=e[t+r]&&2**(o-r-1);return a},ne=e=>t=>{const o=Q()(t),a=new Array(8);for(var r=0;r<8;r++)a[7-r]=!!(o&1<<r);return Object.keys(e).reduce(((t,o)=>{const r=e[o];return r.length?t[o]=re(a,r.index,r.length):t[o]=a[r.index],t}),{})};var le={blocks:e=>{const t=0,o=[],a=e.data.length;for(var r=0,n=Q()(e);n!==t;n=Q()(e)){if(!n)break;if(e.pos+n>=a){const t=a-e.pos;o.push(X(t)(e)),r+=t;break}o.push(X(n)(e)),r+=n}const l=new Uint8Array(r);for(var i=0,s=0;s<o.length;s++)l.set(o[s],i),i+=o[s].length;return l}};const ie=G({gce:[{codes:X(2)},{byteSize:Q()},{extras:ne({future:{index:0,length:3},disposal:{index:3,length:3},userInput:{index:6},transparentColorGiven:{index:7}})},{delay:oe(!0)},{transparentColorIndex:Q()},{terminator:Q()}]},(e=>{var t=ee(2)(e);return 33===t[0]&&249===t[1]})),se=G({image:[{code:Q()},{descriptor:[{left:oe(!0)},{top:oe(!0)},{width:oe(!0)},{height:oe(!0)},{lct:ne({exists:{index:0},interlaced:{index:1},sort:{index:2},future:{index:3,length:2},size:{index:5,length:3}})}]},G({lct:ae(3,((e,t,o)=>Math.pow(2,o.descriptor.lct.size+1)))},((e,t,o)=>o.descriptor.lct.exists)),{data:[{minCodeSize:Q()},le]}]},(e=>44===J()(e))),ue=G({text:[{codes:X(2)},{blockSize:Q()},{preData:(e,t,o)=>X(o.text.blockSize)(e)},le]},(e=>{var t=ee(2)(e);return 33===t[0]&&1===t[1]})),de=G({application:[{codes:X(2)},{blockSize:Q()},{id:(e,t,o)=>te(o.blockSize)(e)},le]},(e=>{var t=ee(2)(e);return 33===t[0]&&255===t[1]})),ce=G({comment:[{codes:X(2)},le]},(e=>{var t=ee(2)(e);return 33===t[0]&&254===t[1]})),he=[{header:[{signature:te(3)},{version:te(3)}]},{lsd:[{width:oe(!0)},{height:oe(!0)},{gct:ne({exists:{index:0},resolution:{index:1,length:3},sort:{index:4},size:{index:5,length:3}})},{backgroundColorIndex:Q()},{pixelAspectRatio:Q()}]},G({gct:ae(3,((e,t)=>Math.pow(2,t.lsd.gct.size+1)))},((e,t)=>t.lsd.gct.exists)),{frames:K([ie,de,ce,se,ue],(e=>{var t=J()(e);return 33===t||44===t}))}];var pe=he;const me=(e,t)=>{const o=new Array(e.length),a=e.length/t,r=function(a,r){const n=e.slice(r*t,(r+1)*t);o.splice.apply(o,[a*t,t].concat(n))},n=[0,4,2,1],l=[8,8,4,2];for(var i=0,s=0;s<4;s++)for(var u=n[s];u<a;u+=l[s])r(u,i),i++;return o},fe=(e,t,o)=>{const a=4096,r=-1,n=o;var l,i,s,u,d,c,h,p,m,f;const g=new Array(o),w=new Array(a),v=new Array(a),y=new Array(a+1);for(f=e,i=1<<f,d=i+1,l=i+2,h=r,u=f+1,s=(1<<u)-1,p=0;p<i;p++)w[p]=0,v[p]=p;var b,C,_,k,x,D;for(b=C=_=k=x=D=0,m=0;m<n;){if(0===k){if(C<u){b+=t[D]<<C,C+=8,D++;continue}if(p=b&s,b>>=u,C-=u,p>l||p==d)break;if(p==i){u=f+1,s=(1<<u)-1,l=i+2,h=r;continue}if(h==r){y[k++]=v[p],h=p,_=p;continue}c=p,p==l&&(y[k++]=_,p=h);while(p>i)y[k++]=v[p],p=w[p];_=255&v[p],y[k++]=_,l<a&&(w[l]=h,v[l]=_,l++,0===(l&s)&&l<a&&(u++,s+=l)),h=c}k--,g[x++]=y[k],m++}for(m=x;m<n;m++)g[m]=0;return g},ge=e=>{const t=new Uint8Array(e);return Z(Y(t),pe)},we=e=>{const t=e.pixels.length,o=new Uint8ClampedArray(4*t);for(var a=0;a<t;a++){const t=4*a,r=e.pixels[a],n=e.colorTable[r];o[t]=n[0],o[t+1]=n[1],o[t+2]=n[2],o[t+3]=r!==e.transparentIndex?255:0}return o},ve=(e,t,o)=>{if(!e.image)return void console.warn("gif frame does not have associated image.");const{image:a}=e,r=a.descriptor.width*a.descriptor.height;var n=fe(a.data.minCodeSize,a.data.blocks,r);a.descriptor.lct.interlaced&&(n=me(n,a.descriptor.width));const l={pixels:n,dims:{top:e.image.descriptor.top,left:e.image.descriptor.left,width:e.image.descriptor.width,height:e.image.descriptor.height}};return a.descriptor.lct&&a.descriptor.lct.exists?l.colorTable=a.lct:l.colorTable=t,e.gce&&(l.delay=10*(e.gce.delay||10),l.disposalType=e.gce.extras.disposal,e.gce.extras.transparentColorGiven&&(l.transparentIndex=e.gce.transparentColorIndex)),o&&(l.patch=we(l)),l},ye=(e,t)=>e.frames.filter((e=>e.image)).map((o=>ve(o,e.gct,t)));function be(e,t,o){const a=_e(t),r=e-1;let n=0;switch(o){case De.L:n=Ve[r][0];break;case De.M:n=Ve[r][1];break;case De.Q:n=Ve[r][2];break;case De.H:n=Ve[r][3];break}return a<=n}function Ce(e,t){for(var o=1,a=_e(e),r=0,n=Ve.length;r<n;r++){var l=0;switch(t){case De.L:l=Ve[r][0];break;case De.M:l=Ve[r][1];break;case De.Q:l=Ve[r][2];break;case De.H:l=Ve[r][3];break}if(a<=l)break;o++}if(o>Ve.length)throw new Error("Too long data");return o}function _e(e){var t=encodeURI(e).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return t.length+(t.length!=Number(e)?3:0)}class ke{constructor(e){this.mode=Se.MODE_8BIT_BYTE,this.parsedData=[],this.data=e;const t=[];for(let o=0,a=this.data.length;o<a;o++){const e=[],a=this.data.charCodeAt(o);a>65536?(e[0]=240|(1835008&a)>>>18,e[1]=128|(258048&a)>>>12,e[2]=128|(4032&a)>>>6,e[3]=128|63&a):a>2048?(e[0]=224|(61440&a)>>>12,e[1]=128|(4032&a)>>>6,e[2]=128|63&a):a>128?(e[0]=192|(1984&a)>>>6,e[1]=128|63&a):e[0]=a,t.push(e)}this.parsedData=Array.prototype.concat.apply([],t),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}getLength(){return this.parsedData.length}write(e){for(let t=0,o=this.parsedData.length;t<o;t++)e.put(this.parsedData[t],8)}}class xe{constructor(e=-1,t=De.L){this.moduleCount=0,this.dataList=[],this.typeNumber=e,this.errorCorrectLevel=t,this.moduleCount=0,this.dataList=[]}addData(e){if(this.typeNumber<=0)this.typeNumber=Ce(e,this.errorCorrectLevel);else{if(this.typeNumber>40)throw new Error(`Invalid QR version: ${this.typeNumber}`);if(!be(this.typeNumber,e,this.errorCorrectLevel))throw new Error(`Data is too long for QR version: ${this.typeNumber}`)}const t=new ke(e);this.dataList.push(t),this.dataCache=void 0}isDark(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(`${e},${t}`);return this.modules[e][t]}getModuleCount(){return this.moduleCount}make(){this.makeImpl(!1,this.getBestMaskPattern())}makeImpl(e,t){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(let o=0;o<this.moduleCount;o++){this.modules[o]=new Array(this.moduleCount);for(let e=0;e<this.moduleCount;e++)this.modules[o][e]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=xe.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)}setupPositionProbePattern(e,t){for(let o=-1;o<=7;o++)if(!(e+o<=-1||this.moduleCount<=e+o))for(let a=-1;a<=7;a++)t+a<=-1||this.moduleCount<=t+a||(this.modules[e+o][t+a]=0<=o&&o<=6&&(0==a||6==a)||0<=a&&a<=6&&(0==o||6==o)||2<=o&&o<=4&&2<=a&&a<=4)}getBestMaskPattern(){if(Number.isInteger(this.maskPattern)&&Object.values(Ue).includes(this.maskPattern))return this.maskPattern;let e=0,t=0;for(let o=0;o<8;o++){this.makeImpl(!0,o);const a=Ae.getLostPoint(this);(0==o||e>a)&&(e=a,t=o)}return t}setupTimingPattern(){for(let e=8;e<this.moduleCount-8;e++)null==this.modules[e][6]&&(this.modules[e][6]=e%2==0);for(let e=8;e<this.moduleCount-8;e++)null==this.modules[6][e]&&(this.modules[6][e]=e%2==0)}setupPositionAdjustPattern(){const e=Ae.getPatternPosition(this.typeNumber);for(let t=0;t<e.length;t++)for(let o=0;o<e.length;o++){const a=e[t],r=e[o];if(null==this.modules[a][r])for(let e=-2;e<=2;e++)for(let t=-2;t<=2;t++)this.modules[a+e][r+t]=-2==e||2==e||-2==t||2==t||0==e&&0==t}}setupTypeNumber(e){const t=Ae.getBCHTypeNumber(this.typeNumber);for(var o=0;o<18;o++){var a=!e&&1==(t>>o&1);this.modules[Math.floor(o/3)][o%3+this.moduleCount-8-3]=a}for(o=0;o<18;o++){a=!e&&1==(t>>o&1);this.modules[o%3+this.moduleCount-8-3][Math.floor(o/3)]=a}}setupTypeInfo(e,t){const o=this.errorCorrectLevel<<3|t,a=Ae.getBCHTypeInfo(o);for(var r=0;r<15;r++){var n=!e&&1==(a>>r&1);r<6?this.modules[r][8]=n:r<8?this.modules[r+1][8]=n:this.modules[this.moduleCount-15+r][8]=n}for(r=0;r<15;r++){n=!e&&1==(a>>r&1);r<8?this.modules[8][this.moduleCount-r-1]=n:r<9?this.modules[8][15-r-1+1]=n:this.modules[8][15-r-1]=n}this.modules[this.moduleCount-8][8]=!e}mapData(e,t){let o=-1,a=this.moduleCount-1,r=7,n=0;for(let l=this.moduleCount-1;l>0;l-=2){6==l&&l--;while(1){for(let o=0;o<2;o++)if(null==this.modules[a][l-o]){let i=!1;n<e.length&&(i=1==(e[n]>>>r&1));const s=Ae.getMask(t,a,l-o);s&&(i=!i),this.modules[a][l-o]=i,r--,-1==r&&(n++,r=7)}if(a+=o,a<0||this.moduleCount<=a){a-=o,o=-o;break}}}}static createData(e,t,o){const a=Be.getRSBlocks(e,t),r=new Ee;for(var n=0;n<o.length;n++){const t=o[n];r.put(t.mode,4),r.put(t.getLength(),Ae.getLengthInBits(t.mode,e)),t.write(r)}let l=0;for(n=0;n<a.length;n++)l+=a[n].dataCount;if(r.getLengthInBits()>8*l)throw new Error(`code length overflow. (${r.getLengthInBits()}>${8*l})`);r.getLengthInBits()+4<=8*l&&r.put(0,4);while(r.getLengthInBits()%8!=0)r.putBit(!1);while(1){if(r.getLengthInBits()>=8*l)break;if(r.put(xe.PAD0,8),r.getLengthInBits()>=8*l)break;r.put(xe.PAD1,8)}return xe.createBytes(r,a)}static createBytes(e,t){let o=0,a=0,r=0;const n=new Array(t.length),l=new Array(t.length);for(var i=0;i<t.length;i++){const u=t[i].dataCount,d=t[i].totalCount-u;a=Math.max(a,u),r=Math.max(r,d),n[i]=new Array(u);for(var s=0;s<n[i].length;s++)n[i][s]=255&e.buffer[s+o];o+=u;const c=Ae.getErrorCorrectPolynomial(d),h=new Pe(n[i],c.getLength()-1),p=h.mod(c);l[i]=new Array(c.getLength()-1);for(s=0;s<l[i].length;s++){const e=s+p.getLength()-l[i].length;l[i][s]=e>=0?p.get(e):0}}let u=0;for(s=0;s<t.length;s++)u+=t[s].totalCount;const d=new Array(u);let c=0;for(s=0;s<a;s++)for(i=0;i<t.length;i++)s<n[i].length&&(d[c++]=n[i][s]);for(s=0;s<r;s++)for(i=0;i<t.length;i++)s<l[i].length&&(d[c++]=l[i][s]);return d}}xe.PAD0=236,xe.PAD1=17;const De={L:1,M:0,Q:3,H:2},Se={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},Ue={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};class Ae{static getBCHTypeInfo(e){let t=e<<10;while(Ae.getBCHDigit(t)-Ae.getBCHDigit(Ae.G15)>=0)t^=Ae.G15<<Ae.getBCHDigit(t)-Ae.getBCHDigit(Ae.G15);return(e<<10|t)^Ae.G15_MASK}static getBCHTypeNumber(e){let t=e<<12;while(Ae.getBCHDigit(t)-Ae.getBCHDigit(Ae.G18)>=0)t^=Ae.G18<<Ae.getBCHDigit(t)-Ae.getBCHDigit(Ae.G18);return e<<12|t}static getBCHDigit(e){let t=0;while(0!=e)t++,e>>>=1;return t}static getPatternPosition(e){return Ae.PATTERN_POSITION_TABLE[e-1]}static getMask(e,t,o){switch(e){case Ue.PATTERN000:return(t+o)%2==0;case Ue.PATTERN001:return t%2==0;case Ue.PATTERN010:return o%3==0;case Ue.PATTERN011:return(t+o)%3==0;case Ue.PATTERN100:return(Math.floor(t/2)+Math.floor(o/3))%2==0;case Ue.PATTERN101:return t*o%2+t*o%3==0;case Ue.PATTERN110:return(t*o%2+t*o%3)%2==0;case Ue.PATTERN111:return(t*o%3+(t+o)%2)%2==0;default:throw new Error(`bad maskPattern:${e}`)}}static getErrorCorrectPolynomial(e){let t=new Pe([1],0);for(let o=0;o<e;o++)t=t.multiply(new Pe([1,Te.gexp(o)],0));return t}static getLengthInBits(e,t){if(1<=t&&t<10)switch(e){case Se.MODE_NUMBER:return 10;case Se.MODE_ALPHA_NUM:return 9;case Se.MODE_8BIT_BYTE:return 8;case Se.MODE_KANJI:return 8;default:throw new Error(`mode:${e}`)}else if(t<27)switch(e){case Se.MODE_NUMBER:return 12;case Se.MODE_ALPHA_NUM:return 11;case Se.MODE_8BIT_BYTE:return 16;case Se.MODE_KANJI:return 10;default:throw new Error(`mode:${e}`)}else{if(!(t<41))throw new Error(`type:${t}`);switch(e){case Se.MODE_NUMBER:return 14;case Se.MODE_ALPHA_NUM:return 13;case Se.MODE_8BIT_BYTE:return 16;case Se.MODE_KANJI:return 12;default:throw new Error(`mode:${e}`)}}}static getLostPoint(e){const t=e.getModuleCount();let o=0;for(var a=0;a<t;a++)for(var r=0;r<t;r++){let n=0;const l=e.isDark(a,r);for(let o=-1;o<=1;o++)if(!(a+o<0||t<=a+o))for(let i=-1;i<=1;i++)r+i<0||t<=r+i||0==o&&0==i||l==e.isDark(a+o,r+i)&&n++;n>5&&(o+=3+n-5)}for(a=0;a<t-1;a++)for(r=0;r<t-1;r++){let t=0;e.isDark(a,r)&&t++,e.isDark(a+1,r)&&t++,e.isDark(a,r+1)&&t++,e.isDark(a+1,r+1)&&t++,0!=t&&4!=t||(o+=3)}for(a=0;a<t;a++)for(r=0;r<t-6;r++)e.isDark(a,r)&&!e.isDark(a,r+1)&&e.isDark(a,r+2)&&e.isDark(a,r+3)&&e.isDark(a,r+4)&&!e.isDark(a,r+5)&&e.isDark(a,r+6)&&(o+=40);for(r=0;r<t;r++)for(a=0;a<t-6;a++)e.isDark(a,r)&&!e.isDark(a+1,r)&&e.isDark(a+2,r)&&e.isDark(a+3,r)&&e.isDark(a+4,r)&&!e.isDark(a+5,r)&&e.isDark(a+6,r)&&(o+=40);let n=0;for(r=0;r<t;r++)for(a=0;a<t;a++)e.isDark(a,r)&&n++;const l=Math.abs(100*n/t/t-50)/5;return o+=10*l,o}}Ae.PATTERN_POSITION_TABLE=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],Ae.G15=1335,Ae.G18=7973,Ae.G15_MASK=21522;class Te{static glog(e){if(e<1)throw new Error(`glog(${e})`);return Te.LOG_TABLE[e]}static gexp(e){while(e<0)e+=255;while(e>=256)e-=255;return Te.EXP_TABLE[e]}}Te.EXP_TABLE=new Array(256),Te.LOG_TABLE=new Array(256),Te._constructor=function(){for(var e=0;e<8;e++)Te.EXP_TABLE[e]=1<<e;for(e=8;e<256;e++)Te.EXP_TABLE[e]=Te.EXP_TABLE[e-4]^Te.EXP_TABLE[e-5]^Te.EXP_TABLE[e-6]^Te.EXP_TABLE[e-8];for(e=0;e<255;e++)Te.LOG_TABLE[Te.EXP_TABLE[e]]=e}();class Pe{constructor(e,t){if(void 0==e.length)throw new Error(`${e.length}/${t}`);let o=0;while(o<e.length&&0==e[o])o++;this.num=new Array(e.length-o+t);for(let a=0;a<e.length-o;a++)this.num[a]=e[a+o]}get(e){return this.num[e]}getLength(){return this.num.length}multiply(e){const t=new Array(this.getLength()+e.getLength()-1);for(let o=0;o<this.getLength();o++)for(let a=0;a<e.getLength();a++)t[o+a]^=Te.gexp(Te.glog(this.get(o))+Te.glog(e.get(a)));return new Pe(t,0)}mod(e){if(this.getLength()-e.getLength()<0)return this;const t=Te.glog(this.get(0))-Te.glog(e.get(0)),o=new Array(this.getLength());for(var a=0;a<this.getLength();a++)o[a]=this.get(a);for(a=0;a<e.getLength();a++)o[a]^=Te.gexp(Te.glog(e.get(a))+t);return new Pe(o,0).mod(e)}}class Be{constructor(e,t){this.totalCount=e,this.dataCount=t}static getRSBlocks(e,t){const o=Be.getRsBlockTable(e,t);if(void 0==o)throw new Error(`bad rs block @ typeNumber:${e}/errorCorrectLevel:${t}`);const a=o.length/3,r=[];for(let n=0;n<a;n++){const e=o[3*n+0],t=o[3*n+1],a=o[3*n+2];for(let o=0;o<e;o++)r.push(new Be(t,a))}return r}static getRsBlockTable(e,t){switch(t){case De.L:return Be.RS_BLOCK_TABLE[4*(e-1)+0];case De.M:return Be.RS_BLOCK_TABLE[4*(e-1)+1];case De.Q:return Be.RS_BLOCK_TABLE[4*(e-1)+2];case De.H:return Be.RS_BLOCK_TABLE[4*(e-1)+3];default:return}}}Be.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];class Ee{constructor(){this.buffer=[],this.length=0}get(e){const t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)}put(e,t){for(let o=0;o<t;o++)this.putBit(1==(e>>>t-o-1&1))}getLengthInBits(){return this.length}putBit(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}}const Ve=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];var Ie=100,Re=256,Le=Re-1,We=4,je=16,Me=1<<je,Ne=10,Oe=10,qe=Me>>Oe,ze=Me<<Ne-Oe,He=Re>>3,Fe=6,$e=1<<Fe,Ze=He*$e,Ge=30,Ke=10,Ye=1<<Ke,Qe=8,Je=1<<Qe,Xe=Ke+Qe,et=1<<Xe,tt=499,ot=491,at=487,rt=503,nt=3*rt;function lt(e,t){var o,a,r,n,l;function i(){var e,t;for(o=[],a=new Int32Array(256),r=new Int32Array(Re),n=new Int32Array(Re),l=new Int32Array(Re>>3),e=0;e<Re;e++)t=(e<<We+8)/Re,o[e]=new Float64Array([t,t,t,0]),n[e]=Me/Re,r[e]=0}function s(){for(var e=0;e<Re;e++)o[e][0]>>=We,o[e][1]>>=We,o[e][2]>>=We,o[e][3]=e}function u(e,t,a,r,n){o[t][0]-=e*(o[t][0]-a)/Ye,o[t][1]-=e*(o[t][1]-r)/Ye,o[t][2]-=e*(o[t][2]-n)/Ye}function d(e,t,a,r,n){var i,s,u=Math.abs(t-e),d=Math.min(t+e,Re),c=t+1,h=t-1,p=1;while(c<d||h>u)s=l[p++],c<d&&(i=o[c++],i[0]-=s*(i[0]-a)/et,i[1]-=s*(i[1]-r)/et,i[2]-=s*(i[2]-n)/et),h>u&&(i=o[h--],i[0]-=s*(i[0]-a)/et,i[1]-=s*(i[1]-r)/et,i[2]-=s*(i[2]-n)/et)}function c(e,t,a){var l,i,s,u,d,c=~(1<<31),h=c,p=-1,m=p;for(l=0;l<Re;l++)i=o[l],s=Math.abs(i[0]-e)+Math.abs(i[1]-t)+Math.abs(i[2]-a),s<c&&(c=s,p=l),u=s-(r[l]>>je-We),u<h&&(h=u,m=l),d=n[l]>>Oe,n[l]-=d,r[l]+=d<<Ne;return n[p]+=qe,r[p]-=ze,m}function h(){var e,t,r,n,l,i,s=0,u=0;for(e=0;e<Re;e++){for(r=o[e],l=e,i=r[1],t=e+1;t<Re;t++)n=o[t],n[1]<i&&(l=t,i=n[1]);if(n=o[l],e!=l&&(t=n[0],n[0]=r[0],r[0]=t,t=n[1],n[1]=r[1],r[1]=t,t=n[2],n[2]=r[2],r[2]=t,t=n[3],n[3]=r[3],r[3]=t),i!=s){for(a[s]=u+e>>1,t=s+1;t<i;t++)a[t]=e;s=i,u=e}}for(a[s]=u+Le>>1,t=s+1;t<256;t++)a[t]=Le}function p(e,t,r){var n,l,i,s=1e3,u=-1,d=a[t],c=d-1;while(d<Re||c>=0)d<Re&&(l=o[d],i=l[1]-t,i>=s?d=Re:(d++,i<0&&(i=-i),n=l[0]-e,n<0&&(n=-n),i+=n,i<s&&(n=l[2]-r,n<0&&(n=-n),i+=n,i<s&&(s=i,u=l[3])))),c>=0&&(l=o[c],i=t-l[1],i>=s?c=-1:(c--,i<0&&(i=-i),n=l[0]-e,n<0&&(n=-n),i+=n,i<s&&(n=l[2]-r,n<0&&(n=-n),i+=n,i<s&&(s=i,u=l[3]))));return u}function m(){var o,a,r,n,i,s,h=e.length,p=30+(t-1)/3,m=h/(3*t),f=~~(m/Ie),g=Ye,w=Ze,v=w>>Fe;for(v<=1&&(v=0),o=0;o<v;o++)l[o]=g*((v*v-o*o)*Je/(v*v));h<nt?(t=1,a=3):a=h%tt!==0?3*tt:h%ot!==0?3*ot:h%at!==0?3*at:3*rt;var y=0;o=0;while(o<m)if(r=(255&e[y])<<We,n=(255&e[y+1])<<We,i=(255&e[y+2])<<We,s=c(r,n,i),u(g,s,r,n,i),0!==v&&d(v,s,r,n,i),y+=a,y>=h&&(y-=h),o++,0===f&&(f=1),o%f===0)for(g-=g/p,w-=w/Ge,v=w>>Fe,v<=1&&(v=0),s=0;s<v;s++)l[s]=g*((v*v-s*s)*Je/(v*v))}function f(){i(),m(),s(),h()}function g(){for(var e=[],t=[],a=0;a<Re;a++)t[o[a][3]]=a;for(var r=0,n=0;n<Re;n++){var l=t[n];e[r++]=o[l][0],e[r++]=o[l][1],e[r++]=o[l][2]}return e}this.buildColormap=f,this.getColormap=g,this.lookupRGB=p}var it=lt,st=-1,ut=12,dt=5003,ct=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535];function ht(e,t,o,a){var r,n,l,i,s,u,d,c,h,p=Math.max(2,a),m=new Uint8Array(256),f=new Int32Array(dt),g=new Int32Array(dt),w=0,v=0,y=!1;function b(e,t){m[n++]=e,n>=254&&D(t)}function C(e){_(dt),v=s+2,y=!0,A(s,e)}function _(e){for(var t=0;t<e;++t)f[t]=-1}function k(e,t){var o,a,r,d,c,p,m;for(i=e,y=!1,h=i,l=S(h),s=1<<e-1,u=s+1,v=s+2,n=0,d=U(),m=0,o=dt;o<65536;o*=2)++m;m=8-m,p=dt,_(p),A(s,t);e:while((a=U())!=st)if(o=(a<<ut)+d,r=a<<m^d,f[r]!==o){if(f[r]>=0){c=p-r,0===r&&(c=1);do{if((r-=c)<0&&(r+=p),f[r]===o){d=g[r];continue e}}while(f[r]>=0)}A(d,t),d=a,v<1<<ut?(g[r]=v++,f[r]=o):C(t)}else d=g[r];A(d,t),A(u,t)}function x(o){o.writeByte(p),d=e*t,c=0,k(p+1,o),o.writeByte(0)}function D(e){n>0&&(e.writeByte(n),e.writeBytes(m,0,n),n=0)}function S(e){return(1<<e)-1}function U(){if(0===d)return st;--d;var e=o[c++];return 255&e}function A(e,t){r&=ct[w],w>0?r|=e<<w:r=e,w+=h;while(w>=8)b(255&r,t),r>>=8,w-=8;if((v>l||y)&&(y?(l=S(h=i),y=!1):(++h,l=h==ut?1<<ut:S(h))),e==u){while(w>0)b(255&r,t),r>>=8,w-=8;D(t)}}this.encode=x}var pt=ht;function mt(){this.page=-1,this.pages=[],this.newPage()}mt.pageSize=4096,mt.charMap={};for(var ft=0;ft<256;ft++)mt.charMap[ft]=String.fromCharCode(ft);function gt(e,t){this.width=~~e,this.height=~~t,this.transparent=null,this.transIndex=0,this.repeat=-1,this.delay=0,this.image=null,this.pixels=null,this.indexedPixels=null,this.colorDepth=null,this.colorTab=null,this.neuQuant=null,this.usedEntry=new Array,this.palSize=7,this.dispose=-1,this.firstFrame=!0,this.sample=10,this.dither=!1,this.globalPalette=!1,this.out=new mt}mt.prototype.newPage=function(){this.pages[++this.page]=new Uint8Array(mt.pageSize),this.cursor=0},mt.prototype.getData=function(){for(var e="",t=0;t<this.pages.length;t++)for(var o=0;o<mt.pageSize;o++)e+=mt.charMap[this.pages[t][o]];return e},mt.prototype.toFlattenUint8Array=function(){const e=[];for(var t=0;t<this.pages.length;t++)if(t===this.pages.length-1){const o=Uint8Array.from(this.pages[t].slice(0,this.cursor));e.push(o)}else e.push(this.pages[t]);const o=new Uint8Array(e.reduce(((e,t)=>e+t.length),0));return e.reduce(((e,t)=>(o.set(t,e),e+t.length)),0),o},mt.prototype.writeByte=function(e){this.cursor>=mt.pageSize&&this.newPage(),this.pages[this.page][this.cursor++]=e},mt.prototype.writeUTFBytes=function(e){for(var t=e.length,o=0;o<t;o++)this.writeByte(e.charCodeAt(o))},mt.prototype.writeBytes=function(e,t,o){for(var a=o||e.length,r=t||0;r<a;r++)this.writeByte(e[r])},gt.prototype.setDelay=function(e){this.delay=Math.round(e/10)},gt.prototype.setFrameRate=function(e){this.delay=Math.round(100/e)},gt.prototype.setDispose=function(e){e>=0&&(this.dispose=e)},gt.prototype.setRepeat=function(e){this.repeat=e},gt.prototype.setTransparent=function(e){this.transparent=e},gt.prototype.addFrame=function(e){this.image=e,this.colorTab=this.globalPalette&&this.globalPalette.slice?this.globalPalette:null,this.getImagePixels(),this.analyzePixels(),!0===this.globalPalette&&(this.globalPalette=this.colorTab),this.firstFrame&&(this.writeHeader(),this.writeLSD(),this.writePalette(),this.repeat>=0&&this.writeNetscapeExt()),this.writeGraphicCtrlExt(),this.writeImageDesc(),this.firstFrame||this.globalPalette||this.writePalette(),this.writePixels(),this.firstFrame=!1},gt.prototype.finish=function(){this.out.writeByte(59)},gt.prototype.setQuality=function(e){e<1&&(e=1),this.sample=e},gt.prototype.setDither=function(e){!0===e&&(e="FloydSteinberg"),this.dither=e},gt.prototype.setGlobalPalette=function(e){this.globalPalette=e},gt.prototype.getGlobalPalette=function(){return this.globalPalette&&this.globalPalette.slice&&this.globalPalette.slice(0)||this.globalPalette},gt.prototype.writeHeader=function(){this.out.writeUTFBytes("GIF89a")},gt.prototype.analyzePixels=function(){this.colorTab||(this.neuQuant=new it(this.pixels,this.sample),this.neuQuant.buildColormap(),this.colorTab=this.neuQuant.getColormap()),this.dither?this.ditherPixels(this.dither.replace("-serpentine",""),null!==this.dither.match(/-serpentine/)):this.indexPixels(),this.pixels=null,this.colorDepth=8,this.palSize=7,null!==this.transparent&&(this.transIndex=this.findClosest(this.transparent,!0))},gt.prototype.indexPixels=function(e){var t=this.pixels.length/3;this.indexedPixels=new Uint8Array(t);for(var o=0,a=0;a<t;a++){var r=this.findClosestRGB(255&this.pixels[o++],255&this.pixels[o++],255&this.pixels[o++]);this.usedEntry[r]=!0,this.indexedPixels[a]=r}},gt.prototype.ditherPixels=function(e,t){var o={FalseFloydSteinberg:[[3/8,1,0],[3/8,0,1],[2/8,1,1]],FloydSteinberg:[[7/16,1,0],[3/16,-1,1],[5/16,0,1],[1/16,1,1]],Stucki:[[8/42,1,0],[4/42,2,0],[2/42,-2,1],[4/42,-1,1],[8/42,0,1],[4/42,1,1],[2/42,2,1],[1/42,-2,2],[2/42,-1,2],[4/42,0,2],[2/42,1,2],[1/42,2,2]],Atkinson:[[1/8,1,0],[1/8,2,0],[1/8,-1,1],[1/8,0,1],[1/8,1,1],[1/8,0,2]]};if(!e||!o[e])throw"Unknown dithering kernel: "+e;var a=o[e],r=0,n=this.height,l=this.width,i=this.pixels,s=t?-1:1;this.indexedPixels=new Uint8Array(this.pixels.length/3);for(var u=0;u<n;u++){t&&(s*=-1);for(var d=1==s?0:l-1,c=1==s?l:0;d!==c;d+=s){r=u*l+d;var h=3*r,p=i[h],m=i[h+1],f=i[h+2];h=this.findClosestRGB(p,m,f),this.usedEntry[h]=!0,this.indexedPixels[r]=h,h*=3;for(var g=this.colorTab[h],w=this.colorTab[h+1],v=this.colorTab[h+2],y=p-g,b=m-w,C=f-v,_=1==s?0:a.length-1,k=1==s?a.length:0;_!==k;_+=s){var x=a[_][1],D=a[_][2];if(x+d>=0&&x+d<l&&D+u>=0&&D+u<n){var S=a[_][0];h=r+x+D*l,h*=3,i[h]=Math.max(0,Math.min(255,i[h]+y*S)),i[h+1]=Math.max(0,Math.min(255,i[h+1]+b*S)),i[h+2]=Math.max(0,Math.min(255,i[h+2]+C*S))}}}}},gt.prototype.findClosest=function(e,t){return this.findClosestRGB((16711680&e)>>16,(65280&e)>>8,255&e,t)},gt.prototype.findClosestRGB=function(e,t,o,a){if(null===this.colorTab)return-1;if(this.neuQuant&&!a)return this.neuQuant.lookupRGB(e,t,o);for(var r=0,n=16777216,l=this.colorTab.length,i=0,s=0;i<l;s++){var u=e-(255&this.colorTab[i++]),d=t-(255&this.colorTab[i++]),c=o-(255&this.colorTab[i++]),h=u*u+d*d+c*c;(!a||this.usedEntry[s])&&h<n&&(n=h,r=s)}return r},gt.prototype.getImagePixels=function(){var e=this.width,t=this.height;this.pixels=new Uint8Array(e*t*3);for(var o=this.image,a=0,r=0,n=0;n<t;n++)for(var l=0;l<e;l++)this.pixels[r++]=o[a++],this.pixels[r++]=o[a++],this.pixels[r++]=o[a++],a++},gt.prototype.writeGraphicCtrlExt=function(){var e,t;this.out.writeByte(33),this.out.writeByte(249),this.out.writeByte(4),null===this.transparent?(e=0,t=0):(e=1,t=2),this.dispose>=0&&(t=7&this.dispose),t<<=2,this.out.writeByte(0|t|e),this.writeShort(this.delay),this.out.writeByte(this.transIndex),this.out.writeByte(0)},gt.prototype.writeImageDesc=function(){this.out.writeByte(44),this.writeShort(0),this.writeShort(0),this.writeShort(this.width),this.writeShort(this.height),this.firstFrame||this.globalPalette?this.out.writeByte(0):this.out.writeByte(128|this.palSize)},gt.prototype.writeLSD=function(){this.writeShort(this.width),this.writeShort(this.height),this.out.writeByte(240|this.palSize),this.out.writeByte(0),this.out.writeByte(0)},gt.prototype.writeNetscapeExt=function(){this.out.writeByte(33),this.out.writeByte(255),this.out.writeByte(11),this.out.writeUTFBytes("NETSCAPE2.0"),this.out.writeByte(3),this.out.writeByte(1),this.writeShort(this.repeat),this.out.writeByte(0)},gt.prototype.writePalette=function(){this.out.writeBytes(this.colorTab);for(var e=768-this.colorTab.length,t=0;t<e;t++)this.out.writeByte(0)},gt.prototype.writeShort=function(e){this.out.writeByte(255&e),this.out.writeByte(e>>8&255)},gt.prototype.writePixels=function(){var e=new pt(this.width,this.height,this.indexedPixels,this.colorDepth);e.encode(this.out)},gt.prototype.stream=function(){return this.out};var wt=gt,vt=function(e,t,o,a){function r(e){return e instanceof o?e:new o((function(t){t(e)}))}return new(o||(o=Promise))((function(o,n){function l(e){try{s(a.next(e))}catch(t){n(t)}}function i(e){try{s(a["throw"](e))}catch(t){n(t)}}function s(e){e.done?o(e.value):r(e.value).then(l,i)}s((a=a.apply(e,t||[])).next())}))};const{Canvas:yt}=$,bt=.4;function Ct(e){if(e)return new Promise((function(o,a){if("data"==e.slice(0,4)){let r=new Image;return r.onload=function(){o(r),t(r)},r.onerror=function(){a("Image load error"),t(r)},void(r.src=e)}let r=new Image;r.setAttribute("crossOrigin","Anonymous"),r.onload=function(){o(r)},r.onerror=function(){a("Image load error")},r.src=e}));function t(e){e.onload=null,e.onerror=null}}class _t{constructor(e){const t=Object.assign({},e);if(Object.keys(_t.defaultOptions).forEach((e=>{e in t||Object.defineProperty(t,e,{value:_t.defaultOptions[e],enumerable:!0,writable:!0})})),t.components?"object"===typeof t.components&&Object.keys(_t.defaultComponentOptions).forEach((e=>{e in t.components?Object.defineProperty(t.components,e,{value:Object.assign(Object.assign({},_t.defaultComponentOptions[e]),t.components[e]),enumerable:!0,writable:!0}):Object.defineProperty(t.components,e,{value:_t.defaultComponentOptions[e],enumerable:!0,writable:!0})})):t.components=_t.defaultComponentOptions,null!==t.dotScale&&void 0!==t.dotScale){if(t.dotScale<=0||t.dotScale>1)throw new Error("dotScale should be in range (0, 1].");t.components.data.scale=t.dotScale,t.components.timing.scale=t.dotScale,t.components.alignment.scale=t.dotScale}this.options=t,this.canvas=new yt(e.size,e.size),this.canvasContext=this.canvas.getContext("2d"),this.qrCode=new xe(-1,this.options.correctLevel),Number.isInteger(this.options.maskPattern)&&(this.qrCode.maskPattern=this.options.maskPattern),Number.isInteger(this.options.version)&&(this.qrCode.typeNumber=this.options.version),this.qrCode.addData(this.options.text),this.qrCode.make()}draw(){return new Promise((e=>this._draw().then(e)))}_clear(){this.canvasContext.clearRect(0,0,this.canvas.width,this.canvas.height)}static _prepareRoundedCornerClip(e,t,o,a,r,n){e.beginPath(),e.moveTo(t,o),e.arcTo(t+a,o,t+a,o+r,n),e.arcTo(t+a,o+r,t,o+r,n),e.arcTo(t,o+r,t,o,n),e.arcTo(t,o,t+a,o,n),e.closePath()}static _getAverageRGB(e){const t=5,o={r:0,g:0,b:0};let a,r,n=-4;const l={r:0,g:0,b:0};let i=0;r=e.naturalHeight||e.height,a=e.naturalWidth||e.width;const s=new yt(a,r),u=s.getContext("2d");if(!u)return o;let d;u.drawImage(e,0,0);try{d=u.getImageData(0,0,a,r)}catch(c){return o}while((n+=4*t)<d.data.length)d.data[n]>200||d.data[n+1]>200||d.data[n+2]>200||(++i,l.r+=d.data[n],l.g+=d.data[n+1],l.b+=d.data[n+2]);return l.r=~~(l.r/i),l.g=~~(l.g/i),l.b=~~(l.b/i),l}static _drawDot(e,t,o,a,r=0,n=1){e.fillRect((t+r)*a,(o+r)*a,n*a,n*a)}static _drawAlignProtector(e,t,o,a){e.clearRect((t-2)*a,(o-2)*a,5*a,5*a),e.fillRect((t-2)*a,(o-2)*a,5*a,5*a)}static _drawAlign(e,t,o,a,r=0,n=1,l,i){const s=e.fillStyle;e.fillStyle=l,new Array(4).fill(0).map(((l,i)=>{_t._drawDot(e,t-2+i,o-2,a,r,n),_t._drawDot(e,t+2,o-2+i,a,r,n),_t._drawDot(e,t+2-i,o+2,a,r,n),_t._drawDot(e,t-2,o+2-i,a,r,n)})),_t._drawDot(e,t,o,a,r,n),i||(e.fillStyle="rgba(255, 255, 255, 0.6)",new Array(2).fill(0).map(((l,i)=>{_t._drawDot(e,t-1+i,o-1,a,r,n),_t._drawDot(e,t+1,o-1+i,a,r,n),_t._drawDot(e,t+1-i,o+1,a,r,n),_t._drawDot(e,t-1,o+1-i,a,r,n)}))),e.fillStyle=s}_draw(){var e,t,o,a,r,n,l,i,s,u,d,c,h,p,m,f,g,w,v;return vt(this,void 0,void 0,(function*(){const y=null===(e=this.qrCode)||void 0===e?void 0:e.moduleCount,b=this.options.size;let C=this.options.margin;(C<0||2*C>=b)&&(C=0);const _=Math.ceil(C),k=b-2*C,x=this.options.whiteMargin,D=this.options.backgroundDimming,S=Math.ceil(k/y),U=S*y,A=U+2*_,T=new yt(A,A),P=T.getContext("2d");this._clear(),P.save(),P.translate(_,_);const B=new yt(A,A),E=B.getContext("2d");let V=null,I=[];if(this.options.gifBackground){const e=ge(this.options.gifBackground);if(V=e,I=ye(e,!0),this.options.autoColor){let e=0,t=0,o=0,a=0;for(let r=0;r<I[0].colorTable.length;r++){const n=I[0].colorTable[r];n[0]>200||n[1]>200||n[2]>200||(0===n[0]&&0===n[1]&&0===n[2]||(a++,e+=n[0],t+=n[1],o+=n[2]))}e=~~(e/a),t=~~(t/a),o=~~(o/a),this.options.colorDark=`rgb(${e},${t},${o})`}}else if(this.options.backgroundImage){const e=yield Ct(this.options.backgroundImage);if(this.options.autoColor){const t=_t._getAverageRGB(e);this.options.colorDark=`rgb(${t.r},${t.g},${t.b})`}E.drawImage(e,0,0,e.width,e.height,0,0,A,A),E.rect(0,0,A,A),E.fillStyle=D,E.fill()}else E.rect(0,0,A,A),E.fillStyle=this.options.colorLight,E.fill();const R=Ae.getPatternPosition(this.qrCode.typeNumber),L=(null===(o=null===(t=this.options.components)||void 0===t?void 0:t.data)||void 0===o?void 0:o.scale)||bt,W=.5*(1-L);for(let e=0;e<y;e++)for(let t=0;t<y;t++){const o=this.qrCode.isDark(e,t),a=t<8&&(e<8||e>=y-8)||t>=y-8&&e<8,r=6==e&&t>=8&&t<=y-8||6==t&&e>=8&&e<=y-8;let n=a||r;for(let s=1;s<R.length-1;s++)n=n||e>=R[s]-2&&e<=R[s]+2&&t>=R[s]-2&&t<=R[s]+2;const l=t*S+(n?0:W*S),i=e*S+(n?0:W*S);if(P.strokeStyle=o?this.options.colorDark:this.options.colorLight,P.lineWidth=.5,P.fillStyle=o?this.options.colorDark:this.options.colorLight,0===R.length)n||P.fillRect(l,i,(n?1:L)*S,(n?1:L)*S);else{const o=t<y-4&&t>=y-4-5&&e<y-4&&e>=y-4-5;n||o||P.fillRect(l,i,(n?1:L)*S,(n?1:L)*S)}}const j=R[R.length-1],M=this.options.colorLight;if(P.fillStyle=M,P.fillRect(0,0,8*S,8*S),P.fillRect(0,(y-8)*S,8*S,8*S),P.fillRect((y-8)*S,0,8*S,8*S),(null===(r=null===(a=this.options.components)||void 0===a?void 0:a.timing)||void 0===r?void 0:r.protectors)&&(P.fillRect(8*S,6*S,(y-8-8)*S,S),P.fillRect(6*S,8*S,S,(y-8-8)*S)),(null===(l=null===(n=this.options.components)||void 0===n?void 0:n.cornerAlignment)||void 0===l?void 0:l.protectors)&&_t._drawAlignProtector(P,j,j,S),null===(s=null===(i=this.options.components)||void 0===i?void 0:i.alignment)||void 0===s?void 0:s.protectors)for(let e=0;e<R.length;e++)for(let t=0;t<R.length;t++){const o=R[t],a=R[e];(6!==o||6!==a&&a!==j)&&((6!==a||6!==o&&o!==j)&&(o===j&&a===j||_t._drawAlignProtector(P,o,a,S)))}P.fillStyle=this.options.colorDark,P.fillRect(0,0,7*S,S),P.fillRect((y-7)*S,0,7*S,S),P.fillRect(0,6*S,7*S,S),P.fillRect((y-7)*S,6*S,7*S,S),P.fillRect(0,(y-7)*S,7*S,S),P.fillRect(0,(y-7+6)*S,7*S,S),P.fillRect(0,0,S,7*S),P.fillRect(6*S,0,S,7*S),P.fillRect((y-7)*S,0,S,7*S),P.fillRect((y-7+6)*S,0,S,7*S),P.fillRect(0,(y-7)*S,S,7*S),P.fillRect(6*S,(y-7)*S,S,7*S),P.fillRect(2*S,2*S,3*S,3*S),P.fillRect((y-7+2)*S,2*S,3*S,3*S),P.fillRect(2*S,(y-7+2)*S,3*S,3*S);const N=(null===(d=null===(u=this.options.components)||void 0===u?void 0:u.timing)||void 0===d?void 0:d.scale)||bt,O=.5*(1-N);for(let e=0;e<y-8;e+=2)_t._drawDot(P,8+e,6,S,O,N),_t._drawDot(P,6,8+e,S,O,N);const q=(null===(h=null===(c=this.options.components)||void 0===c?void 0:c.cornerAlignment)||void 0===h?void 0:h.scale)||bt,z=.5*(1-q);_t._drawAlign(P,j,j,S,z,q,this.options.colorDark,(null===(m=null===(p=this.options.components)||void 0===p?void 0:p.cornerAlignment)||void 0===m?void 0:m.protectors)||!1);const H=(null===(g=null===(f=this.options.components)||void 0===f?void 0:f.alignment)||void 0===g?void 0:g.scale)||bt,F=.5*(1-H);for(let e=0;e<R.length;e++)for(let t=0;t<R.length;t++){const o=R[t],a=R[e];(6!==o||6!==a&&a!==j)&&((6!==a||6!==o&&o!==j)&&(o===j&&a===j||_t._drawAlign(P,o,a,S,F,H,this.options.colorDark,(null===(v=null===(w=this.options.components)||void 0===w?void 0:w.alignment)||void 0===v?void 0:v.protectors)||!1)))}if(x&&(P.fillStyle=this.options.backgroundColor,P.fillRect(-_,-_,A,_),P.fillRect(-_,U,A,_),P.fillRect(U,-_,_,A),P.fillRect(-_,-_,_,A)),this.options.logoImage){const e=yield Ct(this.options.logoImage);let t=this.options.logoScale,o=this.options.logoMargin,a=this.options.logoCornerRadius;(t<=0||t>=1)&&(t=.2),o<0&&(o=0),a<0&&(a=0);const r=U*t,n=.5*(A-r),l=n;P.restore(),P.fillStyle=this.options.logoBackgroundColor,P.save(),_t._prepareRoundedCornerClip(P,n-o,l-o,r+2*o,r+2*o,a+o),P.clip();const i=P.globalCompositeOperation;P.globalCompositeOperation="destination-out",P.fill(),P.globalCompositeOperation=i,P.restore(),P.save(),_t._prepareRoundedCornerClip(P,n,l,r,r,a),P.clip(),P.drawImage(e,n,l,r,r),P.restore(),P.save(),P.translate(_,_)}if(V){let e,t,o,a,r,n;if(I.forEach((function(l){e||(e=new wt(b,b),e.setDelay(l.delay),e.setRepeat(0));const{width:i,height:s}=l.dims;t||(t=new yt(i,s),o=t.getContext("2d"),o.rect(0,0,t.width,t.height),o.fillStyle="#ffffff",o.fill()),a&&n&&i===a.width&&s===a.height||(a=new yt(i,s),r=a.getContext("2d"),n=r.createImageData(i,s)),n.data.set(l.patch),r.putImageData(n,0,0),o.drawImage(a.getContext("2d").canvas,l.dims.left,l.dims.top);const u=new yt(A,A),d=u.getContext("2d");d.drawImage(t.getContext("2d").canvas,0,0,A,A),d.rect(0,0,A,A),d.fillStyle=D,d.fill(),d.drawImage(T.getContext("2d").canvas,0,0,A,A);const c=new yt(b,b),h=c.getContext("2d");h.drawImage(u.getContext("2d").canvas,0,0,b,b),e.addFrame(h.getImageData(0,0,c.width,c.height).data)})),!e)throw new Error("No frames.");if(e.finish(),kt(this.canvas)){const t=e.stream().toFlattenUint8Array(),o=t.reduce(((e,t)=>e+String.fromCharCode(t)),"");return Promise.resolve(`data:image/gif;base64,${window.btoa(o)}`)}return Promise.resolve(Buffer.from(e.stream().toFlattenUint8Array()))}{E.drawImage(T.getContext("2d").canvas,0,0,A,A),P.drawImage(B.getContext("2d").canvas,-_,-_,A,A);const e=new yt(b,b),t=e.getContext("2d");t.drawImage(T.getContext("2d").canvas,0,0,b,b),this.canvas=e;const o=this.options.gifBackground?"gif":"png";return kt(this.canvas)?Promise.resolve(this.canvas.toDataURL(o)):Promise.resolve(this.canvas.toBuffer(o))}}))}}function kt(e){try{return e instanceof HTMLElement}catch(t){return"object"===typeof e&&1===e.nodeType&&"object"===typeof e.style&&"object"===typeof e.ownerDocument}}_t.CorrectLevel=De,_t.defaultComponentOptions={data:{scale:.4},timing:{scale:.5,protectors:!1},alignment:{scale:.5,protectors:!1},cornerAlignment:{scale:.5,protectors:!0}},_t.defaultOptions={text:"",size:400,margin:20,colorDark:"#000000",colorLight:"rgba(255, 255, 255, 0.6)",correctLevel:De.M,backgroundImage:void 0,backgroundDimming:"rgba(0,0,0,0)",logoImage:void 0,logoScale:.2,logoMargin:4,logoCornerRadius:8,whiteMargin:!0,components:_t.defaultComponentOptions,autoColor:!0,logoBackgroundColor:"#ffffff",backgroundColor:"#ffffff"};var xt={props:{text:{type:String,required:!0},qid:{type:String},correctLevel:{type:Number,default:1},size:{type:Number,default:200},margin:{type:Number,default:20},colorDark:{type:String,default:"#000000"},colorLight:{type:String,default:"#FFFFFF"},bgSrc:{type:String,default:void 0},background:{type:String,default:"rgba(0,0,0,0)"},backgroundDimming:{type:String,default:"rgba(0,0,0,0)"},logoSrc:{type:String,default:void 0},logoBackgroundColor:{type:String,default:"rgba(255,255,255,1)"},gifBgSrc:{type:String,default:void 0},logoScale:{type:Number,default:.2},logoMargin:{type:Number,default:0},logoCornerRadius:{type:Number,default:8},whiteMargin:{type:[Boolean,String],default:!0},dotScale:{type:Number,default:1},autoColor:{type:[Boolean,String],default:!0},binarize:{type:[Boolean,String],default:!1},binarizeThreshold:{type:Number,default:128},callback:{type:Function,default:function(){}},bindElement:{type:Boolean,default:!0},backgroundColor:{type:String,default:"#FFFFFF"},components:{default:function(){return{data:{scale:1},timing:{scale:1,protectors:!1},alignment:{scale:1,protectors:!1},cornerAlignment:{scale:1,protectors:!0}}}}},name:"vue-qr",data(){return{imgUrl:""}},watch:{$props:{deep:!0,handler(){this.main()}}},mounted(){this.main()},methods:{async main(){if(this.gifBgSrc){const e=await s(this.gifBgSrc),t=this.logoSrc;return void this.render(void 0,t,e)}const e=this.bgSrc,t=this.logoSrc;this.render(e,t)},async render(e,t,o){const a=this;new _t({gifBackground:o,text:a.text,size:a.size,margin:a.margin,colorDark:a.colorDark,colorLight:a.colorLight,backgroundColor:a.backgroundColor,backgroundImage:e,backgroundDimming:a.backgroundDimming,logoImage:t,logoScale:a.logoScale,logoBackgroundColor:a.logoBackgroundColor,correctLevel:a.correctLevel,logoMargin:a.logoMargin,logoCornerRadius:a.logoCornerRadius,whiteMargin:l(a.whiteMargin),dotScale:a.dotScale,autoColor:l(a.autoColor),binarize:l(a.binarize),binarizeThreshold:a.binarizeThreshold,components:a.components}).draw().then((e=>{this.imgUrl=e,a.callback&&a.callback(e,a.qid)}))}}};function Dt(e){e.__source="node_modules/vue-qr/src/packages/vue-qr.vue"}var St=o(83744);"function"===typeof Dt&&Dt(xt);const Ut=(0,St.Z)(xt,[["render",n]]);var At=Ut}}]);